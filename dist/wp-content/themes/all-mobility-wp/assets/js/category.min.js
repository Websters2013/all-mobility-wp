!function(){var e=!0;Number.prototype.formatMoney=function(e,n,t){var i=this,e=isNaN(e=Math.abs(e))?2:e,n=void 0==n?".":n,t=void 0==t?",":t,o=i<0?"-":"",s=String(parseInt(i=Math.abs(Number(i)||0).toFixed(e))),r=(r=s.length)>3?r%3:0;return o+(r?s.substr(0,r)+t:"")+s.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+t)+(e?n+Math.abs(i-s).toFixed(e).slice(2):"")},$(function(){$(".site__menu").each(function(){new n($(this)),new t($(this))}),$(".not-found").each(function(){new i($(this))}),$(".confirmation").each(function(){new i($(this))}),$("#wpsl-stores").each(function(){$(this).perfectScrollbar({wheelPropagation:!0})}),$(".checkout").each(function(){new o($(this))}),$(".product__items").each(function(){new s($(this))})});var n=function(e){var n=e,t=n.find(".site__menu-item"),i=n.find(".site__menu-icon"),o=$(window),s=null,r=o.width(),a=function(){o.on({resize:function(){r>o.width()&&(r=o.width(),o.find(".opened").removeClass("opened"))}}),$("body").on("click",".site__menu-icon",function(){if(jQuery(window).width()<1e3){var e=jQuery(this),n=e.parent("li");n.hasClass("opened")?n.removeClass("opened"):n.addClass("opened")}return!1}),i.on({click:function(){var e=jQuery(this),n=e.parents("li"),t=n.find(".site__menu-sub");return o.width()<1024&&(n.hasClass("opened")?(n.removeClass("opened"),t.slideUp()):(n.addClass("opened"),t.slideDown())),!1}}),t.on({mouseenter:function(){if(o.width()>=1024){var e=$(this);e.parent("ul");if(e.hasClass("site__menu-item_sub")){e.addClass("opened");var n=e.find(".site__menu-sub");o.width()-(n.innerWidth()+e.offset().left)<0?e.offset().left+e.innerWidth()-n.innerWidth()<0?n.css({left:"50%","-webkit-transform":"translateX(-50%)",transform:"translateX(-50%)"}):n.css({left:e.position().left-n.innerWidth()+e.innerWidth()}):n.css({left:e.position().left})}}}}),$("[data-product]").on({mouseenter:function(){if(o.width()>=1024){$(".featured-product__loading").addClass("visible"),s&&(clearTimeout(s),s=null);var e=$(this),t=e.data("product");s=setTimeout(function(){console.log(t),n.find(".featured-product").find(".featured-product__title").text(t.name),n.find(".featured-product").find(".featured-product__pic img").attr("src",t.src),n.find(".featured-product").find(".btn").attr("href",t.href),n.find(".featured-product").find(".featured-product__price span").text(t.price),t.onSale?n.find(".featured-product").find(".featured-product__remark").addClass("visible"):n.find(".featured-product").find(".featured-product__remark").removeClass("visible"),t.oldPrice?n.find(".featured-product").find(".featured-product__price del").text(t.oldPrice):n.find(".featured-product").find(".featured-product__price del").addClass("hidden")},160),s=setTimeout(function(){$(".featured-product__loading").removeClass("visible")},200)}}}),n.on("mouseleave",function(){o.width()>=1024&&$(this).find(".opened").removeClass("opened")}),n.find("ul").on("mouseleave",function(){o.width()>=1024&&$(this).find(".opened").removeClass("opened")}),n.find("li").on("mouseleave",function(){o.width()>=1024&&$(this).removeClass("opened")})},d=function(){a()};d()},t=function(n){var t,i,o=this,s=n,r=$(window),a=!1,d=$(".site__header"),c=$(".site__hidden-items"),u=d.innerHeight(),f=$(".site__header-btn"),l=$(".site__hidden-close"),h=$(".search"),p=$(".search-btn"),_=$(".search__cancel"),m=$(".site__hidden-btn"),v=$(".site"),w=$("html"),C=($(".site__content"),function(){$(document).on("click",".search",function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),$(document).on("click","body",function(){x()}),f.on({click:function(){k($(this))}}),l.on({click:function(){return T(),!1}}),p.on({click:function(){return y($(this)),!1}}),_.on({click:function(){return x(),!1}}),r.on({scroll:function(e){b(),a=r.scrollTop()>=u,0==r.scrollTop()&&d.removeClass("site__header_hidden")},DOMMouseScroll:function(e){var n=e.originalEvent.detail;if(n){var t=n>0?1:-1;g(t)}},mousewheel:function(e){var n=e.originalEvent.wheelDelta;if(n){var t=n>0?-1:1;g(t)}},touchmove:function(e){var n=e.originalEvent.touches[0].clientY;n>t?g(-1):n<t&&g(1),t=n},keydown:function(e){switch(e.which){case 32:g(1);break;case 33:g(-1);break;case 34:g(1);break;case 35:g(1);break;case 36:g(-1);break;case 38:g(-1);break;case 40:g(1);break;default:return}},resize:function(){r.width()>=1024&&(v.css({height:""}),setTimeout(function(){v.height()>r.height()&&w.css({"overflow-y":""})},10))}})}),g=function(n){n>0&&!d.hasClass("site__header_hidden")&&!f.hasClass("opened")&&a&&d.addClass("site__header_hidden"),n<0&&d.hasClass("site__header_hidden")&&!f.hasClass("opened")&&a&&e&&d.removeClass("site__header_hidden")},b=function(){r.scrollTop()>u+150?d.addClass("fixed"):d.removeClass("fixed")},k=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),c.removeClass("opened")):(n.addClass("opened"),c.addClass("opened")),i=r.scrollTop(),setTimeout(function(){v.height()>r.height()&&w.css({"overflow-y":"scroll"}),setTimeout(function(){v.css({height:"100%"})},10)},300)},y=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),h.removeClass("active"),m.removeClass("hidden")):(n.addClass("opened"),h.addClass("active"),m.addClass("hidden"))},T=function(){f.removeClass("opened"),c.removeClass("opened"),h.find("input").focusout(),v.css({height:""}),setTimeout(function(){v.height()>r.height()&&w.css({"overflow-y":""}),r.scrollTop(i)},10)},x=function(){p.removeClass("opened"),h.removeClass("active"),m.removeClass("hidden")},H=function(){s[0].obj=o,C(),b()};H()},i=function(e){var n=e,t=$(window),i=t.width(),o=function(){t.on({resize:function(){i!=t.width()&&(i=t.width(),s())}})},s=function(){n.css({minHeight:""}),n.css({minHeight:t.height()-$(".site__header").innerHeight()-$(".site__footer").innerHeight()-$(".breadcrumbs").innerHeight()})},r=function(){o(),s()};r()},o=function(e){var n=e,t=n.find(".total-order"),i=function(){},o=function(){n.css({minHeight:t.innerHeight()})},s=function(){i(),o()};s()},s=function(e){var n=e.find("form");n.on("change",function(){var t=e.find("form>.websters-select select"),i=n.find(".variations select"),o=i.length,s=e.attr("data-price"),r=$(".product__price>span>span").text();if(o>0){var a=0;if(i.each(function(){$(this).val()&&a++}),a!==i.length)return!1;""!==n.find(".featured-product__price .price").text().trim()&&(s=$(".price>span").text(),r=$(".price>span>span").text())}s=parseFloat(s.slice(1).split(",").join("")),t.each(function(){var e=$(this).val();e>0&&$(this).find("option").each(function(){$(this).val()===e&&(s+=+$(this).data("price"))})}),$(".price").css("display","none"),0===n.find(".featured-product__price>strong").length&&n.find(".featured-product__price").append('<strong class="product__price"></strong>'),s="<span>"+r+"</span>"+s.formatMoney(2,".",","),n.find(".featured-product__price>strong").html(s)})}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n=this,t=40,i=$(".popup__open"),e=o,p=e.find(".popup__close, .popup__cancel"),c=e.find(".popup__wrap"),u=e.find(".popup__content"),s=$("html"),d=$(window),a=setTimeout(function(){},1),f=function(){d.height()-2*t-c.height()>0?c.css({top:(d.height()-2*t-c.height())/2}):c.css({top:0})},r=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},l=function(){e.css({overflowY:"hidden"}),s.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),a=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},h=function(){e[0].obj=n,_()},_=function(){d.on({resize:function(){f()}}),i.on({click:function(){return v($(this).attr("data-popup")),!1}}),u.find(">div").on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return l(),!1}}),p.on({click:function(){return l(),!1}})},v=function(o){m(o),s.css({overflowY:"hidden",paddingRight:r()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};h()}}();
"use strict";!function(){$(function(){$.each($(".product__slider"),function(){new i($(this))}),$.each($(".featured-products"),function(){new s($(this))})});var i=function(i){var s=this,o=i,e=function(){o[0].obj=s,n()},n=function(){$(".slider-for").slick({slidesToShow:1,slidesPerRow:1,slidesToScroll:1,arrows:!1,infinite:!0,asNavFor:".slider-nav"}),$(".slider-nav").slick({slidesToShow:4,slidesPerRow:4,asNavFor:".slider-for",dots:!1,arrows:!1,infinite:!0,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:1360,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:412,settings:{slidesToShow:3,slidesToScroll:3}}]})};e()},s=function(i){var s,o,e=this,n=i,t=$(window),r=n.find(".swiper-pagination"),d=n.find(".swiper-button-prev"),l=n.find(".swiper-button-next"),c=!1,u=function(){n[0].obj=e,a(),t.width()<=768?o=!1:(o=!0,p())},a=function(){t.on({resize:function(){t.width()<=768?o&&(o=!1,f()):o||(o=!0,p())}})},f=function(){s.slick("unslick")},p=function(){w(),s=$(".featured-products__wrapper").slick({dots:!0,slidesToShow:5,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,prevArrow:d,nextArrow:l,appendDots:r,responsive:[{breakpoint:1440,settings:{slidesToShow:4}}]})},w=function(){t.width()>=1024?n.find(".featured-products__slide").length>=4&&(c=!0):t.width()>=1425&&n.find(".featured-products__slide").length>=5&&(c=!0),c||n.find(".featured-products__controls").css({display:"none"})};u()}}();
!function(){$(function(){$("select").each(function(){new t({obj:$(this),optionType:1,showType:2})})});var e=setTimeout(function n(){$(".woocommerce-cc-month, .woocommerce-cc-year").each(function(){console.log($(this).parent().hasClass("websters-select")),$(this).parent().hasClass("websters-select")||new t({obj:$(this),optionType:1,showType:2})}),e=setTimeout(n,2e3)},2e3),t=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=$('<span class="websters-select__item"></span>'),d=$('<div class="websters-select"></div>'),p=$(window),f=$("body"),u=!1,h=function(){var e="";o.css({opacity:0}),o.wrap(d),d=o.parent(),d.append('<div class="websters-select__arrow"></div>'),o.before(l),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),l.text(_findFree(e))},w=function(){u=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),d.removeClass("websters-select_opened")},b=function(){o[0].obj=i,h(),m(),v()},v=function(){o.on("change",function(){l.html(_findFree($(this).find("option:selected").text()))}),$(document).on("change","select",function(){$(this).prev().text($(this).find("option:selected").text())}),1!=s||r||d.on({click:function(e){e.stopPropagation(),u?w():x()}}),f.on({click:function(){u&&w()}}),p.on({scroll:function(){u&&w()}})},m=function(){!s||r?g():1==s&&_()},_=function(){d.addClass("websters-select_custom")},g=function(){d.addClass("websters-select_mobile")},x=function(){var e=$("select"),i=$("<ul></ul>"),s=(p.scrollTop(),d.offset()),r=0,l=o.find("option:selected").index(),h=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),u&&t.remove(),u=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+h+'"></div>'),o.find("option").each(function(e){var t=$(this),n=t.text();e==l?i.append('<li class="active">'+_findFree(n)+"</li>"):i.append("<li>"+_findFree(n)+"</li>")}),t.append(i),f.append(t),d.addClass("websters-select_opened"),t.css({width:d.outerWidth(),left:s.left,top:s.top+d.outerHeight()}),r=t.outerHeight(),r>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.perfectScrollbar()),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),w()}})};_findFree=function(e){return indexFree=e.indexOf("free"),indexFree!==-1&&(e=e.slice(0,indexFree)+"<span>FREE</span>"+e.slice(indexFree+4)),e},i.checkOpened=function(){return u},i.close=function(){w()},b()}}();
!function(){$(function(){$(".category").each(function(){new e($(this))})});var e=function(e){var a=e,t=$("body").data("action"),i=new XMLHttpRequest,n=a.find(".category__filters-item span"),s=a.find(".category__filters-title"),r=a.find(".category__filters-items"),c=(r.find("form"),a.find(".category__filtered-close")),o=a.find(".category__filters-list"),d=a.find(".category__filtered"),l=a.find(".category__filtered-list"),f=0,p=a.find(".category__filters-title"),v=a.find(".category__filters-title-inner"),h=a.find(".category__filtered .btn, .category__filters-clear"),u=(a.find(".category__filtered-remove"),a.find(".category__find-parameters")),g=!1,_=$('<div class="loading"></div>'),m=a.find("input[type=hidden].value-check"),y=a.find("input[type=hidden].current-page"),b=a.find("#items-page"),C=a.find("#sorting-date"),k=a.find(".category__wrap").data("rate-path"),w=a.find(".category__filters-apply"),x=$(window),P={},T=null,I=[],z=(a.find("input[name=_price]"),function(){x.on({resize:function(){n.each(function(){var e=$(this),a=e.parent(),t=e.next();a.hasClass("opened")&&t.css({"min-height":t.find(">div").innerHeight()})}),x.width()>=1024&&$(".site__content").css({"z-index":""})},load:function(){}}),n.on({click:function(){var e=$(this),a=e.parent(),t=e.next();a.hasClass("opened")?(a.removeClass("opened"),t.css({"min-height":0,height:0})):(a.addClass("opened"),t.css({"min-height":t.find(">div").innerHeight()}),setTimeout(function(){t.css({height:"auto"})},310))}}),s.on({click:function(){R()}}),h.on({click:function(){return y.val("1"),F(),!1}}),$(document).on("click",".pagination a",function(){var e=$(this),a=parseInt(e.text());return e.hasClass("pagination__prev")?1!=parseInt(y.val())&&(y.val(y.val()-1),D(),A()):e.hasClass("pagination__next")?e.prev().hasClass("active")||(y.val(parseInt(y.val())+1),D(),A()):a!=parseInt(y.val())&&(y.val(a),D(),A()),!1}),$(document).on("click",".category__filtered-remove",function(){var e=$(this),a=e.parent(),t=a.data("id"),i=a.data("name");return y.val("1"),M(t,i),!1}),c.on({click:function(){return R(),!1}}),w.on({click:function(){return R(),!1}}),o.find("input[type=checkbox]").on({change:function(){var e=$(this),a=e.next(),t=a.clone().children().remove().end().text(),i=e.attr("name"),n=e.data("id"),s=e.parents(".category__filters-item").find("span")[0].innerText,r=o.find("input[name="+i+"]:checked").length;g=e.prop("checked"),x.width()>=1024&&(D(),R()),console.log(r),E(i,n,g,r),y.val("1"),j(t,n,i,s),A()}}),b.on({change:function(){y.val("1"),D(),A()}}),C.on({change:function(){y.val("1"),D(),A()}}),u.on({submit:function(){return x.width()>=1024&&D(),u.find("select").each(function(){var e=$(this),a=e.attr("name"),t=e.val();E(a,t,"select",""),O(a)}),u.find("input[type=radio]:checked").each(function(){var e=$(this),a=e.attr("name"),t=e.data("id");E(a,t,"radio",""),O(a)}),y.val("1"),A(),!1}})}),j=function(e,a,t,i){g?l.append("<li data-name="+t+' data-id="'+a+'">'+i+": "+e+' <a href="#" class="category__filtered-remove"></a></li>'):l.find('li[data-id="'+a+'"]').remove(),f=l.find("li").length,f>0?(d.removeClass("hidden"),p.find("span").html("("+f+")"),v.find("span").html("("+f+")"),p.addClass("selected"),h.removeClass("hidden")):(d.addClass("hidden"),p.find("span").html(""),v.find("span").html(""),p.removeClass("selected"),h.addClass("hidden"))},D=function(){_=$('<div class="loading"></div>'),$(".category__content").append(_),_.css({top:$(".category__wrap").position().top-20})},H=function(){T&&(clearTimeout(T),T=null),T=setTimeout(function(){$(".loading").addClass("hidden")},300),T=setTimeout(function(){$(".loading").remove()},620)},F=function(){d.addClass("hidden"),p.find("span").html(""),v.find("span").html(""),p.removeClass("selected"),l.find("li").remove(),o.find("input[type=checkbox]").prop("checked",!1),m.val(""),D(),A()},M=function(e,a){o.find('input[data-id="'+e+'"]').prop("checked",!1),g=!1,j("",e,"",""),D(),E(a,e,g,""),A()},O=function(e){o.find('input[name="'+e+'"]').each(function(){var e=$(this),a=e.data("id");o.find('input[data-id="'+a+'"]').prop("checked",!1),g=!1,j("",a,"","")})},R=function(){s.hasClass("opened")?(s.removeClass("opened"),r.removeClass("opened"),$(".site__content").css({"z-index":""})):(s.addClass("opened"),r.addClass("opened"),x.width()<1024&&$(".site__content").css({"z-index":100}))},S=function(e){var a=parseInt(e.settings.pagesAll),t=parseInt(e.settings.currentPage);if(y.val(t),1!=a&&0!=a){var i='<div class="pagination">';if(i+='<a href="#" class="pagination__prev"></a>',a<=7)for(var n=1;n<=a;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else{if(t<=3||t>a-3){for(var n=1;n<=3;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>";for(var n=a-2;n<=a;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>"}if(t>3&&t<=a-3){if(i+='<a href="#">1</a>',i+="<span>...</span>",t-1>3&&t+1<=a-3)for(var n=t-1;n<=t+1;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else if(t-1<=3)for(var n=t;n<=t+2;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else if(t+1>=a-3)for(var n=t-2;n<=t;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>",i+='<a href="#">'+a+"</a>"}if(8==a&&t>3&&t<=a-3){i+='<a href="#">1</a>',i+="<span>...</span>";for(var n=4;n<=5;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>",i+='<a href="#">'+a+"</a>"}}i+='<a href="#" class="pagination__next"></a>',i+="</div>",$(".pagination-wrap").html(i)}else $(".pagination").length&&$(".pagination").remove()},q=function(e){var a=e.products,t='<div class="products-subcategory">',i=[];if(void 0!=P.price)for(var n=0;n<=P.price.length-1;n++){var s=parseFloat(P.price[n].replace("$","").replace(",",""));i.push(s)}if(i.length){var r;if(0==startingPrice)r=Math.min.apply(null,i);else for(var n=0;n<=i.length-1;n++)if(i[n]>=startingPrice){r=i[n];break}}$.each(a,function(){var e,a=this,n=a.price[0],s=a.oldPrice[0];if(i.length)for(var c=0;c<=a.price.length-1;c++)if(e=parseFloat(a.price[c].replace("$","").replace(",","")),e>=r){n=a.price[c],s=a.oldPrice[c];break}if(t+='<div class="products-subcategory__item">',void 0!=a.featured&&""!=a.featured&&(t+='<span class="site__featured">'+a.featured+"</span>"),t+='<div class="products-subcategory__head">                                            <div>                                                <a href="'+a.urlDetails+'" class="products-subcategory__pic" style="background-image: url('+a.picture+')"></a>                                            </div>                                            <div>                                                <h2 class="products-subcategory__title"><a href="'+a.urlDetails+'">'+a.title+"</a></h2>",void 0!=a.rate){t+='<div class="rate">';for(var c=0;c<=a.rate.starsCount-1;c++)t+='<img src="'+k+'img/star.png" width="60" height="50" alt="">&nbsp;';t+='<a href="'+a.rate.urlReviews+'" class="rate__reviews">'+a.rate.reviewsCount+"</a>                                                </div>"}if(t+='</div>                                        </div>                                        <div class="products-subcategory__content">',void 0!=a.content.description&&""!=a.content.description){t+='<div>                                        <ul class="products-subcategory__description">';for(var c=0;c<=a.content.description.length-1;c++)t+="<li>"+a.content.description[c]+"</li>";t+="</ul>                                    </div>"}if(t+='<div>                                            <div class="products-subcategory__items">',void 0!=a.content.specification&&""!=a.content.specification){t+='<div>                    <div class="products-subcategory__specification">                                                        <div class="products-subcategory__specification-head">';for(var c=0;c<=a.content.specification.head.length-1;c++)t+='<div style="width:'+100/a.content.specification.head.length+'%">'+a.content.specification.head[c]+"</div>";t+='</div>                                                        <div class="products-subcategory__specification-content">';for(var c=0;c<=a.content.specification.content.length-1;c++)t+='<div style="width:'+100/a.content.specification.head.length+'%">'+a.content.specification.content[c]+"</div>";t+="</div>                                                    </div>                                                </div>"}t+=void 0!=s&&""!=s?'<div class="products-subcategory__footer">                                                    <div class="products-subcategory__price">                                                        <del>'+s+"</del> "+n+"                                                    </div>":'<div class="products-subcategory__footer">                                                    <div class="products-subcategory__price">                                                        '+n+"                                                    </div>",t+='<a href="'+a.urlDetails+'" class="btn btn_3">see details</a>                                                </div>                                            </div>                                        </div>                                    </div>                                    </div>'}),t+="</div>",$(".category__wrap").html(t),H()},A=function(){i.abort(),i=$.ajax({url:t,data:{action:"get_filtered_products",value:m.val(),pageSorting:b.val(),dateSorting:C.val(),currentPage:y.val(),idCategory:a.data("id-category"),additionalParameters:u.serialize()},dataType:"json",type:"get",success:function(e){q(e),S(e)},error:function(e){"abort"!=e.statusText&&console.log("Error")}})},E=function(e,a,t,i){if("radio"==t)P[e]=[a];else if("select"==t)0!=a?P[e]=[a]:delete P[e];else if(t)if(P.hasOwnProperty(e))if(1==i)P[e]=[a];else for(var n in P)n==e&&P[n].push(a);else P[e]=[a];else{for(var n in P)if(n==e){var s=P[n].indexOf(a);s!=-1&&P[n].splice(s,1)}0==P[e].length&&delete P[e]}var r="",c="",o="",d=[];for(var l in P){I=[];var f=P[l];I.push(f);for(var s=0;s<=I.length-1;s++)c=I.join(",");o=l+"="+c,d.push(o),r=d.join("&")}m.val(r)},L=function(){z(),a.hasClass("category_sub")&&(D(),A())};L()}}();
!function(){$(function(){$(".search").each(function(){new e($(this))})});var e=function(e){var t=e,i=t.find("input[type=search]"),a=new XMLHttpRequest,s=t.data("path"),n=0,o=0,r=i.val(),c=t.find(".search__result"),l=function(){i.on({keyup:function(e){if($(window).width()>=1024)switch(e.keyCode){case 13:0==c.find(".search__found li").filter(".active").length&&t.find("form").submit();break;case 32:case 27:case 37:case 38:case 39:case 40:break;default:var i=$(this).val();i.length>=t.data("symbols")?u($(this),i.length):""==$(this).val()&&(c.removeClass("visible"),n=0)}},keydown:function(e){if(c.find(".search__found").html(""),c.find(".top-products").html(""),n=0,$(window).width()>=1024)switch(e.keyCode){case 13:return 0==c.find(".search__found li").filter(".active").length?window.location.href=t.data("action"):window.location.href=c.find(".search__found li").filter(".active").find("a").attr("href"),!1;case 27:return c.remove(),n=0,!1;case 38:case 40:e.preventDefault(),o>0&&(d(e.keyCode),n==o&&(n=0))}}}),$("html").click(function(){c.removeClass("visible"),n=0}),$(document).on("click","body",function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),$(document).on("click",".search__found li",function(){var e=$(this),t=e.find("a").text();i.val(t),c.removeClass("visible"),n=0}),$(document).on("keydown",".search__found li",function(e){switch(e.keyCode){case 13:$(this).trigger("click")}})},d=function(e){c.find(".search__found li").removeClass("active"),t.parents().hasClass("site__footer")?(38==e&&n<o?n++:40==e&&n>0&&n--,n>0?(c.find(".search__found li").eq(-1-(n-1)).addClass("active"),i.val(c.find(".search__found li").eq(-1-(n-1)).find("a").text())):i.val(r)):(40==e&&n<o?n++:38==e&&n>0&&n--,n>0?(c.find(".search__found li").eq(n-1).addClass("active"),i.val(c.find(".search__found li").eq(n-1).find("a").text())):i.val(r))},f=function(e){var e=e,t=e.categories,i=0!=t.length,a=e.products,s=0!=a.length,n=[],r=[],l=!0;if(s){var d='<div class="top-products__wrap">';$.each(a,function(){var e=this;d+='<div>                                                <div class="top-products__item">                                                    <div class="top-products__pic" style="background-image: url('+e.src+')">                                                    </div>                                                    <span class="top-products__price"><del>'+e.oldPrice+"</del> "+e.price+'</span>                                                    <h3 class="top-products__item-title">'+e.name+'</h3>                                                    <a href="'+e.href+'" class="top-products__btn">view</a>                                                </div>                                            </div>',i||n.push([e.categories.mainCategory,e.categories.urlMainCategory,e.categories.subcategories,e.categories.urlSubcategories])}),d+="</div>",c.find("div").eq(1).find(".top-products").html('<h2 class="top-products__title">Top Products</h2>'+d);var f='<ul class="search__found">';if(i)$.each(t,function(){var e=this.subcategories,t=this.urlSubcategories,i="";if(void 0!=e){for(var a=0;a<=e.length-1;a++)i+='<li class="search__found-sub"><a href="'+t[a]+'">'+e[a]+"</a></li>";i+=""}f+='<li><a href="'+this.urlCategory+'">'+this.name+"</a></li>"+i});else{for(var u=0;u<=n.length-1;u++)if(l&&(r.push(n[u]),l=!1),r[r.length-1][0]!=n[u][0])r.push(n[u]);else for(var h=0;h<=n[u].length-1;h++)for(var v=0;v<=n[u][2].length-1;v++)r[r.length-1][2].indexOf(n[u][2][v])==-1&&r[r.length-1][2].push(n[u][2][v]);for(var _=0,u=0;u<=r.length-1;u++){for(var h=0;h<=r[u].length-1;h++){for(var p="",v=0;v<=r[u][2].length-1;v++)p+='<li class="search__found-sub"><a href="'+r[u][3][v]+'">'+r[u][2][v]+"</a></li>",_++;p+=""}f+='<li><a href="'+r[u][1]+'">'+r[u][0]+"</a></li>"+p}}f+="</ul>",c.find("div:first").html(f),c.find(".search__found").find("li:not(:lt(11))").remove(),o=c.find(".search__found").find("li").length,c.addClass("visible")}else c.removeClass("visible")},u=function(e,t){return a.abort(),a=$.ajax({url:s,data:{value:e.val(),action:"main_search"},dataType:"json",type:"get",success:function(e){0!=Object.keys(e).length&&f(e)},error:function(e){"abort"!=e.statusText&&console.log("Error")}}),!1},h=function(){l()};h()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5LnByb2R1Y3Qtc2xpZGVyLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyIsImpxdWVyeS5maWx0ZXJzLmpzIiwianF1ZXJ5LnNlYXJjaC5qcyJdLCJuYW1lcyI6WyJnbG9iYWxTY3JvbGxGbGFnIiwiTnVtYmVyIiwicHJvdG90eXBlIiwiZm9ybWF0TW9uZXkiLCJjIiwiZCIsInQiLCJuIiwidGhpcyIsImlzTmFOIiwiTWF0aCIsImFicyIsInVuZGVmaW5lZCIsInMiLCJpIiwiU3RyaW5nIiwicGFyc2VJbnQiLCJ0b0ZpeGVkIiwiaiIsImxlbmd0aCIsInN1YnN0ciIsInJlcGxhY2UiLCJzbGljZSIsIiQiLCJlYWNoIiwiU3ViTWVudSIsIk1lbnUiLCJGdWxsSGVpZ2h0IiwicGVyZmVjdFNjcm9sbGJhciIsIndoZWVsUHJvcGFnYXRpb24iLCJDaGVja291dEhlaWdodCIsIkNoYW5nZVByaWNlIiwib2JqIiwiX29iaiIsIl9pdGVtcyIsImZpbmQiLCJfYXJyb3ciLCJfd2luZG93Iiwid2luZG93IiwidGltZW91dCIsIl9zdGFydFdpbldpZHRoIiwid2lkdGgiLCJfYWRkRXZlbnRzIiwib24iLCJyZXNpemUiLCJyZW1vdmVDbGFzcyIsImpRdWVyeSIsImN1ckl0ZW0iLCJwYXJlbnQiLCJoYXNDbGFzcyIsImFkZENsYXNzIiwiY2xpY2siLCJwYXJlbnRzIiwic3ViTWVudSIsInNsaWRlVXAiLCJzbGlkZURvd24iLCJtb3VzZWVudGVyIiwiaW5uZXJXaWR0aCIsIm9mZnNldCIsImxlZnQiLCJjc3MiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsInBvc2l0aW9uIiwiY2xlYXJUaW1lb3V0IiwiZGF0YSIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwibG9nIiwidGV4dCIsIm5hbWUiLCJhdHRyIiwic3JjIiwiaHJlZiIsInByaWNlIiwib25TYWxlIiwib2xkUHJpY2UiLCJfaW5pdCIsIl9sYXN0UG9zIiwic2l0ZVNjcm9sbFRvcCIsIl9zZWxmIiwiX21lbnUiLCJfYWN0aW9uIiwiX2hlYWRlciIsIl9oaWRkZW5CbG9ja01lbnUiLCJfaGVhZGVySGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJfc2hvd0J0biIsIl9jbG9zZUJ0biIsIl9zZWFyY2giLCJfb3BlblNlYXJjaCIsIl9jbG9zZVNlYXJjaCIsIl9nZXRGcmVlIiwiX3NpdGUiLCJfZG9tIiwiZG9jdW1lbnQiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsIl9jbG9zZVNlYXJjaEJveCIsIl9vcGVuTWVudSIsIl9jbG9zZU1lbnUiLCJfb3BlblNlYXJjaEJveCIsInNjcm9sbCIsImUiLCJfZml4ZWRIZWFkZXIiLCJzY3JvbGxUb3AiLCJET01Nb3VzZVNjcm9sbCIsImRlbHRhIiwib3JpZ2luYWxFdmVudCIsImRldGFpbCIsImRpcmVjdGlvbiIsIl9jaGVja1Njcm9sbCIsIm1vdXNld2hlZWwiLCJ3aGVlbERlbHRhIiwidG91Y2htb3ZlIiwiY3VycmVudFBvcyIsInRvdWNoZXMiLCJjbGllbnRZIiwia2V5ZG93biIsIndoaWNoIiwiaGVpZ2h0Iiwib3ZlcmZsb3cteSIsImVsZW0iLCJmb2N1c291dCIsIl9nbG9iYWxXaW5XaWR0aCIsIl9zZXRIZWlnaHQiLCJtaW5IZWlnaHQiLCJfdG90YWxPcmRlciIsImZvcm0iLCIkdXBzZWxscyIsInZhcmlhdGlvbiIsInZhcmlhdGlvbkNvdW50Iiwic3ltYm9sIiwiY291bnRlciIsInZhbCIsInRyaW0iLCJwYXJzZUZsb2F0Iiwic3BsaXQiLCJqb2luIiwic2VsZWN0IiwiYXBwZW5kIiwiaHRtbCIsIlBvcHVwIiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwiX2NlbnRlcldyYXAiLCJ0b3AiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsInNjcm9sbERpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJfaGlkZSIsIm92ZXJmbG93WSIsInBhZGRpbmdSaWdodCIsIl9vbkV2ZW50cyIsIl9zaG93IiwiX3NldFBvcHVwQ29udGVudCIsImN1ckNvbnRlbnQiLCJmaWx0ZXIiLCJkaXNwbGF5IiwiUHJvZHVjdFNsaWRlciIsIkZlYXR1cmVkUHJvZHVjdHNTbGlkZXIiLCJfY29uc3RydWN0b3IiLCJfaW5pdFNsaWRlciIsInNsaWNrIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzUGVyUm93Iiwic2xpZGVzVG9TY3JvbGwiLCJhcnJvd3MiLCJpbmZpbml0ZSIsImFzTmF2Rm9yIiwiZG90cyIsImNlbnRlck1vZGUiLCJmb2N1c09uU2VsZWN0IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsIl9zbGlkZXIiLCJfZmxhZyIsIl9wYWdpbmF0aW9uIiwiX3ByZXYiLCJfbmV4dCIsIl9sb29wIiwiX2Rlc3Ryb3kiLCJfYWRkU29tZVBhcmFtcyIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImFwcGVuZERvdHMiLCJXZWJzdGVyc1NlbGVjdCIsIm9wdGlvblR5cGUiLCJzaG93VHlwZSIsInRpbWVySWQiLCJ0aWNrIiwicGFyYW1zIiwiX3BvcHVwIiwiX3Njcm9sbCIsIl9vcHRpb25UeXBlIiwiX3Nob3dUeXBlIiwiX3Zpc2libGUiLCJ2aXNpYmxlIiwiX2RldmljZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJfdGV4dCIsIl9ib2R5IiwiX29wZW5lZCIsIl9hZGRXcmFwIiwiY3VyVGV4dCIsIm9wYWNpdHkiLCJ3cmFwIiwiYmVmb3JlIiwiZXEiLCJfZmluZEZyZWUiLCJfaGlkZVBvcHVwIiwic3RvcCIsInJlbW92ZSIsImZhZGVPdXQiLCJfc2VsZWN0Vmlld1R5cGUiLCJwcmV2IiwiX3Nob3dQb3B1cCIsIl9zZXRNb2JpbGVWaWV3IiwiX3NldEN1c3RvbTEiLCJzZWxlY3RzIiwibGlzdCIsIm1heEhlaWdodCIsImN1ckluZGV4IiwiaW5kZXgiLCJpZCIsInJvdW5kIiwicmFuZG9tIiwiY2hlY2tPcGVuZWQiLCJjbG9zZSIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsImFuaW1hdGUiLCJ0cmlnZ2VyIiwiaW5kZXhGcmVlIiwiaW5kZXhPZiIsIkZpbHRlcnMiLCJfcGF0aCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfYnRuIiwiX2J0bjIiLCJfZmlsdGVycyIsIl9jbG9zZUZpbHRlcnMiLCJfZmlsdGVySXRlbSIsIl9maWx0ZXJlZCIsIl9maWx0ZXJlZExpc3QiLCJfY291bnRGaWx0ZXJlZCIsIl90aXRsZSIsIl90aXRsZUlubmVyIiwiX2NsZWFyRmlsdGVycyIsIl9hZGRpdGlvbmFsUGFyYW1ldGVycyIsIl9nbG9iYWxDaGVja0ZsYWciLCJfbG9hZGluZyIsIl9pbnB1dEhpZGRlbiIsIl9pbnB1dEhpZGRlblBhZ2UiLCJfc29ydGluZ1BhZ2UiLCJfc29ydGluZ0RhdGUiLCJfZGF0YVJhdGVQYXRoIiwiX2FwcGx5IiwiX29ialZhbHVlIiwiX3RpbWVvdXQiLCJfYXJyIiwibmV4dEZpbHRlcnMiLCJuZXh0IiwibWluLWhlaWdodCIsInotaW5kZXgiLCJsb2FkIiwiX2Nsb3NlRmlsdGVyIiwiX2NsZWFyRmlsdGVyIiwidmFsdWUiLCJfYWRkTG9hZGluZyIsIl9yZXF1ZXN0Q29udGVudCIsImRhdGFJZCIsImRhdGFOYW1lIiwiX2NsZWFyU2luZ2xlRmlsdGVyIiwiY2hhbmdlIiwibGFiZWwiLCJsYWJlbFRleHQiLCJjbG9uZSIsImNoaWxkcmVuIiwiZW5kIiwiY2F0ZWdvcnlOYW1lIiwiaW5uZXJUZXh0IiwiY291bnRHcm91cENoZWNrIiwicHJvcCIsIl93cml0ZUluSGlkZGVuIiwiX2FkZGluZ0ZpbHRlcmVkQnkiLCJzdWJtaXQiLCJfY2xlYXJHcm91cEZpbHRlcnMiLCJpdGVtVGV4dCIsIml0ZW1JZCIsIml0ZW1OYW1lIiwiX2Nsb3NlTG9hZGluZyIsIl9jcmVhdGVQYWdpbmF0aW9uIiwicGFnZXMiLCJwYWdlc0FsbCIsImFjdGl2ZVBhZ2UiLCJjdXJyZW50UGFnZSIsInBhZ2luYXRpb25XcmFwIiwiX3Bhc3RlTmV3UHJvZHVjdHMiLCJuZXdEYXRhIiwicHJvZHVjdHMiLCJwcm9kdWN0c1dyYXAiLCJuZXdBcnJQcmljZVJhbmdlIiwicHJpY2VJdGVtIiwicHVzaCIsInByaWNlUmFuZ2UiLCJzdGFydGluZ1ByaWNlIiwibWluIiwiYXBwbHkiLCJwcm9kdWN0Iiwic2FsZVByaWNlIiwiZmVhdHVyZWQiLCJ1cmxEZXRhaWxzIiwicGljdHVyZSIsInRpdGxlIiwicmF0ZSIsInN0YXJzQ291bnQiLCJ1cmxSZXZpZXdzIiwicmV2aWV3c0NvdW50IiwiY29udGVudCIsImRlc2NyaXB0aW9uIiwic3BlY2lmaWNhdGlvbiIsImhlYWQiLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJhY3Rpb24iLCJwYWdlU29ydGluZyIsImRhdGVTb3J0aW5nIiwiaWRDYXRlZ29yeSIsImFkZGl0aW9uYWxQYXJhbWV0ZXJzIiwic2VyaWFsaXplIiwiZGF0YVR5cGUiLCJ0eXBlIiwic3VjY2VzcyIsIm0iLCJlcnJvciIsInN0YXR1c1RleHQiLCJjaGVja0ZsYWciLCJoYXNPd25Qcm9wZXJ0eSIsInNwbGljZSIsInN0ckZpbmlzaCIsInN0clZhbHVlcyIsInN0ckZ1bGwiLCJhcnJBbGwiLCJrZXkiLCJpdGVtIiwiU2VhcmNoIiwiX2lucHV0Iiwic3VnZ2VzdFNlbGVjdGVkIiwiY291bnRJdGVtcyIsInZhbHVlSW5wdXQiLCJfcmVzdWx0Iiwia2V5dXAiLCJJIiwia2V5Q29kZSIsIl9hamF4UmVxdWVzdCIsImxvY2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJfa2V5QWN0aXZhdGUiLCJfYWRkRGF0YSIsImNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzQXZhaWxhYmlsaXR5IiwicHJvZHVjdHNBdmFpbGFiaWxpdHkiLCJhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnIiLCJwcm9kdWN0c0NhdGVnb3JpZXNBcnIiLCJmbGFnIiwibWFpbkNhdGVnb3J5IiwidXJsTWFpbkNhdGVnb3J5Iiwic3ViY2F0ZWdvcmllcyIsInVybFN1YmNhdGVnb3JpZXMiLCJyZXN1bHRTdHIiLCJzdWJjYXRlZ29yaWVzV3JhcCIsInVybENhdGVnb3J5IiwieiIsImNvdW50IiwiaW5wdXQiLCJtc2ciLCJPYmplY3QiLCJrZXlzIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVJLEdBQUlBLElBQW1CLENBRXZCQyxRQUFPQyxVQUFVQyxZQUFjLFNBQVNDLEVBQUdDLEVBQUdDLEdBQzFDLEdBQUlDLEdBQUlDLEtBQ0pKLEVBQUlLLE1BQU1MLEVBQUlNLEtBQUtDLElBQUlQLElBQU0sRUFBSUEsRUFDakNDLEVBQVNPLFFBQUxQLEVBQWlCLElBQU1BLEVBQzNCQyxFQUFTTSxRQUFMTixFQUFpQixJQUFNQSxFQUMzQk8sRUFBSU4sRUFBSSxFQUFJLElBQU0sR0FDbEJPLEVBQUlDLE9BQU9DLFNBQVNULEVBQUlHLEtBQUtDLElBQUlWLE9BQU9NLElBQU0sR0FBR1UsUUFBUWIsS0FDekRjLEdBQUtBLEVBQUlKLEVBQUVLLFFBQVUsRUFBSUQsRUFBSSxFQUFJLENBQ3JDLE9BQU9MLElBQUtLLEVBQUlKLEVBQUVNLE9BQU8sRUFBR0YsR0FBS1osRUFBSSxJQUFNUSxFQUFFTSxPQUFPRixHQUFHRyxRQUFRLGlCQUFrQixLQUFPZixJQUFNRixFQUFJQyxFQUFJSyxLQUFLQyxJQUFJSixFQUFJTyxHQUFHRyxRQUFRYixHQUFHa0IsTUFBTSxHQUFLLEtBR2hKQyxFQUFFLFdBRUVBLEVBQUUsZUFBZUMsS0FBSyxXQUVsQixHQUFJQyxHQUFTRixFQUFFZixPQUNmLEdBQUlrQixHQUFNSCxFQUFFZixTQUloQmUsRUFBRSxjQUFjQyxLQUFLLFdBRWpCLEdBQUlHLEdBQVlKLEVBQUVmLFNBSXRCZSxFQUFFLGlCQUFpQkMsS0FBSyxXQUVwQixHQUFJ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QU0sQ0FJM0QsSUFBSyxHQUZEcVgsR0FBb0IsR0FFZkUsRUFBSSxFQUFHQSxHQUFLVCxFQUFzQmxYLEdBQUcsR0FBR0ssT0FBTyxFQUFHc1gsSUFFdkRGLEdBQXFCLDBDQUE0Q1AsRUFBc0JsWCxHQUFHLEdBQUcyWCxHQUFLLEtBQU9ULEVBQXNCbFgsR0FBRyxHQUFHMlgsR0FBSyxZQUMxSUMsR0FJSkgsSUFBcUIsR0FJekJELEdBQWEsZ0JBQWtCTixFQUFzQmxYLEdBQUcsR0FBSyxLQUFPa1gsRUFBc0JsWCxHQUFHLEdBQUssWUFBYXlYLEdBTXZIRCxHQUFhLFFBRWJuQixFQUFRaFYsS0FBSyxhQUFhMkcsS0FBS3dQLEdBRS9CbkIsRUFBUWhWLEtBQUssa0JBQWtCQSxLQUFLLG1CQUFtQm1NLFNBRXZEMkksRUFBYUUsRUFBUWhWLEtBQUssa0JBQWtCQSxLQUFLLE1BQU1oQixPQUV2RGdXLEVBQVFqVSxTQUFTLGVBSWpCaVUsR0FBUXRVLFlBQVksWUFJNUIwVSxFQUFnQixTQUFVb0IsRUFBT3BZLEdBeUI3QixNQXZCQXdQLEdBQVN1RixRQUNUdkYsRUFBV3hPLEVBQUVnVSxNQUNUQyxJQUFLMUYsRUFDTDdMLE1BQ0k4TixNQUFPNEcsRUFBTXBRLE1BQ2JrTixPQUFPLGVBRVhNLFNBQVUsT0FDVkMsS0FBTSxNQUNOQyxRQUFTLFNBQVcyQyxHQUVlLEdBQTNCQyxPQUFPQyxLQUFLRixHQUFLelgsUUFDakJ3VyxFQUFVaUIsSUFJbEJ6QyxNQUFPLFNBQVVuRyxHQUNvQixTQUE3QkEsRUFBZW9HLFlBQ2ZqUyxRQUFRQyxJQUFJLGFBS2pCLEdBRVhTLEVBQVEsV0FDSm5DLElBT1JtQyIsImZpbGUiOiJjYXRlZ29yeS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgdmFyIGdsb2JhbFNjcm9sbEZsYWcgPSB0cnVlO1xyXG5cclxuICAgIE51bWJlci5wcm90b3R5cGUuZm9ybWF0TW9uZXkgPSBmdW5jdGlvbihjLCBkLCB0KXtcclxuICAgICAgICB2YXIgbiA9IHRoaXMsXHJcbiAgICAgICAgICAgIGMgPSBpc05hTihjID0gTWF0aC5hYnMoYykpID8gMiA6IGMsXHJcbiAgICAgICAgICAgIGQgPSBkID09IHVuZGVmaW5lZCA/IFwiLlwiIDogZCxcclxuICAgICAgICAgICAgdCA9IHQgPT0gdW5kZWZpbmVkID8gXCIsXCIgOiB0LFxyXG4gICAgICAgICAgICBzID0gbiA8IDAgPyBcIi1cIiA6IFwiXCIsXHJcbiAgICAgICAgICAgIGkgPSBTdHJpbmcocGFyc2VJbnQobiA9IE1hdGguYWJzKE51bWJlcihuKSB8fCAwKS50b0ZpeGVkKGMpKSksXHJcbiAgICAgICAgICAgIGogPSAoaiA9IGkubGVuZ3RoKSA+IDMgPyBqICUgMyA6IDA7XHJcbiAgICAgICAgcmV0dXJuIHMgKyAoaiA/IGkuc3Vic3RyKDAsIGopICsgdCA6IFwiXCIpICsgaS5zdWJzdHIoaikucmVwbGFjZSgvKFxcZHszfSkoPz1cXGQpL2csIFwiJDFcIiArIHQpICsgKGMgPyBkICsgTWF0aC5hYnMobiAtIGkpLnRvRml4ZWQoYykuc2xpY2UoMikgOiBcIlwiKTtcclxuICAgIH07XHJcblxyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoJy5zaXRlX19tZW51JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBuZXcgU3ViTWVudSggJCh0aGlzKSApO1xyXG4gICAgICAgICAgICBuZXcgTWVudSggJCh0aGlzKSApO1xyXG5cclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQoJy5ub3QtZm91bmQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBGdWxsSGVpZ2h0KCAkKHRoaXMpICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJCgnLmNvbmZpcm1hdGlvbicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgbmV3IEZ1bGxIZWlnaHQoICQodGhpcykgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkKCcjd3BzbC1zdG9yZXMnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykucGVyZmVjdFNjcm9sbGJhcih7XHJcbiAgICAgICAgICAgICAgICB3aGVlbFByb3BhZ2F0aW9uOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICQoJy5jaGVja291dCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgbmV3IENoZWNrb3V0SGVpZ2h0KCAkKHRoaXMpICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgJCgnLnByb2R1Y3RfX2l0ZW1zJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBuZXcgQ2hhbmdlUHJpY2UoICQodGhpcykgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0gKTtcclxuXHJcbiAgICB2YXIgU3ViTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX2l0ZW1zID0gX29iai5maW5kKCcuc2l0ZV9fbWVudS1pdGVtJyksXHJcbiAgICAgICAgICAgIF9hcnJvdyA9IF9vYmouZmluZCgnLnNpdGVfX21lbnUtaWNvbicpLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxyXG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbCxcclxuICAgICAgICAgICAgX3N0YXJ0V2luV2lkdGggPSBfd2luZG93LndpZHRoKCk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcblxyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc3RhcnRXaW5XaWR0aCA+IF93aW5kb3cud2lkdGgoKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RhcnRXaW5XaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd2luZG93LmZpbmQoJy5vcGVuZWQnKS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLnNpdGVfX21lbnUtaWNvbicsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggalF1ZXJ5KHdpbmRvdykud2lkdGgoKSA8IDEwMDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGpRdWVyeSh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50KCdsaScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwYXJlbnQuaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnb3BlbmVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX2Fycm93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0galF1ZXJ5KHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnRzKCdsaScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudSA9IHBhcmVudC5maW5kKCcuc2l0ZV9fbWVudS1zdWInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwYXJlbnQuaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUuc2xpZGVVcCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnb3BlbmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudS5zbGlkZURvd24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfaXRlbXMub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnQoJ3VsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoJ3NpdGVfX21lbnUtaXRlbV9zdWInKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnb3BlbmVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJNZW51ID0gY3VySXRlbS5maW5kKCcuc2l0ZV9fbWVudS1zdWInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICggX3dpbmRvdy53aWR0aCgpIC0gKCBzdWJNZW51LmlubmVyV2lkdGgoKSArIGN1ckl0ZW0ub2Zmc2V0KCkubGVmdCApICkgPCAwICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICggKCBjdXJJdGVtLm9mZnNldCgpLmxlZnQgKyBjdXJJdGVtLmlubmVyV2lkdGgoKSApIC0gc3ViTWVudS5pbm5lcldpZHRoKCkgKSA8IDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudS5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgtNTAlKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKC01MCUpJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNZW51LmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGN1ckl0ZW0ucG9zaXRpb24oKS5sZWZ0IC0gc3ViTWVudS5pbm5lcldpZHRoKCkgKyBjdXJJdGVtLmlubmVyV2lkdGgoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBjdXJJdGVtLnBvc2l0aW9uKCkubGVmdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICQoJ1tkYXRhLXByb2R1Y3RdJykub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZmVhdHVyZWQtcHJvZHVjdF9fbG9hZGluZycpLmFkZENsYXNzKCd2aXNpYmxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBjdXJJdGVtLmRhdGEoJ3Byb2R1Y3QnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmKCAkKCcuZmVhdHVyZWQtcHJvZHVjdF9fbG9hZGluZycpLmhhc0NsYXNzKCd2aXNpYmxlJykgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3RpdGxlJykudGV4dChkYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3BpYyBpbWcnKS5hdHRyKCdzcmMnLCBkYXRhLnNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuYnRuJykuYXR0cignaHJlZicsIGRhdGEuaHJlZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcHJpY2Ugc3BhbicpLnRleHQoZGF0YS5wcmljZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggZGF0YS5vblNhbGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3JlbWFyaycpLmFkZENsYXNzKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3JlbWFyaycpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhLm9sZFByaWNlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdCcpLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X19wcmljZSBkZWwnKS50ZXh0KGRhdGEub2xkUHJpY2UgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcHJpY2UgZGVsJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE2MCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZmVhdHVyZWQtcHJvZHVjdF9fbG9hZGluZycpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLm9wZW5lZCcpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIF9vYmouZmluZCgndWwnKS5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5vcGVuZWQnKS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJ2xpJykub24oICdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX21lbnUgPSBvYmosXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXHJcbiAgICAgICAgICAgIF9hY3Rpb24gPSBmYWxzZSxcclxuICAgICAgICAgICAgX2FjdGlvblNjcm9sbCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBfbGFzdFBvcyxcclxuICAgICAgICAgICAgX2hlYWRlciA9ICQoJy5zaXRlX19oZWFkZXInKSxcclxuICAgICAgICAgICAgX2hpZGRlbkJsb2NrTWVudSA9ICQoJy5zaXRlX19oaWRkZW4taXRlbXMnKSxcclxuICAgICAgICAgICAgX2hlYWRlckhlaWdodCA9IF9oZWFkZXIuaW5uZXJIZWlnaHQoKSxcclxuICAgICAgICAgICAgX3Nob3dCdG4gPSAkKCcuc2l0ZV9faGVhZGVyLWJ0bicpLFxyXG4gICAgICAgICAgICBfY2xvc2VCdG4gPSAkKCcuc2l0ZV9faGlkZGVuLWNsb3NlJyksXHJcbiAgICAgICAgICAgIF9zZWFyY2ggPSAkKCcuc2VhcmNoJyksXHJcbiAgICAgICAgICAgIF9vcGVuU2VhcmNoID0gJCgnLnNlYXJjaC1idG4nKSxcclxuICAgICAgICAgICAgX2Nsb3NlU2VhcmNoID0gJCgnLnNlYXJjaF9fY2FuY2VsJyksXHJcbiAgICAgICAgICAgIF9nZXRGcmVlID0gJCgnLnNpdGVfX2hpZGRlbi1idG4nKSxcclxuICAgICAgICAgICAgX3NpdGUgPSAkKCcuc2l0ZScpLFxyXG4gICAgICAgICAgICBfZG9tID0gJCggJ2h0bWwnICksXHJcbiAgICAgICAgICAgIHNpdGVTY3JvbGxUb3AsXHJcbiAgICAgICAgICAgIF9jb250ZW50ID0gJCgnLnNpdGVfX2NvbnRlbnQnKSxcclxuICAgICAgICAgICAgX2xhc3RTY3JvbGxUb3AgPSAwO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcclxuICAgICAgICAgICAgICAgICAgICBcIi5zZWFyY2hcIixcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggZXZlbnQgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcclxuICAgICAgICAgICAgICAgICAgICBcImJvZHlcIixcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlU2VhcmNoQm94KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ub24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbk1lbnUoJCh0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX2Nsb3NlQnRuLm9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIF9vcGVuU2VhcmNoLm9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5TZWFyY2hCb3goJCh0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX2Nsb3NlU2VhcmNoLm9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlU2VhcmNoQm94KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCBlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZml4ZWRIZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbiA9IF93aW5kb3cuc2Nyb2xsVG9wKCkgPj0gX2hlYWRlckhlaWdodDtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA9PSAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5yZW1vdmVDbGFzcygnc2l0ZV9faGVhZGVyX2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgRE9NTW91c2VTY3JvbGw6IGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gKGRlbHRhID4gMCkgPyAxIDogLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKGRpcmVjdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2V3aGVlbDogZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gKGRlbHRhID4gMCkgPyAtMSA6IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKGRpcmVjdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdG91Y2htb3ZlOiBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3MgPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQb3MgPiBfbGFzdFBvcykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgtMSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UG9zIDwgX2xhc3RQb3MpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbGFzdFBvcyA9IGN1cnJlbnRQb3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAga2V5ZG93bjogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLndoaWNoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM0IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM1IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM2IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpPj0xMDI0ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3NpdGUuaGVpZ2h0KCkgPiBfd2luZG93LmhlaWdodCgpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPiAwICYmICFfaGVhZGVyLmhhc0NsYXNzKCdzaXRlX19oZWFkZXJfaGlkZGVuJykgJiYgIV9zaG93QnRuLmhhc0NsYXNzKCdvcGVuZWQnKSAmJiBfYWN0aW9uICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmFkZENsYXNzKCdzaXRlX19oZWFkZXJfaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPCAwICYmIF9oZWFkZXIuaGFzQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKSAmJiAhX3Nob3dCdG4uaGFzQ2xhc3MoJ29wZW5lZCcpICYmIF9hY3Rpb24gJiYgZ2xvYmFsU2Nyb2xsRmxhZykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLnJlbW92ZUNsYXNzKCdzaXRlX19oZWFkZXJfaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2ZpeGVkSGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChfd2luZG93LnNjcm9sbFRvcCgpID4gX2hlYWRlckhlaWdodCArIDE1MCAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXIuYWRkQ2xhc3MoJ2ZpeGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXIucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX29wZW5NZW51ID0gZnVuY3Rpb24gKGVsZW0pIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGVsZW07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGN1ckl0ZW0uaGFzQ2xhc3MoJ29wZW5lZCcpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9oaWRkZW5CbG9ja01lbnUucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9oaWRkZW5CbG9ja01lbnUuYWRkQ2xhc3MoJ29wZW5lZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzaXRlU2Nyb2xsVG9wID0gX3dpbmRvdy5zY3JvbGxUb3AoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfc2l0ZS5oZWlnaHQoKSA+IF93aW5kb3cuaGVpZ2h0KCkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdzY3JvbGwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGUuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIDMwMCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfb3BlblNlYXJjaEJveCA9IGZ1bmN0aW9uIChlbGVtKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBlbGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdXJJdGVtLmhhc0NsYXNzKCdvcGVuZWQnKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBfc2VhcmNoLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICBfZ2V0RnJlZS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnb3BlbmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NlYXJjaC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2dldEZyZWUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgX2hpZGRlbkJsb2NrTWVudS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcbiAgICAgICAgICAgICAgICBfc2VhcmNoLmZpbmQoJ2lucHV0JykuZm9jdXNvdXQoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgX3NpdGUuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcnXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfc2l0ZS5oZWlnaHQoKSA+IF93aW5kb3cuaGVpZ2h0KCkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF93aW5kb3cuc2Nyb2xsVG9wKCBzaXRlU2Nyb2xsVG9wICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgMTApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Nsb3NlU2VhcmNoQm94ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9vcGVuU2VhcmNoLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgIF9zZWFyY2gucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgX2dldEZyZWUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfbWVudVswXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIF9maXhlZEhlYWRlcigpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuICAgIHZhciBGdWxsSGVpZ2h0ID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxyXG4gICAgICAgICAgICBfZ2xvYmFsV2luV2lkdGggPSBfd2luZG93LndpZHRoKCk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcblxyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX2dsb2JhbFdpbldpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2luV2lkdGggPSBfd2luZG93LndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0OiAnJ1xyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6IF93aW5kb3cuaGVpZ2h0KCkgLSAkKCcuc2l0ZV9faGVhZGVyJykuaW5uZXJIZWlnaHQoKSAtICQoJy5zaXRlX19mb290ZXInKS5pbm5lckhlaWdodCgpIC0gJCgnLmJyZWFkY3J1bWJzJykuaW5uZXJIZWlnaHQoKVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuICAgIHZhciBDaGVja291dEhlaWdodCA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3RvdGFsT3JkZXIgPSBfb2JqLmZpbmQoJy50b3RhbC1vcmRlcicpO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG5cclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbkhlaWdodDogX3RvdGFsT3JkZXIuaW5uZXJIZWlnaHQoKVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ2hhbmdlUHJpY2UgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIHZhciBmb3JtID0gb2JqLmZpbmQoJ2Zvcm0nKTtcclxuXHJcblxyXG4gICAgICAgIGZvcm0ub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciAkdXBzZWxscyA9IG9iai5maW5kKCdmb3JtPi53ZWJzdGVycy1zZWxlY3Qgc2VsZWN0JyksXHJcbiAgICAgICAgICAgICAgICB2YXJpYXRpb24gPSBmb3JtLmZpbmQoJy52YXJpYXRpb25zIHNlbGVjdCcpLFxyXG4gICAgICAgICAgICAgICAgdmFyaWF0aW9uQ291bnQgPSB2YXJpYXRpb24ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgcHJpY2UgPSBvYmouYXR0cignZGF0YS1wcmljZScpLFxyXG4gICAgICAgICAgICAgICAgc3ltYm9sID0gJCgnLnByb2R1Y3RfX3ByaWNlPnNwYW4+c3BhbicpLnRleHQoKTtcclxuXHJcbiAgICAgICAgICAgaWYodmFyaWF0aW9uQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gMDtcclxuICAgICAgICAgICAgICAgdmFyaWF0aW9uLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgaWYoJCggdGhpcyApLnZhbCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgIGlmKGNvdW50ZXIgIT09IHZhcmlhdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICBpZihmb3JtLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X19wcmljZSAucHJpY2UnKS50ZXh0KCkudHJpbSgpICAhPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gJCgnLnByaWNlPnNwYW4nKS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sID0gJCgnLnByaWNlPnNwYW4+c3BhbicpLnRleHQoKTtcclxuICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwcmljZSA9IHBhcnNlRmxvYXQoKHByaWNlLnNsaWNlKDEpLnNwbGl0KCcsJykpLmpvaW4oJycpKTtcclxuXHJcbiAgICAgICAgICAgICR1cHNlbGxzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdCA9ICQoIHRoaXMgKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihzZWxlY3QgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCggdGhpcyApLmZpbmQoJ29wdGlvbicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigkKHRoaXMpLnZhbCgpID09PSBzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gcHJpY2UgKyArJCh0aGlzKS5kYXRhKCdwcmljZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnLnByaWNlJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygkKCcuZmVhdHVyZWQtcHJvZHVjdF9fcHJpY2U+c3Ryb25nJykubGVuZ3RoID09PSAwKTtcclxuICAgICAgICAgICAgaWYoZm9ybS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcHJpY2U+c3Ryb25nJykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X19wcmljZScpLmFwcGVuZCgnPHN0cm9uZyBjbGFzcz1cInByb2R1Y3RfX3ByaWNlXCI+PC9zdHJvbmc+Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qaWYocHJpY2UgPiAwKSB7ICovXHJcbiAgICAgICAgICAgICAgICBwcmljZSA9ICc8c3Bhbj4nICsgc3ltYm9sICsgJzwvc3Bhbj4nKyBwcmljZS5mb3JtYXRNb25leSgyLCAnLicsICcsJyk7XHJcbiAgICAgICAgICAgIC8qfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByaWNlID0gJ0ZSRUUnO1xyXG4gICAgICAgICAgICB9Ki9cclxuXHJcbiAgICAgICAgICAgIGZvcm0uZmluZCggJy5mZWF0dXJlZC1wcm9kdWN0X19wcmljZT5zdHJvbmcnICkuaHRtbCggcHJpY2UgKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbn0gKSgpO1xyXG5cclxuIiwiKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICQoICcucG9wdXAnICkuZWFjaChmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgbmV3IFBvcHVwKCQodGhpcykpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgUG9wdXAgPSBmdW5jdGlvbiggb2JqICl7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX3BvcHVwUGFkZGluZyA9IDQwLFxyXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfYnRuQ2xvc2UgPSBfb2JqLmZpbmQoICcucG9wdXBfX2Nsb3NlLCAucG9wdXBfX2NhbmNlbCcgKSxcclxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXHJcbiAgICAgICAgICAgIF9jb250ZW50cyA9IF9vYmouZmluZCggJy5wb3B1cF9fY29udGVudCcgKSxcclxuICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lciA9ICQoICdodG1sJyApLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXHJcbiAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7fSwgMSApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY2VudGVyV3JhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgLSBfd3JhcC5oZWlnaHQoKSA+IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogMCB9ICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxCYXJXaWR0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2hpZGUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMFxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfaGlkZScgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfaGlkZScgKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIF9idG5TaG93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIF9jb250ZW50cy5maW5kKCc+ZGl2Jykub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGUgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3Nob3cgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XHJcbiAgICAgICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50KCBjbGFzc05hbWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcclxuICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1ckNvbnRlbnQgPSBfY29udGVudHMuZmlsdGVyKCAnLnBvcHVwX18nICsgY2xhc3NOYW1lICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xyXG4gICAgICAgICAgICAgICAgY3VyQ29udGVudC5jc3MoIHsgZGlzcGxheTogJ2Jsb2NrJyB9ICk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcbn0gKSgpO1xyXG5cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbiggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5wcm9kdWN0X19zbGlkZXInICksIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgbmV3IFByb2R1Y3RTbGlkZXIgKCAkKCB0aGlzICkgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcuZmVhdHVyZWQtcHJvZHVjdHMnICksIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgbmV3IEZlYXR1cmVkUHJvZHVjdHNTbGlkZXIgKCAkKCB0aGlzICkgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIFByb2R1Y3RTbGlkZXIgPSBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9vYmogPSBvYmo7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXRTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLnNsaWRlci1mb3InKS5zbGljaygge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJSb3c6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBhc05hdkZvcjogJy5zbGlkZXItbmF2J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2xpZGVyLW5hdicpLnNsaWNrKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclJvdzogNCxcclxuICAgICAgICAgICAgICAgICAgICBhc05hdkZvcjogJy5zbGlkZXItZm9yJyxcclxuICAgICAgICAgICAgICAgICAgICBkb3RzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiAxMzYwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogMTAyNCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiA0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQxMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xyXG4gICAgfTtcclxuICAgIHZhciBGZWF0dXJlZFByb2R1Y3RzU2xpZGVyID0gZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfc2xpZGVyLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxyXG4gICAgICAgICAgICBfZmxhZyxcclxuICAgICAgICAgICAgX3BhZ2luYXRpb24gPSBfb2JqLmZpbmQoJy5zd2lwZXItcGFnaW5hdGlvbicpLFxyXG4gICAgICAgICAgICBfcHJldiA9IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tcHJldicpLFxyXG4gICAgICAgICAgICBfbmV4dCA9IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tbmV4dCcpLFxyXG4gICAgICAgICAgICBfbG9vcCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDw9IDc2OCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2ZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPD0gNzY4ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZmxhZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfZmxhZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3NsaWRlci5zbGljaygndW5zbGljaycpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXRTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2FkZFNvbWVQYXJhbXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfc2xpZGVyID0gJCgnLmZlYXR1cmVkLXByb2R1Y3RzX193cmFwcGVyJykuc2xpY2soIHtcclxuICAgICAgICAgICAgICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogNTAwMCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QXJyb3c6IF9wcmV2LFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRBcnJvdzogX25leHQsXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kRG90czogIF9wYWdpbmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogMTQ0MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiA0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkU29tZVBhcmFtcyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RzX19zbGlkZScpLmxlbmd0aCA+PSA0ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3AgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlICBpZiggX3dpbmRvdy53aWR0aCgpID49IDE0MjUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0c19fc2xpZGUnKS5sZW5ndGggPj0gNSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZighX2xvb3ApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdHNfX2NvbnRyb2xzJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpO1xyXG4iLCIoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgJCggJ3NlbGVjdCcgKS5lYWNoKCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBuZXcgV2Vic3RlcnNTZWxlY3QoIHtcclxuICAgICAgICAgICAgICAgIG9iajogJCggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dUeXBlOiAyXHJcbiAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0gKTtcclxuXHJcbiAgICB2YXIgdGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gdGljaygpIHtcclxuICAgICAgICAkKCAnLndvb2NvbW1lcmNlLWNjLW1vbnRoLCAud29vY29tbWVyY2UtY2MteWVhcicgKS5lYWNoKCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygkKCB0aGlzICkucGFyZW50KCkuaGFzQ2xhc3MoJ3dlYnN0ZXJzLXNlbGVjdCcpKTtcclxuICAgICAgICAgICAgaWYoISQoIHRoaXMgKS5wYXJlbnQoKS5oYXNDbGFzcygnd2Vic3RlcnMtc2VsZWN0JykpIHtcclxuICAgICAgICAgICAgICAgIG5ldyBXZWJzdGVyc1NlbGVjdCgge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iajogJCggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd1R5cGU6IDJcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9ICk7XHJcbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGljaywgMjAwMCk7XHJcbiAgICB9LCAyMDAwKTtcclxuXHJcbiAgICB2YXIgV2Vic3RlcnNTZWxlY3QgPSBmdW5jdGlvbiggcGFyYW1zICl7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IHBhcmFtcy5vYmosXHJcbiAgICAgICAgICAgIF9vcHRpb25UeXBlID0gcGFyYW1zLm9wdGlvblR5cGUgfHwgMCxcclxuICAgICAgICAgICAgX3Nob3dUeXBlID0gcGFyYW1zLnNob3dUeXBlIHx8IDAsXHJcbiAgICAgICAgICAgIF92aXNpYmxlID0gcGFyYW1zLnZpc2libGUgfHwgNSxcclxuICAgICAgICAgICAgX2RldmljZSA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApLFxyXG4gICAgICAgICAgICBfdGV4dCA9ICQoICc8c3BhbiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9faXRlbVwiPjwvc3Bhbj4nICksXHJcbiAgICAgICAgICAgIF93cmFwID0gJCggJzxkaXYgY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RcIj48L2Rpdj4nICksXHJcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcclxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKSxcclxuICAgICAgICAgICAgX29wZW5lZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBfcG9wdXAsIF9zY3JvbGw7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9hZGRXcmFwID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJUZXh0ID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX29iai53cmFwKCBfd3JhcCApO1xyXG4gICAgICAgICAgICAgICAgX3dyYXAgPSBfb2JqLnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgX3dyYXAuYXBwZW5kKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fYXJyb3dcIj48L2Rpdj4nICk7XHJcbiAgICAgICAgICAgICAgICBfb2JqLmJlZm9yZSggX3RleHQgKTtcclxuICAgICAgICAgICAgICAgIF9vYmouZmluZCggJ29wdGlvbicgKS5lYWNoKCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5hdHRyKCAnc2VsZWN0ZWQnICkgPT0gJ3NlbGVjdGVkJyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gY3VySXRlbS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBjdXJUZXh0ID09ICcnICl7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyVGV4dCA9ICBfb2JqLmZpbmQoICdvcHRpb24nKS5lcSggMCApLnRleHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90ZXh0LnRleHQoIF9maW5kRnJlZShjdXJUZXh0KSApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaGlkZVBvcHVwID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIF9vcGVuZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggIV9zaG93VHlwZSApe1xyXG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMSApe1xyXG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLnNsaWRlVXAoIDMwMCwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDIgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnN0b3AoIHRydWUsIGZhbHNlICkuZmFkZU91dCggMzAwLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIF93cmFwLnJlbW92ZUNsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X29wZW5lZCcgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XHJcblxyXG4gICAgICAgICAgICAgICAgX2FkZFdyYXAoKTtcclxuICAgICAgICAgICAgICAgIF9zZWxlY3RWaWV3VHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RleHQuaHRtbCggX2ZpbmRGcmVlKCQoIHRoaXMgKS5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLnRleHQoKSkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcclxuICAgICAgICAgICAgICAgICAgICBcImNoYW5nZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic2VsZWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoIHRoaXMpLnByZXYoKS50ZXh0KCAkKCB0aGlzICkuZmluZCggJ29wdGlvbjpzZWxlY3RlZCcgKS50ZXh0KCkgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBfb3B0aW9uVHlwZSA9PSAxICYmICFfZGV2aWNlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAub24oIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oIGUgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93UG9wdXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfYm9keS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NlbGVjdFZpZXdUeXBlID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggIV9vcHRpb25UeXBlIHx8IF9kZXZpY2UgKXtcclxuICAgICAgICAgICAgICAgICAgICBfc2V0TW9iaWxlVmlldygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfb3B0aW9uVHlwZSA9PSAxICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3NldEN1c3RvbTEoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3NldEN1c3RvbTEgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3RfY3VzdG9tJyApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfc2V0TW9iaWxlVmlldyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9tb2JpbGUnICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9zaG93UG9wdXAgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdHMgPSAkKCAnc2VsZWN0JyApLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSAkKCAnPHVsPjwvdWw+JyksXHJcbiAgICAgICAgICAgICAgICAgICAgY3VyU2Nyb2xsID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBfd3JhcC5vZmZzZXQoKSxcclxuICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckluZGV4ID0gX29iai5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLmluZGV4KCksXHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBNYXRoLnJvdW5kKCBNYXRoLnJhbmRvbSgpICogMTAwMCApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlbGVjdHMuZWFjaCggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcyAhPT0gX29ialsgMCBdICYmIHRoaXMub2JqLmNoZWNrT3BlbmVkKCkgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmouY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfb3BlbmVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXBcIiBpZD1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXAnICsgaWQgKyAnXCI+PC9kaXY+JyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9vYmouZmluZCggJ29wdGlvbicgKS5lYWNoKCBmdW5jdGlvbiggaSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBjdXJJdGVtLnRleHQoKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gY3VySW5kZXggKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoICc8bGkgY2xhc3M9XCJhY3RpdmVcIj4nICsgX2ZpbmRGcmVlKHRleHQpICsgJzwvbGk+JyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKCAnPGxpPicgKyBfZmluZEZyZWUodGV4dCkgKyAnPC9saT4nICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfcG9wdXAuYXBwZW5kKCBsaXN0ICk7XHJcbiAgICAgICAgICAgICAgICBfYm9keS5hcHBlbmQoIF9wb3B1cCApO1xyXG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3Rfb3BlbmVkJyApO1xyXG5cclxuICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogX3dyYXAub3V0ZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcCArIF93cmFwLm91dGVySGVpZ2h0KClcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBfcG9wdXAub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGlmKCBtYXhIZWlnaHQgPiBfcG9wdXAuZmluZCggJ2xpJyApLmVxKCAwICkub3V0ZXJIZWlnaHQoKSAqIF92aXNpYmxlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmhlaWdodCggX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApO1xyXG4gICAgICAgICAgICAgICAgICAgIF9zY3JvbGwgPSBfcG9wdXAucGVyZmVjdFNjcm9sbGJhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBfc2hvd1R5cGUgPT0gMSApe1xyXG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zbGlkZURvd24oIDMwMCApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuYW5pbWF0ZSggeyBvcGFjaXR5OiAxIH0sIDMwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgX3BvcHVwLmZpbmQoICdsaScgKS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCBlICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICQoIHRoaXMgKS5pbmRleCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoudmFsKCBfb2JqLmZpbmQoICdvcHRpb24nICkuZXEoIGluZGV4ICkuYXR0ciggJ3ZhbHVlJyApICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoudHJpZ2dlciggJ2NoYW5nZScgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX2ZpbmRGcmVlID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4RnJlZSA9IHRleHQuaW5kZXhPZignZnJlZScpO1xyXG4gICAgICAgICAgICAgICAgaWYoaW5kZXhGcmVlICE9PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCxpbmRleEZyZWUpKyc8c3Bhbj5GUkVFPC9zcGFuPicrdGV4dC5zbGljZShpbmRleEZyZWUrNCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcbiAgICAgICAgX3NlbGYuY2hlY2tPcGVuZWQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gX29wZW5lZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF9zZWxmLmNsb3NlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBfY29uc3RydWN0b3IoKTtcclxuXHJcbiAgICB9O1xyXG5cclxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAkKCcuY2F0ZWdvcnknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBGaWx0ZXJzKCAkKHRoaXMpICk7XHJcblxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdmFyIEZpbHRlcnMgPSBmdW5jdGlvbiAob2JqKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXHJcbiAgICAgICAgICAgIF9wYXRoID0gJCgnYm9keScpLmRhdGEoJ2FjdGlvbicpLFxyXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxyXG4gICAgICAgICAgICBfYnRuID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcnMtaXRlbSBzcGFuJyksXHJcbiAgICAgICAgICAgIF9idG4yID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcnMtdGl0bGUnKSxcclxuICAgICAgICAgICAgX2ZpbHRlcnMgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy1pdGVtcycpLFxyXG4gICAgICAgICAgICBfZm9ybSA9IF9maWx0ZXJzLmZpbmQoJ2Zvcm0nKSxcclxuICAgICAgICAgICAgX2Nsb3NlRmlsdGVycyA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZC1jbG9zZScpLFxyXG4gICAgICAgICAgICBfZmlsdGVySXRlbSA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJzLWxpc3QnKSxcclxuICAgICAgICAgICAgX2ZpbHRlcmVkID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcmVkJyksXHJcbiAgICAgICAgICAgIF9maWx0ZXJlZExpc3QgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVyZWQtbGlzdCcpLFxyXG4gICAgICAgICAgICBfY291bnRGaWx0ZXJlZCA9IDAsXHJcbiAgICAgICAgICAgIF90aXRsZSA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJzLXRpdGxlJyksXHJcbiAgICAgICAgICAgIF90aXRsZUlubmVyID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcnMtdGl0bGUtaW5uZXInKSxcclxuICAgICAgICAgICAgX2NsZWFyRmlsdGVycyA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZCAuYnRuLCAuY2F0ZWdvcnlfX2ZpbHRlcnMtY2xlYXInKSxcclxuICAgICAgICAgICAgX2NsZWFyU2luZ2xlID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcmVkLXJlbW92ZScpLFxyXG4gICAgICAgICAgICBfYWRkaXRpb25hbFBhcmFtZXRlcnMgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmluZC1wYXJhbWV0ZXJzJyksXHJcbiAgICAgICAgICAgIF9nbG9iYWxDaGVja0ZsYWcgPSBmYWxzZSxcclxuICAgICAgICAgICAgX2xvYWRpbmcgPSAkKCc8ZGl2IGNsYXNzPVwibG9hZGluZ1wiPjwvZGl2PicpLFxyXG4gICAgICAgICAgICBfaW5wdXRIaWRkZW4gPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9aGlkZGVuXS52YWx1ZS1jaGVjaycpLFxyXG4gICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlID0gX29iai5maW5kKCdpbnB1dFt0eXBlPWhpZGRlbl0uY3VycmVudC1wYWdlJyksXHJcbiAgICAgICAgICAgIF9zb3J0aW5nUGFnZSA9IF9vYmouZmluZCgnI2l0ZW1zLXBhZ2UnKSxcclxuICAgICAgICAgICAgX3NvcnRpbmdEYXRlID0gX29iai5maW5kKCcjc29ydGluZy1kYXRlJyksXHJcbiAgICAgICAgICAgIF9kYXRhUmF0ZVBhdGggPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fd3JhcCcpLmRhdGEoJ3JhdGUtcGF0aCcpLFxyXG4gICAgICAgICAgICBfYXBwbHkgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy1hcHBseScpLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxyXG4gICAgICAgICAgICBfb2JqVmFsdWUgPSB7fSxcclxuICAgICAgICAgICAgX3RpbWVvdXQgPSBudWxsLFxyXG4gICAgICAgICAgICBfYXJyID0gW10sXHJcbiAgICAgICAgICAgIF9jaGVja05hbWUgPSAnJyxcclxuICAgICAgICAgICAgX2NoZWNrUHJpY2UgPSAnJyxcclxuICAgICAgICAgICAgX2NsZWFyRmxhZ1NlbGVjdCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBfY2xlYXJGbGFnUmFkaW8gPSBmYWxzZSxcclxuICAgICAgICAgICAgX3ByaWNlQ2F0ZWdvcnkgPSBfb2JqLmZpbmQoJ2lucHV0W25hbWU9X3ByaWNlXScpO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG5cclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9idG4uZWFjaCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZpbHRlcnMgPSBjdXJJdGVtLm5leHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcGFyZW50Lmhhc0NsYXNzKCdvcGVuZWQnKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZpbHRlcnMuY3NzKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogbmV4dEZpbHRlcnMuZmluZCgnPmRpdicpLmlubmVySGVpZ2h0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19jb250ZW50JykuY3NzKCB7ICd6LWluZGV4JzogJycgfSApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfYnRuLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0RmlsdGVycyA9IGN1ckl0ZW0ubmV4dCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBhcmVudC5oYXNDbGFzcygnb3BlbmVkJykgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFkZENsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogbmV4dEZpbHRlcnMuZmluZCgnPmRpdicpLmlubmVySGVpZ2h0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0RmlsdGVycy5jc3MoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6ICdhdXRvJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMTAgKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfYnRuMi5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VGaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgX2NsZWFyRmlsdGVycy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCgnMScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xlYXJGaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcclxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCIucGFnaW5hdGlvbiBhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQoY3VySXRlbS50ZXh0KCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoJ3BhZ2luYXRpb25fX3ByZXYnKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcGFyc2VJbnQoIF9pbnB1dEhpZGRlblBhZ2UudmFsKCkgKSAhPSAxICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCggX2lucHV0SGlkZGVuUGFnZS52YWwoKSAtIDEgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoJ3BhZ2luYXRpb25fX25leHQnKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5wcmV2KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpICkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dEhpZGRlblBhZ2UudmFsKCBwYXJzZUludCggX2lucHV0SGlkZGVuUGFnZS52YWwoKSApICsgMSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggdmFsdWUgIT0gcGFyc2VJbnQoIF9pbnB1dEhpZGRlblBhZ2UudmFsKCkgKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuUGFnZS52YWwodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcclxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCIuY2F0ZWdvcnlfX2ZpbHRlcmVkLXJlbW92ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJJdGVtLnBhcmVudCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlkID0gcGFyZW50LmRhdGEoJ2lkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhTmFtZSA9IHBhcmVudC5kYXRhKCduYW1lJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCgnMScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xlYXJTaW5nbGVGaWx0ZXIoIGRhdGFJZCwgZGF0YU5hbWUgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgX2Nsb3NlRmlsdGVycy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VGaWx0ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICAgICAgX2FwcGx5Lm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUZpbHRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICBfZmlsdGVySXRlbS5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLm9uKCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGN1ckl0ZW0ubmV4dCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gbGFiZWwuY2xvbmUoKS5jaGlsZHJlbigpLnJlbW92ZSgpLmVuZCgpLnRleHQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBjdXJJdGVtLmF0dHIoJ25hbWUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gY3VySXRlbS5kYXRhKCdpZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlOYW1lID0gY3VySXRlbS5wYXJlbnRzKCcuY2F0ZWdvcnlfX2ZpbHRlcnMtaXRlbScpLmZpbmQoJ3NwYW4nKVswXS5pbm5lclRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudEdyb3VwQ2hlY2sgPSBfZmlsdGVySXRlbS5maW5kKCdpbnB1dFtuYW1lPScrIG5hbWUgKyddOmNoZWNrZWQnKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsQ2hlY2tGbGFnID0gY3VySXRlbS5wcm9wKCdjaGVja2VkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUZpbHRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY291bnRHcm91cENoZWNrKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluSGlkZGVuKCBuYW1lLCBpZCwgX2dsb2JhbENoZWNrRmxhZywgY291bnRHcm91cENoZWNrICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dEhpZGRlblBhZ2UudmFsKCcxJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRpbmdGaWx0ZXJlZEJ5KCBsYWJlbFRleHQsIGlkLCBuYW1lLCBjYXRlZ29yeU5hbWUgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIF9zb3J0aW5nUGFnZS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuUGFnZS52YWwoJzEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIF9zb3J0aW5nRGF0ZS5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuUGFnZS52YWwoJzEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIF9hZGRpdGlvbmFsUGFyYW1ldGVycy5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICBfYWRkaXRpb25hbFBhcmFtZXRlcnMuZmluZCgnc2VsZWN0JykuZWFjaCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gY3VySXRlbS5hdHRyKCduYW1lJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGN1ckl0ZW0udmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbkhpZGRlbiggbmFtZSwgaWQsICdzZWxlY3QnLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xlYXJHcm91cEZpbHRlcnMobmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICBfYWRkaXRpb25hbFBhcmFtZXRlcnMuZmluZCgnaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCcpLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGN1ckl0ZW0uYXR0cignbmFtZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBjdXJJdGVtLmRhdGEoJ2lkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbkhpZGRlbiggbmFtZSwgaWQsICdyYWRpbycsICcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbGVhckdyb3VwRmlsdGVycyhuYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCgnMScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2FkZGluZ0ZpbHRlcmVkQnkgPSBmdW5jdGlvbiggaXRlbVRleHQsIGl0ZW1JZCwgaXRlbU5hbWUsIGNhdGVnb3J5TmFtZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX2dsb2JhbENoZWNrRmxhZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdC5hcHBlbmQoJzxsaSBkYXRhLW5hbWU9JysgaXRlbU5hbWUgKycgZGF0YS1pZD1cIicrIGl0ZW1JZCArJ1wiPicrIGNhdGVnb3J5TmFtZSArJzogJysgaXRlbVRleHQgKycgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhdGVnb3J5X19maWx0ZXJlZC1yZW1vdmVcIj48L2E+PC9saT4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyZWRMaXN0LmZpbmQoJ2xpW2RhdGEtaWQ9XCInICsgaXRlbUlkICsgJ1wiXScpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF9jb3VudEZpbHRlcmVkID0gX2ZpbHRlcmVkTGlzdC5maW5kKCdsaScpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggX2NvdW50RmlsdGVyZWQgPiAwICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyZWQucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aXRsZS5maW5kKCdzcGFuJykuaHRtbCgnKCcrIF9jb3VudEZpbHRlcmVkICsnKScpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aXRsZUlubmVyLmZpbmQoJ3NwYW4nKS5odG1sKCcoJysgX2NvdW50RmlsdGVyZWQgKycpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RpdGxlLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jbGVhckZpbHRlcnMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJlZC5hZGRDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RpdGxlLmZpbmQoJ3NwYW4nKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGl0bGVJbm5lci5maW5kKCdzcGFuJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RpdGxlLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9jbGVhckZpbHRlcnMuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hZGRMb2FkaW5nID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2xvYWRpbmcgPSAkKCc8ZGl2IGNsYXNzPVwibG9hZGluZ1wiPjwvZGl2PicpO1xyXG5cclxuICAgICAgICAgICAgICAgICQoJy5jYXRlZ29yeV9fY29udGVudCcpLmFwcGVuZChfbG9hZGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2xvYWRpbmcuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6ICQoJy5jYXRlZ29yeV9fd3JhcCcpLnBvc2l0aW9uKCkudG9wIC0gMjBcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xvc2VMb2FkaW5nID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKF90aW1lb3V0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfdGltZW91dCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkaW5nJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XHJcblxyXG4gICAgICAgICAgICAgICAgX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGluZycpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgNjIwICk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xlYXJGaWx0ZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfZmlsdGVyZWQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgX3RpdGxlLmZpbmQoJ3NwYW4nKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgIF90aXRsZUlubmVyLmZpbmQoJ3NwYW4nKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgIF90aXRsZS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgIF9maWx0ZXJlZExpc3QuZmluZCgnbGknKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIF9maWx0ZXJJdGVtLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIF9pbnB1dEhpZGRlbi52YWwoJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbGVhclNpbmdsZUZpbHRlciA9IGZ1bmN0aW9uKCBpdGVtSWQsIGl0ZW1OYW1lICkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9maWx0ZXJJdGVtLmZpbmQoJ2lucHV0W2RhdGEtaWQ9XCInKyBpdGVtSWQgKydcIl0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgX2dsb2JhbENoZWNrRmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgX2FkZGluZ0ZpbHRlcmVkQnkoICcnLCBpdGVtSWQsICcnLCAnJyApO1xyXG4gICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgIF93cml0ZUluSGlkZGVuKCBpdGVtTmFtZSwgaXRlbUlkLCBfZ2xvYmFsQ2hlY2tGbGFnLCAnJyApO1xyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2xlYXJHcm91cEZpbHRlcnMgPSBmdW5jdGlvbiggaXRlbU5hbWUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX2ZpbHRlckl0ZW0uZmluZCgnaW5wdXRbbmFtZT1cIicrIGl0ZW1OYW1lICsnXCJdJykuZWFjaCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUlkID0gY3VySXRlbS5kYXRhKCdpZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVySXRlbS5maW5kKCdpbnB1dFtkYXRhLWlkPVwiJysgaXRlbUlkICsnXCJdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsQ2hlY2tGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgX2FkZGluZ0ZpbHRlcmVkQnkoICcnLCBpdGVtSWQsICcnLCAnJyApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9jbG9zZUZpbHRlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBfYnRuMi5oYXNDbGFzcygnb3BlbmVkJykgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9idG4yLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVycy5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2NvbnRlbnQnKS5jc3MoIHsgJ3otaW5kZXgnOiAnJyB9ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2J0bjIuYWRkQ2xhc3MoJ29wZW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJzLmFkZENsYXNzKCdvcGVuZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoICBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2NvbnRlbnQnKS5jc3MoIHsgJ3otaW5kZXgnOiAxMDAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY3JlYXRlUGFnaW5hdGlvbiA9IGZ1bmN0aW9uKCBkYXRhICkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwYWdlcyA9IHBhcnNlSW50KGRhdGEuc2V0dGluZ3MucGFnZXNBbGwpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVBhZ2UgPSBwYXJzZUludChkYXRhLnNldHRpbmdzLmN1cnJlbnRQYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbChhY3RpdmVQYWdlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggcGFnZXMgIT0gMSAmJiAgcGFnZXMgIT0gMCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2luYXRpb25XcmFwID0gJzxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uXCI+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cInBhZ2luYXRpb25fX3ByZXZcIj48L2E+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHBhZ2VzIDw9IDcgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMTsgaSA8PSBwYWdlczsgaSsrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGFjdGl2ZVBhZ2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGl2ZVwiPicrIGkgKyc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBpICsnPC9hPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBhY3RpdmVQYWdlIDw9IDMgfHwgYWN0aXZlUGFnZSA+IHBhZ2VzLTMgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDE7IGkgPD0gMzsgaSsrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBhY3RpdmVQYWdlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYWN0aXZlXCI+JysgaSArJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgaSArJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPHNwYW4+Li4uPC9zcGFuPic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IHBhZ2VzLTI7IGkgPD0gcGFnZXM7IGkrKyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gYWN0aXZlUGFnZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGl2ZVwiPicrIGkgKyc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIGkgKyc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggYWN0aXZlUGFnZSA+IDMgJiYgYWN0aXZlUGFnZSA8PSBwYWdlcy0zICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+MTwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPHNwYW4+Li4uPC9zcGFuPic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIChhY3RpdmVQYWdlLTEgPiAzKSAmJiAoYWN0aXZlUGFnZSsxIDw9IHBhZ2VzLTMpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gYWN0aXZlUGFnZS0xOyBpIDw9IGFjdGl2ZVBhZ2UrMTsgaSsrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gYWN0aXZlUGFnZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIGkgKyc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBhY3RpdmVQYWdlLTEgPD0gMyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IGFjdGl2ZVBhZ2U7IGkgPD0gYWN0aXZlUGFnZSsyOyBpKysgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBhY3RpdmVQYWdlICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGl2ZVwiPicrIGkgKyc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgaSArJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGFjdGl2ZVBhZ2UrMSA+PSBwYWdlcy0zICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gYWN0aXZlUGFnZS0yOyBpIDw9IGFjdGl2ZVBhZ2U7IGkrKyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGFjdGl2ZVBhZ2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYWN0aXZlXCI+JysgaSArJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBpICsnPC9hPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8c3Bhbj4uLi48L3NwYW4+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgcGFnZXMgKyc8L2E+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBhZ2VzID09IDggKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGFjdGl2ZVBhZ2UgPiAzICYmIGFjdGl2ZVBhZ2UgPD0gcGFnZXMtMyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPjE8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8c3Bhbj4uLi48L3NwYW4+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDQ7IGkgPD0gNTsgaSsrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gYWN0aXZlUGFnZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIGkgKyc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxzcGFuPi4uLjwvc3Bhbj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgcGFnZXMgKyc8L2E+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cInBhZ2luYXRpb25fX25leHRcIj48L2E+JztcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBhZ2luYXRpb24td3JhcCcpLmh0bWwocGFnaW5hdGlvbldyYXApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkKCcucGFnaW5hdGlvbicpLmxlbmd0aCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wYWdpbmF0aW9uJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfcGFzdGVOZXdQcm9kdWN0cyA9IGZ1bmN0aW9uKCBkYXRhICkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0gZGF0YS5wcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgPSAnPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5XCI+JyxcclxuICAgICAgICAgICAgICAgICAgICBuZXdBcnJQcmljZVJhbmdlID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIF9vYmpWYWx1ZVsncHJpY2UnXSAhPSB1bmRlZmluZWQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IF9vYmpWYWx1ZVsncHJpY2UnXS5sZW5ndGgtMTsgaSsrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlSXRlbSA9IHBhcnNlRmxvYXQoX29ialZhbHVlWydwcmljZSddW2ldLnJlcGxhY2UoJyQnLCcnKS5yZXBsYWNlKCcsJywnJykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXJyUHJpY2VSYW5nZS5wdXNoKHByaWNlSXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiggX3ByaWNlQ2F0ZWdvcnkubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vICAgIHZhciBjaGVja2VkUHJpY2VSYW5nZSA9IF9wcmljZUNhdGVnb3J5LmZpbHRlcignOmNoZWNrZWQnKSxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICBzdGFydGluZ1ByaWNlID0gcGFyc2VJbnQoY2hlY2tlZFByaWNlUmFuZ2UuYXR0cignZGF0YS1pZCcpLnNwbGl0KCctJylbMF0pO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBuZXdBcnJQcmljZVJhbmdlLmxlbmd0aCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlUmFuZ2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzdGFydGluZ1ByaWNlID09IDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZVJhbmdlID0gTWF0aC5taW4uYXBwbHkobnVsbCwgbmV3QXJyUHJpY2VSYW5nZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8PSBuZXdBcnJQcmljZVJhbmdlLmxlbmd0aC0xOyBpKysgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG5ld0FyclByaWNlUmFuZ2VbaV0gPj0gc3RhcnRpbmdQcmljZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VSYW5nZSA9IG5ld0FyclByaWNlUmFuZ2VbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBuZXdEYXRhLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3QgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IHByb2R1Y3QucHJpY2VbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVQcmljZSA9IHByb2R1Y3Qub2xkUHJpY2VbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlSXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiggX3ByaWNlQ2F0ZWdvcnkubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gcHJvZHVjdC5wcmljZS5sZW5ndGgtMTsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHByaWNlSXRlbSA9IHBhcnNlRmxvYXQocHJvZHVjdC5wcmljZVtpXS5yZXBsYWNlKCckJywnJykucmVwbGFjZSgnLCcsJycpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBpZiggcHJpY2VJdGVtID49IHN0YXJ0aW5nUHJpY2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIHByaWNlID0gcHJvZHVjdC5wcmljZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIHNhbGVQcmljZSA9IHByb2R1Y3Qub2xkUHJpY2VbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBuZXdBcnJQcmljZVJhbmdlLmxlbmd0aCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHByb2R1Y3QucHJpY2UubGVuZ3RoLTE7IGkrKyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZUl0ZW0gPSBwYXJzZUZsb2F0KHByb2R1Y3QucHJpY2VbaV0ucmVwbGFjZSgnJCcsJycpLnJlcGxhY2UoJywnLCcnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHByaWNlSXRlbSA+PSBwcmljZVJhbmdlICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IHByb2R1Y3QucHJpY2VbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsZVByaWNlID0gcHJvZHVjdC5vbGRQcmljZVtpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19pdGVtXCI+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHByb2R1Y3QuZmVhdHVyZWQgIT0gdW5kZWZpbmVkICYmIHByb2R1Y3QuZmVhdHVyZWQgIT0gXCJcIiApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPHNwYW4gY2xhc3M9XCJzaXRlX19mZWF0dXJlZFwiPicrIHByb2R1Y3QuZmVhdHVyZWQgKyc8L3NwYW4+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9faGVhZFwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJysgcHJvZHVjdC51cmxEZXRhaWxzICsnXCIgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fcGljXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJysgcHJvZHVjdC5waWN0dXJlICsnKVwiPjwvYT5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fdGl0bGVcIj48YSBocmVmPVwiJysgcHJvZHVjdC51cmxEZXRhaWxzICsnXCI+JysgcHJvZHVjdC50aXRsZSArJzwvYT48L2gyPic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0LnJhdGUgIT0gdW5kZWZpbmVkICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9ICc8ZGl2IGNsYXNzPVwicmF0ZVwiPic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8PSBwcm9kdWN0LnJhdGUuc3RhcnNDb3VudC0xOyBpKysgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGltZyBzcmM9XCInKyBfZGF0YVJhdGVQYXRoICsnaW1nL3N0YXIucG5nXCIgd2lkdGg9XCI2MFwiIGhlaWdodD1cIjUwXCIgYWx0PVwiXCI+Jm5ic3A7J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGEgaHJlZj1cIicrIHByb2R1Y3QucmF0ZS51cmxSZXZpZXdzICsnXCIgY2xhc3M9XCJyYXRlX19yZXZpZXdzXCI+JysgcHJvZHVjdC5yYXRlLnJldmlld3NDb3VudCArJzwvYT5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fY29udGVudFwiPic7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHByb2R1Y3QuY29udGVudC5kZXNjcmlwdGlvbiAhPSB1bmRlZmluZWQgJiYgcHJvZHVjdC5jb250ZW50LmRlc2NyaXB0aW9uICE9IFwiXCIgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX2Rlc2NyaXB0aW9uXCI+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHByb2R1Y3QuY29udGVudC5kZXNjcmlwdGlvbi5sZW5ndGgtMTsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzxsaT4nKyBwcm9kdWN0LmNvbnRlbnQuZGVzY3JpcHRpb25baV0gKyc8L2xpPidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzwvdWw+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9faXRlbXNcIj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24gIT0gdW5kZWZpbmVkICYmIHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uICE9IFwiXCIgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fc3BlY2lmaWNhdGlvblwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19zcGVjaWZpY2F0aW9uLWhlYWRcIj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPD0gcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24uaGVhZC5sZW5ndGgtMTsgaSsrICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzxkaXYgc3R5bGU9XCJ3aWR0aDonKyAoMTAwL3Byb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uLmhlYWQubGVuZ3RoKSArJyVcIj4nKyBwcm9kdWN0LmNvbnRlbnQuc3BlY2lmaWNhdGlvbi5oZWFkW2ldICsnPC9kaXY+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fc3BlY2lmaWNhdGlvbi1jb250ZW50XCI+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uLmNvbnRlbnQubGVuZ3RoLTE7IGkrKyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8ZGl2IHN0eWxlPVwid2lkdGg6JysgKDEwMC9wcm9kdWN0LmNvbnRlbnQuc3BlY2lmaWNhdGlvbi5oZWFkLmxlbmd0aCkgKyclXCI+JysgcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24uY29udGVudFtpXSArJzwvZGl2PidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHNhbGVQcmljZSAhPSB1bmRlZmluZWQgJiYgc2FsZVByaWNlICE9IFwiXCIgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19mb290ZXJcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19wcmljZVwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRlbD4nKyBzYWxlUHJpY2UgKyc8L2RlbD4gJysgcHJpY2UgKydcXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX2Zvb3RlclwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX3ByaWNlXCI+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKyBwcmljZSArJ1xcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8YSBocmVmPVwiJysgcHJvZHVjdC51cmxEZXRhaWxzICsnXCIgY2xhc3M9XCJidG4gYnRuXzNcIj5zZWUgZGV0YWlsczwvYT5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICAkKCcuY2F0ZWdvcnlfX3dyYXAnKS5odG1sKHByb2R1Y3RzV3JhcCk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2Nsb3NlTG9hZGluZygpO1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogX3BhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gOiAnZ2V0X2ZpbHRlcmVkX3Byb2R1Y3RzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF9pbnB1dEhpZGRlbi52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVNvcnRpbmc6IF9zb3J0aW5nUGFnZS52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVNvcnRpbmc6IF9zb3J0aW5nRGF0ZS52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IF9pbnB1dEhpZGRlblBhZ2UudmFsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkQ2F0ZWdvcnk6IF9vYmouZGF0YSgnaWQtY2F0ZWdvcnknKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnM6IF9hZGRpdGlvbmFsUGFyYW1ldGVycy5zZXJpYWxpemUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wYXN0ZU5ld1Byb2R1Y3RzKCBtICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVQYWdpbmF0aW9uKCBtICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF93cml0ZUluSGlkZGVuID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGNoZWNrRmxhZywgY291bnRHcm91cENoZWNrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIGNoZWNrRmxhZyA9PSAncmFkaW8nICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfb2JqVmFsdWVbbmFtZV0gPSBbdmFsdWVdO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGNoZWNrRmxhZyA9PSAnc2VsZWN0JyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHZhbHVlICE9IDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqVmFsdWVbbmFtZV0gPSBbdmFsdWVdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9vYmpWYWx1ZVtuYW1lXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggY2hlY2tGbGFnICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICBpZiggX29ialZhbHVlLmhhc093blByb3BlcnR5KG5hbWUpICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGNvdW50R3JvdXBDaGVjayA9PSAxICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmpWYWx1ZVtuYW1lXSA9IFt2YWx1ZV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gX29ialZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9wID09IG5hbWUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqVmFsdWVbcHJvcF0ucHVzaCh2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqVmFsdWVbbmFtZV0gPSBbdmFsdWVdXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBfb2JqVmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9wID09IG5hbWUgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBfb2JqVmFsdWVbcHJvcF0uaW5kZXhPZih2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaSAhPSAtMSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqVmFsdWVbcHJvcF0uc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICBpZiggX29ialZhbHVlW25hbWVdLmxlbmd0aCA9PSAwICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9vYmpWYWx1ZVtuYW1lXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzdHJGaW5pc2ggPSAnJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJWYWx1ZXMgPSAnJyxcclxuICAgICAgICAgICAgICAgICAgICBzdHJGdWxsID0gJycsXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyQWxsID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5IGluIF9vYmpWYWx1ZSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2FyciA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9vYmpWYWx1ZVsga2V5IF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9hcnIucHVzaCggaXRlbSApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8PSBfYXJyLmxlbmd0aC0xOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0clZhbHVlcyA9IF9hcnIuam9pbignLCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN0ckZ1bGwgPSBrZXkgKyAnPScgKyBzdHJWYWx1ZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFyckFsbC5wdXNoKHN0ckZ1bGwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdHJGaW5pc2ggPSBhcnJBbGwuam9pbignJicpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW4udmFsKCBzdHJGaW5pc2ggKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdjYXRlZ29yeV9zdWInKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXHJcblxyXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICQoJy5zZWFyY2gnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIG5ldyBTZWFyY2goICQodGhpcykgKTtcclxuXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0gKTtcclxuXHJcbiAgICB2YXIgU2VhcmNoID0gZnVuY3Rpb24gKG9iaikge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfaW5wdXQgPSBfb2JqLmZpbmQoJ2lucHV0W3R5cGU9c2VhcmNoXScpLFxyXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxyXG4gICAgICAgICAgICBfcGF0aCA9IF9vYmouZGF0YSgncGF0aCcpLFxyXG4gICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQgPSAwLFxyXG4gICAgICAgICAgICBjb3VudEl0ZW1zID0gMCxcclxuICAgICAgICAgICAgdmFsdWVJbnB1dCA9IF9pbnB1dC52YWwoKSxcclxuICAgICAgICAgICAgX3Jlc3VsdCA9IF9vYmouZmluZCgnLnNlYXJjaF9fcmVzdWx0Jyk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcblxyXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9pbnB1dC5vbigge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbihJKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh3aW5kb3cpLndpZHRoKCkgPj0gMTAyNCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goSS5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZmlsdGVyKCcuYWN0aXZlJykubGVuZ3RoID09IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJ2Zvcm0nKS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVJbnB1dCA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggdmFsdWVJbnB1dC5sZW5ndGggPj0gX29iai5kYXRhKCdzeW1ib2xzJykgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FqYXhSZXF1ZXN0KCAkKHRoaXMpLCB2YWx1ZUlucHV0Lmxlbmd0aCk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS52YWwoKSA9PSAnJyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWRvd246IGZ1bmN0aW9uKEkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQnKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5maW5kKCcudG9wLXByb2R1Y3RzJykuaHRtbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQod2luZG93KS53aWR0aCgpID49IDEwMjQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKCBJLmtleUNvZGUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZmlsdGVyKCcuYWN0aXZlJykubGVuZ3RoID09IDAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IF9vYmouZGF0YSgnYWN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5maWx0ZXIoJy5hY3RpdmUnKS5maW5kKCdhJykuYXR0cignaHJlZicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY291bnRJdGVtcyA+IDAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9rZXlBY3RpdmF0ZSggSS5rZXlDb2RlICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHN1Z2dlc3RTZWxlY3RlZCA9PSBjb3VudEl0ZW1zKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQgPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5jbGljayggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcclxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJib2R5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGV2ZW50ICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcclxuICAgICAgICAgICAgICAgICAgICBcIi5zZWFyY2hfX2ZvdW5kIGxpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRleHQgPSBjdXJJdGVtLmZpbmQoJ2EnKS50ZXh0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXQudmFsKGN1clRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxyXG4gICAgICAgICAgICAgICAgICAgIFwia2V5ZG93blwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiLnNlYXJjaF9fZm91bmQgbGlcIixcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihJKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKEkua2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9rZXlBY3RpdmF0ZSA9IGZ1bmN0aW9uKG4pIHtcclxuXHJcbiAgICAgICAgICAgICAgICBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBfb2JqLnBhcmVudHMoKS5oYXNDbGFzcygnc2l0ZV9fZm9vdGVyJykgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBuID09IDM4ICYmIHN1Z2dlc3RTZWxlY3RlZCA8IGNvdW50SXRlbXMgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQrKztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggbiA9PSA0MCAmJiBzdWdnZXN0U2VsZWN0ZWQgPiAwICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkLS07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggc3VnZ2VzdFNlbGVjdGVkID4gMCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5lcSggLTEgLSAoc3VnZ2VzdFNlbGVjdGVkIC0gMSkgKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5lcSggLTEgLSAoc3VnZ2VzdFNlbGVjdGVkIC0gMSkgKS5maW5kKCdhJykudGV4dCgpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCB2YWx1ZUlucHV0ICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggbiA9PSA0MCAmJiBzdWdnZXN0U2VsZWN0ZWQgPCBjb3VudEl0ZW1zICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkKys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIG4gPT0gMzggJiYgc3VnZ2VzdFNlbGVjdGVkID4gMCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHN1Z2dlc3RTZWxlY3RlZCA+IDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZXEoIHN1Z2dlc3RTZWxlY3RlZCAtIDEgKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5lcSggc3VnZ2VzdFNlbGVjdGVkIC0gMSApLmZpbmQoJ2EnKS50ZXh0KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIHZhbHVlSW5wdXQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfYWRkRGF0YSA9IGZ1bmN0aW9uKCBkYXRhICkge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzID0gZGF0YS5jYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNBdmFpbGFiaWxpdHkgPSBjYXRlZ29yaWVzLmxlbmd0aCAhPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzID0gZGF0YS5wcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0F2YWlsYWJpbGl0eSA9IHByb2R1Y3RzLmxlbmd0aCAhPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FyciA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2F0ZWdvcmllc0FyciA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybFByb2R1Y3RzQ2F0ZWdvcmllc0FyciA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0c0F2YWlsYWJpbGl0eSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RzV3JhcCA9ICc8ZGl2IGNsYXNzPVwidG9wLXByb2R1Y3RzX193cmFwXCI+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCBwcm9kdWN0cywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzxkaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvcC1wcm9kdWN0c19faXRlbVwiPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9wLXByb2R1Y3RzX19waWNcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnKyBwcm9kdWN0LnNyYyArJylcIj5cXFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidG9wLXByb2R1Y3RzX19wcmljZVwiPjxkZWw+JysgcHJvZHVjdC5vbGRQcmljZSArJzwvZGVsPiAnKyBwcm9kdWN0LnByaWNlICsnPC9zcGFuPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJ0b3AtcHJvZHVjdHNfX2l0ZW0tdGl0bGVcIj4nKyBwcm9kdWN0Lm5hbWUgKyc8L2gzPlxcXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJysgcHJvZHVjdC5ocmVmICsnXCIgY2xhc3M9XCJ0b3AtcHJvZHVjdHNfX2J0blwiPnZpZXc8L2E+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggIWNhdGVnb3JpZXNBdmFpbGFiaWxpdHkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyLnB1c2goIFtwcm9kdWN0LmNhdGVnb3JpZXMubWFpbkNhdGVnb3J5LCBwcm9kdWN0LmNhdGVnb3JpZXMudXJsTWFpbkNhdGVnb3J5LCBwcm9kdWN0LmNhdGVnb3JpZXMuc3ViY2F0ZWdvcmllcywgcHJvZHVjdC5jYXRlZ29yaWVzLnVybFN1YmNhdGVnb3JpZXNdICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9ICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LmZpbmQoJ2RpdicpLmVxKDEpLmZpbmQoJy50b3AtcHJvZHVjdHMnKS5odG1sKCc8aDIgY2xhc3M9XCJ0b3AtcHJvZHVjdHNfX3RpdGxlXCI+VG9wIFByb2R1Y3RzPC9oMj4nICsgcHJvZHVjdHNXcmFwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdFN0ciA9ICc8dWwgY2xhc3M9XCJzZWFyY2hfX2ZvdW5kXCI+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGNhdGVnb3JpZXNBdmFpbGFiaWxpdHkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goIGNhdGVnb3JpZXMsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJjYXRlZ29yaWVzID0gdGhpcy5zdWJjYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybFN1YmNhdGVnb3JpZXMgPSB0aGlzLnVybFN1YmNhdGVnb3JpZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2F0ZWdvcmllc1dyYXAgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggc3ViY2F0ZWdvcmllcyAhPSB1bmRlZmluZWQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHN1YmNhdGVnb3JpZXMubGVuZ3RoLTE7IGkrKyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXNXcmFwICs9ICc8bGkgY2xhc3M9XCJzZWFyY2hfX2ZvdW5kLXN1YlwiPjxhIGhyZWY9XCInKyB1cmxTdWJjYXRlZ29yaWVzW2ldICsnXCI+JyArIHN1YmNhdGVnb3JpZXNbaV0gKyAnPC9hPjwvbGk+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXNXcmFwICs9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRTdHIgKz0gJzxsaT48YSBocmVmPVwiJysgdGhpcy51cmxDYXRlZ29yeSArJ1wiPicrIHRoaXMubmFtZSArJzwvYT48L2xpPicrIHN1YmNhdGVnb3JpZXNXcmFwICsnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8PSBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnIubGVuZ3RoLTE7IGkrKyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggZmxhZyApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2F0ZWdvcmllc0Fyci5wdXNoKGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbcHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xXVswXSAhPSBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMF0gKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2F0ZWdvcmllc0Fyci5wdXNoKGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGogPSAwOyBqIDw9IGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXS5sZW5ndGgtMTsgaisrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIHogPSAwOyB6IDw9IGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVsyXS5sZW5ndGgtMTsgeisrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbcHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xXVsyXS5pbmRleE9mKCBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMl1bel0pID09IC0xICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbcHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xXVsyXS5wdXNoKCBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMl1bel0gKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPD0gcHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xOyBpKysgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGogPSAwOyBqIDw9IHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXS5sZW5ndGgtMTsgaisrICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViY2F0ZWdvcmllc1dyYXAgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgeiA9IDA7IHogPD0gcHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzJdLmxlbmd0aC0xOyB6KysgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjYXRlZ29yaWVzV3JhcCArPSAnPGxpIGNsYXNzPVwic2VhcmNoX19mb3VuZC1zdWJcIj48YSBocmVmPVwiJyArIHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVszXVt6XSArICdcIj4nICsgcHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzJdW3pdICsgJzwvYT48L2xpPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICsrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXNXcmFwICs9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRTdHIgKz0gJzxsaT48YSBocmVmPVwiJyArIHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVsxXSArICdcIj4nICsgcHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzBdICsgJzwvYT48L2xpPicrIHN1YmNhdGVnb3JpZXNXcmFwICsnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRTdHIgKz0gJzwvdWw+JztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5maW5kKCdkaXY6Zmlyc3QnKS5odG1sKHJlc3VsdFN0cik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQnKS5maW5kKCdsaTpub3QoOmx0KDExKSknKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRJdGVtcyA9IF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQnKS5maW5kKCdsaScpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5hZGRDbGFzcygndmlzaWJsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9hamF4UmVxdWVzdCA9ICBmdW5jdGlvbiggaW5wdXQsIG4gKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcclxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBfcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dC52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOidtYWluX3NlYXJjaCdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG1zZyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBPYmplY3Qua2V5cyhtc2cpLmxlbmd0aCAhPSAwICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZERhdGEoIG1zZyApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbn0gKSgpOyJdfQ==
