!function(){var e=!0;$(function(){$(".site__menu").each(function(){new n($(this)),new t($(this))})});var n=function(e){var n=e,t=n.find(".site__menu-item"),i=n.find(".site__menu-icon"),s=$(window),o=null,d=s.width(),a=function(){s.on({resize:function(){d>s.width()&&(d=s.width(),s.find(".opened").removeClass("opened"))}}),$("body").on("click",".site__menu-icon",function(){if(jQuery(window).width()<1e3){var e=jQuery(this),n=e.parent("li");n.hasClass("opened")?n.removeClass("opened"):n.addClass("opened")}return!1}),i.on({click:function(){var e=jQuery(this),n=e.parents("li"),t=n.find(".site__menu-sub");return s.width()<1024&&(n.hasClass("opened")?(n.removeClass("opened"),t.slideUp()):(n.addClass("opened"),t.slideDown())),!1}}),t.on({mouseenter:function(){if(s.width()>=1024){var e=$(this);e.parent("ul");if(e.hasClass("site__menu-item_sub")){e.addClass("opened");var n=e.find(".site__menu-sub");s.width()-(n.innerWidth()+e.offset().left)<0?e.offset().left+e.innerWidth()-n.innerWidth()<0?n.css({left:"50%","-webkit-transform":"translateX(-50%)",transform:"translateX(-50%)"}):n.css({left:e.position().left-n.innerWidth()+e.innerWidth()}):n.css({left:e.position().left})}}}}),$("[data-product]").on({mouseenter:function(){if(s.width()>=1024){$(".featured-product__loading").addClass("visible"),o&&(clearTimeout(o),o=null);var e=$(this),t=e.data("product");o=setTimeout(function(){n.find(".featured-product").find(".featured-product__title").text(t.name),n.find(".featured-product").find(".featured-product__pic img").attr("src",t.src),n.find(".featured-product").find(".btn").attr("href",t.href),n.find(".featured-product").find(".featured-product__price span").text(t.price),t.onSale?n.find(".featured-product").find(".featured-product__remark").addClass("visible"):n.find(".featured-product").find(".featured-product__remark").removeClass("visible"),t.oldPrice?n.find(".featured-product").find(".featured-product__price del").text(t.oldPrice):n.find(".featured-product").find(".featured-product__price del").addClass("hidden")},160),o=setTimeout(function(){$(".featured-product__loading").removeClass("visible")},200)}}}),n.on("mouseleave",function(){s.width()>=1024&&$(this).find(".opened").removeClass("opened")}),n.find("ul").on("mouseleave",function(){s.width()>=1024&&$(this).find(".opened").removeClass("opened")}),n.find("li").on("mouseleave",function(){s.width()>=1024&&$(this).removeClass("opened")})},r=function(){a()};r()},t=function(n){var t,i,s=this,o=n,d=$(window),a=!1,r=$(".site__header"),c=$(".site__hidden-items"),u=r.innerHeight(),l=$(".site__header-btn"),f=$(".site__hidden-close"),h=$(".search"),p=$(".search-btn"),_=$(".search__cancel"),v=$(".site__hidden-btn"),m=$(".site"),C=$("html"),w=($(".site__content"),function(){$(document).on("click",".search",function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),$(document).on("click","body",function(){x()}),l.on({click:function(){g($(this))}}),f.on({click:function(){return y(),!1}}),p.on({click:function(){return T($(this)),!1}}),_.on({click:function(){return x(),!1}}),d.on({scroll:function(e){k(),a=d.scrollTop()>=u,0==d.scrollTop()&&r.removeClass("site__header_hidden")},DOMMouseScroll:function(e){var n=e.originalEvent.detail;if(n){var t=n>0?1:-1;b(t)}},mousewheel:function(e){var n=e.originalEvent.wheelDelta;if(n){var t=n>0?-1:1;b(t)}},touchmove:function(e){var n=e.originalEvent.touches[0].clientY;n>t?b(-1):n<t&&b(1),t=n},keydown:function(e){switch(e.which){case 32:b(1);break;case 33:b(-1);break;case 34:b(1);break;case 35:b(1);break;case 36:b(-1);break;case 38:b(-1);break;case 40:b(1);break;default:return}},resize:function(){d.width()>=1024&&(m.css({height:""}),setTimeout(function(){m.height()>d.height()&&C.css({"overflow-y":""})},10))}})}),b=function(n){n>0&&!r.hasClass("site__header_hidden")&&!l.hasClass("opened")&&a&&r.addClass("site__header_hidden"),n<0&&r.hasClass("site__header_hidden")&&!l.hasClass("opened")&&a&&e&&r.removeClass("site__header_hidden")},k=function(){d.scrollTop()>u+150?r.addClass("fixed"):r.removeClass("fixed")},g=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),c.removeClass("opened")):(n.addClass("opened"),c.addClass("opened")),i=d.scrollTop(),setTimeout(function(){m.height()>d.height()&&C.css({"overflow-y":"scroll"}),setTimeout(function(){m.css({height:"100%"})},10)},300)},T=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),h.removeClass("active"),v.removeClass("hidden")):(n.addClass("opened"),h.addClass("active"),v.addClass("hidden"))},y=function(){l.removeClass("opened"),c.removeClass("opened"),h.find("input").focusout(),m.css({height:""}),setTimeout(function(){m.height()>d.height()&&C.css({"overflow-y":""}),d.scrollTop(i)},10)},x=function(){p.removeClass("opened"),h.removeClass("active"),v.removeClass("hidden")},W=function(){o[0].obj=s,w()};W()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n=this,t=40,i=$(".popup__open"),e=o,p=e.find(".popup__close, .popup__cancel"),c=e.find(".popup__wrap"),u=e.find(".popup__content"),s=$("html"),d=$(window),a=setTimeout(function(){},1),f=function(){d.height()-2*t-c.height()>0?c.css({top:(d.height()-2*t-c.height())/2}):c.css({top:0})},r=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},l=function(){e.css({overflowY:"hidden"}),s.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),a=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},h=function(){e[0].obj=n,_()},_=function(){d.on({resize:function(){f()}}),i.on({click:function(){return v($(this).attr("data-popup")),!1}}),u.find(">div").on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return l(),!1}}),p.on({click:function(){return l(),!1}})},v=function(o){m(o),s.css({overflowY:"hidden",paddingRight:r()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};h()}}();
"use strict";!function(){$(function(){$.each($(".product__slider"),function(){new e($(this))}),$.each($(".featured-products"),function(){new i($(this))})});var e=function(e){var i,s,n=this,t=e,d=$(window),l=!1,o=0,r=function(){t[0].obj=n,a()},a=function(){c(),i=new Swiper(t.find(".gallery-top"),{slidesPerView:"1",loop:l,loopedSlides:o,centeredSlides:!1,spaceBetween:30,onSlideChangeEnd:function(e){if(l)$(".swiper-slide .product__slider-thumbs").css({"border-color":"transparent"}),$(".swiper-slide-active .product__slider-thumbs").css({"border-color":"rgba(244, 121, 32, 0.5)"});else{var i=e.activeIndex;$(s.slides).removeClass("is-selected"),$(s.slides).eq(i).addClass("is-selected"),s.slideTo(i,500,!1)}}}),s=new Swiper(t.find(".gallery-thumbs"),{centeredSlides:!1,slidesPerView:"4",touchRatio:.2,loop:l,loopedSlides:o,slideToClickedSlide:!0,breakpoints:{1440:{slidesPerView:"3"}},onInit:function(e){l||$(e.slides).eq(e.activeIndex).addClass("is-selected")},onClick:function(e,s){if(!l){var n=e.clickedIndex;e.activeIndex=n,e.updateClasses(),$(e.slides).removeClass("is-selected"),$(e.clickedSlide).addClass("is-selected"),i.slideTo(n,500,!1)}}}),i.params.control=s,s.params.control=i,l&&$(".swiper-slide-active .product__slider-thumbs").css({"border-color":"rgba(244, 121, 32, 0.5)"})},c=function(){d.width()<1440?t.find(".gallery-thumbs .swiper-slide").length>=3&&(l=!0,o=t.find(".gallery-thumbs .swiper-slide").length):t.find(".gallery-thumbs .swiper-slide").length>=4&&(l=!0,o=t.find(".gallery-thumbs .swiper-slide").length)};r()},i=function(e){var i,s,n=this,t=e,d=$(window),l=function(){t[0].obj=n,o(),d.width()<=768?s=!1:(s=!0,a())},o=function(){d.on({resize:function(){d.width()<=768?s&&(s=!1,r()):s||(s=!0,a())}})},r=function(){i.destroy(!0,!0)},a=function(){i=new Swiper(t.find(".swiper-container"),{pagination:t.find(".swiper-pagination"),slidesPerView:5,paginationClickable:!0,speed:600,loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1,nextButton:t.find(".swiper-button-next"),prevButton:t.find(".swiper-button-prev"),breakpoints:{1440:{slidesPerView:4}}})};l()}}();
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=$('<span class="websters-select__item"></span>'),p=$('<div class="websters-select"></div>'),r=$(window),f=$("body"),u=!1,h=function(){var e="";o.css({opacity:0}),o.wrap(p),p=o.parent(),p.append('<div class="websters-select__arrow"></div>'),o.before(l),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),l.text(e)},v=function(){u=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),p.removeClass("websters-select_opened")},b=function(){o[0].obj=i,h(),g(),w()},w=function(){o.on("change",function(){l.text($(this).find("option:selected").text())}),$(document).on("change","select",function(){$(this).prev().text($(this).find("option:selected").text())}),1!=s||d||p.on({click:function(e){e.stopPropagation(),u?v():y()}}),f.on({click:function(){u&&v()}})},g=function(){!s||d?x():1==s&&_()},_=function(){p.addClass("websters-select_custom")},x=function(){p.addClass("websters-select_mobile")},y=function(){var e=$("select"),i=$("<ul></ul>"),s=(r.scrollTop(),p.offset(),0),d=o.find("option:selected").index(),l=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),u&&t.remove(),u=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+l+'"></div>'),o.find("option").each(function(e){var t=$(this);e==d?i.append('<li class="active">'+t.text()+"</li>"):i.append("<li>"+t.text()+"</li>")}),t.append(i),p.append(t),p.addClass("websters-select_opened"),t.css({width:p.outerWidth(),left:-2,top:p.outerHeight()-4}),s=t.outerHeight(),s>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.perfectScrollbar()),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),v()}})};i.checkOpened=function(){return u},i.close=function(){v()},b()}}();
!function(){$(function(){$(".category").each(function(){new e($(this))})});var e=function(e){var a=e,t=$("body").data("action"),i=new XMLHttpRequest,n=a.find(".category__filters-item span"),s=a.find(".category__filters-title"),r=a.find(".category__filters-items"),c=(r.find("form"),a.find(".category__filtered-close")),o=a.find(".category__filters-list"),d=a.find(".category__filtered"),l=a.find(".category__filtered-list"),f=0,p=a.find(".category__filters-title"),v=a.find(".category__filters-title-inner"),u=a.find(".category__filtered .btn, .category__filters-clear"),h=(a.find(".category__filtered-remove"),!1),g=$('<div class="loading"></div>'),_=a.find("input[type=hidden].value-check"),y=a.find("input[type=hidden].current-page"),m=a.find("#items-page"),b=a.find("#sorting-date"),C=a.find(".category__wrap").data("rate-path"),w=a.find(".category__filters-apply"),k=$(window),x={},T=null,I=[],P="",j="",z=function(){k.on({resize:function(){n.each(function(){var e=$(this),a=e.parent(),t=e.next();a.hasClass("opened")&&t.css({"min-height":t.find(">div").innerHeight()})}),k.width()>=1024&&$(".site__content").css({"z-index":""})},load:function(){}}),n.on({click:function(){var e=$(this),a=e.parent(),t=e.next();a.hasClass("opened")?(a.removeClass("opened"),t.css({"min-height":0,height:0})):(a.addClass("opened"),t.css({"min-height":t.find(">div").innerHeight()}),setTimeout(function(){t.css({height:"auto"})},310))}}),s.on({click:function(){S()}}),u.on({click:function(){return O(),!1}}),$(document).on("click",".pagination a",function(){var e=$(this),a=parseInt(e.text());return e.hasClass("pagination__prev")?1!=parseInt(y.val())&&(y.val(y.val()-1),H(),E()):e.hasClass("pagination__next")?e.prev().hasClass("active")||(y.val(parseInt(y.val())+1),H(),E()):a!=parseInt(y.val())&&(y.val(a),H(),E()),!1}),$(document).on("click",".category__filtered-remove",function(){var e=$(this),a=e.parent(),t=a.data("id"),i=a.data("name");return R(t,i),!1}),c.on({click:function(){return S(),!1}}),w.on({click:function(){return S(),!1}}),o.find("input[type=checkbox]").on({change:function(){var e=$(this),a=e.next(),t=a.clone().children().remove().end().text(),i=e.attr("name"),n=e.data("id"),s=e.parents(".category__filters-item").find("span")[0].innerText;h=e.prop("checked"),h?(P=i,"price"==P&&(j=n)):(P="",j=""),k.width()>=1024&&(H(),S()),L(i,n,h),D(t,n,i,s),E()}}),m.on({change:function(){H(),E()}}),b.on({change:function(){H(),E()}})},D=function(e,a,t,i){h?l.append("<li data-name="+t+' data-id="'+a+'">'+i+": "+e+' <a href="#" class="category__filtered-remove"></a></li>'):l.find('li[data-id="'+a+'"]').remove(),f=l.find("li").length,f>0?(d.removeClass("hidden"),p.find("span").html("("+f+")"),v.find("span").html("("+f+")"),p.addClass("selected"),u.removeClass("hidden")):(d.addClass("hidden"),p.find("span").html(""),v.find("span").html(""),p.removeClass("selected"),u.addClass("hidden"))},H=function(){g=$('<div class="loading"></div>'),$(".category__content").append(g)},F=function(){T&&(clearTimeout(T),T=null),T=setTimeout(function(){$(".loading").addClass("hidden")},300),T=setTimeout(function(){$(".loading").remove()},620)},O=function(){d.addClass("hidden"),p.find("span").html(""),v.find("span").html(""),p.removeClass("selected"),l.find("li").remove(),o.find("input[type=checkbox]").prop("checked",!1),_.val(""),H(),E()},R=function(e,a){o.find('input[data-id="'+e+'"]').prop("checked",!1),h=!1,D("",e,"",""),H(),L(a,e,h),E()},S=function(){s.hasClass("opened")?(s.removeClass("opened"),r.removeClass("opened"),$(".site__content").attr("style","")):(s.addClass("opened"),r.addClass("opened"),$(".site__content").css({"z-index":100}))},q=function(e){var a=parseInt(e.settings.pagesAll),t=parseInt(e.settings.currentPage);if(y.val(t),1!=a&&0!=a){var i='<div class="pagination">';if(i+='<a href="#" class="pagination__prev"></a>',a<=7)for(var n=1;n<=a;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else{if(t<=3||t>a-3){for(var n=1;n<=3;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>";for(var n=a-2;n<=a;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>"}if(t>3&&t<=a-3){if(i+='<a href="#">1</a>',i+="<span>...</span>",t-1>3&&t+1<=a-3)for(var n=t-1;n<=t+1;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else if(t-1<=3)for(var n=t;n<=t+2;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else if(t+1>=a-3)for(var n=t-2;n<=t;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>",i+='<a href="#">'+a+"</a>"}if(8==a&&t>3&&t<=a-3){i+='<a href="#">1</a>',i+="<span>...</span>";for(var n=4;n<=5;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>",i+='<a href="#">'+a+"</a>"}}i+='<a href="#" class="pagination__next"></a>',i+="</div>",$(".pagination-wrap").html(i)}else $(".pagination").length&&$(".pagination").remove()},A=function(e){var a=e.products,t='<div class="products-subcategory">';$.each(a,function(){var e=this,a=e.price[0],i=e.oldPrice[0];if("price"==P){for(var n=parseFloat(j),s=0;s<=e.price.length-1;s++){var r=parseFloat(e.price[s].replace("$","").replace(",",""));if(r>=n){a=e.price[s],i=e.oldPrice[s];break}}console.log(a),console.log(i)}if(t+='<div class="products-subcategory__item">',void 0!=e.featured&&""!=e.featured&&(t+='<span class="site__featured">'+e.featured+"</span>"),t+='<div class="products-subcategory__head">                                            <div>                                                <a href="'+e.urlDetails+'" class="products-subcategory__pic" style="background-image: url('+e.picture+')"></a>                                            </div>                                            <div>                                                <h2 class="products-subcategory__title"><a href="'+e.urlDetails+'">'+e.title+"</a></h2>",void 0!=e.rate){t+='<div class="rate">';for(var s=0;s<=e.rate.starsCount-1;s++)t+='<img src="'+C+'img/star.png" width="60" height="50" alt="">&nbsp;';t+='<a href="'+e.rate.urlReviews+'" class="rate__reviews">'+e.rate.reviewsCount+"</a>                                                </div>"}if(t+='</div>                                        </div>                                        <div class="products-subcategory__content">',void 0!=e.content.description&&""!=e.content.description){t+='<div>                                        <ul class="products-subcategory__description">';for(var s=0;s<=e.content.description.length-1;s++)t+="<li>"+e.content.description[s]+"</li>";t+="</ul>                                    </div>"}if(t+='<div>                                            <div class="products-subcategory__items">',void 0!=e.content.specification&&""!=e.content.specification){t+='<div>                    <div class="products-subcategory__specification">                                                        <div class="products-subcategory__specification-head">';for(var s=0;s<=e.content.specification.head.length-1;s++)t+='<div style="width:'+100/e.content.specification.head.length+'%">'+e.content.specification.head[s]+"</div>";t+='</div>                                                        <div class="products-subcategory__specification-content">';for(var s=0;s<=e.content.specification.content.length-1;s++)t+='<div style="width:'+100/e.content.specification.head.length+'%">'+e.content.specification.content[s]+"</div>";t+="</div>                                                    </div>                                                </div>"}t+=void 0!=i&&""!=i?'<div class="products-subcategory__footer">                                                    <div class="products-subcategory__price">                                                        <del>'+i+"</del> "+a+"                                                    </div>":'<div class="products-subcategory__footer">                                                    <div class="products-subcategory__price">                                                        '+a+"                                                    </div>",t+='<a href="'+e.urlDetails+'" class="btn btn_3">see details</a>                                                </div>                                            </div>                                        </div>                                    </div>                                    </div>'}),t+="</div>",$(".category__wrap").html(t),F()},E=function(){i.abort(),i=$.ajax({url:t,data:{action:"get_filtered_products",value:_.val(),pageSorting:m.val(),dateSorting:b.val(),currentPage:y.val(),idCategory:a.data("id-category")},dataType:"json",type:"get",success:function(e){A(e),q(e)},error:function(e){"abort"!=e.statusText&&console.log("Error")}})},L=function(e,a,t){if(t)if(x.hasOwnProperty(e))for(var i in x)i==e&&x[i].push(a);else x[e]=[a];else{for(var i in x)if(i==e){var n=x[i].indexOf(a);n!=-1&&x[i].splice(n,1)}0==x[e].length&&delete x[e]}var s="",r="",c="",o=[];for(var d in x){I=[];var l=x[d];I.push(l);for(var n=0;n<=I.length-1;n++)r=I.join(",");c=d+"="+r,o.push(c),s=o.join("&")}_.val(s)},M=function(){z(),a.hasClass("category_sub")&&(H(),E())};M()}}();
!function(){$(function(){$(".search").each(function(){new e($(this))})});var e=function(e){var i=e,a=i.find("input[type=search]"),t=new XMLHttpRequest,n=i.data("path"),s=0,o=0,r=a.val(),c=i.find(".search__result"),l=function(){a.on({keyup:function(e){if($(window).width()>=1024)switch(e.keyCode){case 13:0==c.find(".search__found li").filter(".active").length&&i.find("form").submit();break;case 32:case 27:case 37:case 38:case 39:case 40:break;default:var a=$(this).val();a.length>0?h($(this),a.length):""==$(this).val()&&(c.removeClass("visible"),s=0)}},keydown:function(e){if($(window).width()>=1024)switch(e.keyCode){case 13:return 0==c.find(".search__found li").filter(".active").length?window.location.href=i.data("action"):window.location.href=c.find(".search__found li").filter(".active").find("a").attr("href"),!1;case 27:return c.remove(),s=0,!1;case 38:case 40:e.preventDefault(),o>0&&(d(e.keyCode),s==o&&(s=0))}}}),$("html").click(function(){c.removeClass("visible"),s=0}),$(document).on("click","body",function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),$(document).on("click",".search__found li",function(){var e=$(this),i=e.find("a").text();a.val(i),c.removeClass("visible"),s=0}),$(document).on("keydown",".search__found li",function(e){switch(e.keyCode){case 13:$(this).trigger("click")}})},d=function(e){c.find(".search__found li").removeClass("active"),i.parents().hasClass("site__footer")?(38==e&&s<o?s++:40==e&&s>0&&s--,s>0?(c.find(".search__found li").eq(-1-(s-1)).addClass("active"),a.val(c.find(".search__found li").eq(-1-(s-1)).find("a").text())):a.val(r)):(40==e&&s<o?s++:38==e&&s>0&&s--,s>0?(c.find(".search__found li").eq(s-1).addClass("active"),a.val(c.find(".search__found li").eq(s-1).find("a").text())):a.val(r))},f=function(e){var e=e,i=e.categories,a=0!=i.length,t=e.products,n=[],s=[],r=!0,l='<div class="top-products__wrap">';$.each(t,function(){var e=this;l+='<div>                                            <div class="top-products__item">                                                <div class="top-products__pic">                                                    <img src="'+e.src+'" width="414" height="414" alt="'+e.alt+'">                                                </div>                                                <span class="top-products__price"><del>'+e.oldPrice+"</del> "+e.price+'</span>                                                <h3 class="top-products__item-title">'+e.name+'</h3>                                                <a href="'+e.href+'" class="top-products__btn">view</a>                                            </div>                                        </div>',a||n.push([e.categories.mainCategory,e.categories.urlMainCategory,e.categories.subcategories,e.categories.urlSubcategories])}),l+="</div>",c.find("div").eq(1).find(".top-products").html(l);var d='<ul class="search__found">';if(a)$.each(i,function(){var e=this.subcategories,i=this.urlSubcategories,a="";if(void 0!=e){for(var t=0;t<=e.length-1;t++)a+='<li class="search__found-sub"><a href="'+i[t]+'">'+e[t]+"</a></li>";a+=""}d+='<li><a href="'+this.urlCategory+'">'+this.name+"</a></li>"+a});else{for(var f=0;f<=n.length-1;f++)if(r&&(s.push(n[f]),r=!1),s[s.length-1][0]!=n[f][0])s.push(n[f]);else for(var h=0;h<=n[f].length-1;h++)for(var u=0;u<=n[f][2].length-1;u++)s[s.length-1][2].indexOf(n[f][2][u])==-1&&s[s.length-1][2].push(n[f][2][u]);for(var v=0,f=0;f<=s.length-1;f++){for(var h=0;h<=s[f].length-1;h++){for(var _="",u=0;u<=s[f][2].length-1;u++)_+='<li class="search__found-sub"><a href="'+s[f][3][u]+'">'+s[f][2][u]+"</a></li>",v++;_+=""}d+='<li><a href="'+s[f][1]+'">'+s[f][0]+"</a></li>"+_}}d+="</ul>",c.find("div:first").html(d),c.find(".search__found").find("li:not(:lt(11))").remove(),o=c.find(".search__found").find("li").length,c.addClass("visible")},h=function(e,i){return t.abort(),t=$.ajax({url:n,data:{value:e.val(),action:"main_search"},dataType:"json",type:"get",success:function(e){f(e)},error:function(e){"abort"!=e.statusText&&console.log("Error")}}),!1},u=function(){l()};u()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5LnByb2R1Y3Qtc2xpZGVyLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyIsImpxdWVyeS5maWx0ZXJzLmpzIiwianF1ZXJ5LnNlYXJjaC5qcyJdLCJuYW1lcyI6WyJnbG9iYWxTY3JvbGxGbGFnIiwiJCIsImVhY2giLCJTdWJNZW51IiwidGhpcyIsIk1lbnUiLCJvYmoiLCJfb2JqIiwiX2l0ZW1zIiwiZmluZCIsIl9hcnJvdyIsIl93aW5kb3ciLCJ3aW5kb3ciLCJ0aW1lb3V0IiwiX3N0YXJ0V2luV2lkdGgiLCJ3aWR0aCIsIl9hZGRFdmVudHMiLCJvbiIsInJlc2l6ZSIsInJlbW92ZUNsYXNzIiwialF1ZXJ5IiwiY3VySXRlbSIsInBhcmVudCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJjbGljayIsInBhcmVudHMiLCJzdWJNZW51Iiwic2xpZGVVcCIsInNsaWRlRG93biIsIm1vdXNlZW50ZXIiLCJpbm5lcldpZHRoIiwib2Zmc2V0IiwibGVmdCIsImNzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwicG9zaXRpb24iLCJjbGVhclRpbWVvdXQiLCJkYXRhIiwic2V0VGltZW91dCIsInRleHQiLCJuYW1lIiwiYXR0ciIsInNyYyIsImhyZWYiLCJwcmljZSIsIm9uU2FsZSIsIm9sZFByaWNlIiwiX2luaXQiLCJfbGFzdFBvcyIsInNpdGVTY3JvbGxUb3AiLCJfc2VsZiIsIl9tZW51IiwiX2FjdGlvbiIsIl9oZWFkZXIiLCJfaGlkZGVuQmxvY2tNZW51IiwiX2hlYWRlckhlaWdodCIsImlubmVySGVpZ2h0IiwiX3Nob3dCdG4iLCJfY2xvc2VCdG4iLCJfc2VhcmNoIiwiX29wZW5TZWFyY2giLCJfY2xvc2VTZWFyY2giLCJfZ2V0RnJlZSIsIl9zaXRlIiwiX2RvbSIsImRvY3VtZW50IiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJfY2xvc2VTZWFyY2hCb3giLCJfb3Blbk1lbnUiLCJfY2xvc2VNZW51IiwiX29wZW5TZWFyY2hCb3giLCJzY3JvbGwiLCJlIiwiX2ZpeGVkSGVhZGVyIiwic2Nyb2xsVG9wIiwiRE9NTW91c2VTY3JvbGwiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJkZXRhaWwiLCJkaXJlY3Rpb24iLCJfY2hlY2tTY3JvbGwiLCJtb3VzZXdoZWVsIiwid2hlZWxEZWx0YSIsInRvdWNobW92ZSIsImN1cnJlbnRQb3MiLCJ0b3VjaGVzIiwiY2xpZW50WSIsImtleWRvd24iLCJ3aGljaCIsImhlaWdodCIsIm92ZXJmbG93LXkiLCJlbGVtIiwiZm9jdXNvdXQiLCJQb3B1cCIsIl9wb3B1cFBhZGRpbmciLCJfYnRuU2hvdyIsIl9idG5DbG9zZSIsIl93cmFwIiwiX2NvbnRlbnRzIiwiX3Njcm9sbENvbnRlaW5lciIsIl90aW1lciIsIl9jZW50ZXJXcmFwIiwidG9wIiwiX2dldFNjcm9sbFdpZHRoIiwic2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYm9keSIsImFwcGVuZENoaWxkIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwiX2hpZGUiLCJvdmVyZmxvd1kiLCJwYWRkaW5nUmlnaHQiLCJfb25FdmVudHMiLCJfc2hvdyIsIl9zZXRQb3B1cENvbnRlbnQiLCJjdXJDb250ZW50IiwiZmlsdGVyIiwiZGlzcGxheSIsIlByb2R1Y3RTbGlkZXIiLCJGZWF0dXJlZFByb2R1Y3RzU2xpZGVyIiwiX3NsaWRlciIsIl9nYWxsZXJ5VGh1bWJzIiwiX2xvb3AiLCJfc2xpZGVzTGVuZ3RoIiwiX2NvbnN0cnVjdG9yIiwiX2luaXRTbGlkZXIiLCJfYWRkU29tZVBhcmFtcyIsIlN3aXBlciIsInNsaWRlc1BlclZpZXciLCJsb29wIiwibG9vcGVkU2xpZGVzIiwiY2VudGVyZWRTbGlkZXMiLCJzcGFjZUJldHdlZW4iLCJvblNsaWRlQ2hhbmdlRW5kIiwic3dpcGVyIiwiYm9yZGVyLWNvbG9yIiwiYWN0aXZlSW5kZXgiLCJzbGlkZXMiLCJlcSIsInNsaWRlVG8iLCJ0b3VjaFJhdGlvIiwic2xpZGVUb0NsaWNrZWRTbGlkZSIsImJyZWFrcG9pbnRzIiwiMTQ0MCIsIm9uSW5pdCIsIm9uQ2xpY2siLCJjbGlja2VkIiwiY2xpY2tlZEluZGV4IiwidXBkYXRlQ2xhc3NlcyIsImNsaWNrZWRTbGlkZSIsInBhcmFtcyIsImNvbnRyb2wiLCJsZW5ndGgiLCJfZmxhZyIsIl9kZXN0cm95IiwiZGVzdHJveSIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2thYmxlIiwic3BlZWQiLCJhdXRvcGxheSIsImF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24iLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsIldlYnN0ZXJzU2VsZWN0Iiwib3B0aW9uVHlwZSIsInNob3dUeXBlIiwiX3BvcHVwIiwiX3Njcm9sbCIsIl9vcHRpb25UeXBlIiwiX3Nob3dUeXBlIiwiX3Zpc2libGUiLCJ2aXNpYmxlIiwiX2RldmljZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJfdGV4dCIsIl9ib2R5IiwiX29wZW5lZCIsIl9hZGRXcmFwIiwiY3VyVGV4dCIsIm9wYWNpdHkiLCJ3cmFwIiwiYXBwZW5kIiwiYmVmb3JlIiwiX2hpZGVQb3B1cCIsInN0b3AiLCJyZW1vdmUiLCJmYWRlT3V0IiwiX3NlbGVjdFZpZXdUeXBlIiwicHJldiIsIl9zaG93UG9wdXAiLCJfc2V0TW9iaWxlVmlldyIsIl9zZXRDdXN0b20xIiwic2VsZWN0cyIsImxpc3QiLCJtYXhIZWlnaHQiLCJjdXJJbmRleCIsImluZGV4IiwiaWQiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJjaGVja09wZW5lZCIsImNsb3NlIiwiaSIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsInBlcmZlY3RTY3JvbGxiYXIiLCJhbmltYXRlIiwidmFsIiwidHJpZ2dlciIsIkZpbHRlcnMiLCJfcGF0aCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfYnRuIiwiX2J0bjIiLCJfZmlsdGVycyIsIl9jbG9zZUZpbHRlcnMiLCJfZmlsdGVySXRlbSIsIl9maWx0ZXJlZCIsIl9maWx0ZXJlZExpc3QiLCJfY291bnRGaWx0ZXJlZCIsIl90aXRsZSIsIl90aXRsZUlubmVyIiwiX2NsZWFyRmlsdGVycyIsIl9nbG9iYWxDaGVja0ZsYWciLCJfbG9hZGluZyIsIl9pbnB1dEhpZGRlbiIsIl9pbnB1dEhpZGRlblBhZ2UiLCJfc29ydGluZ1BhZ2UiLCJfc29ydGluZ0RhdGUiLCJfZGF0YVJhdGVQYXRoIiwiX2FwcGx5IiwiX29ialZhbHVlIiwiX3RpbWVvdXQiLCJfYXJyIiwiX2NoZWNrTmFtZSIsIl9jaGVja1ByaWNlIiwibmV4dEZpbHRlcnMiLCJuZXh0IiwibWluLWhlaWdodCIsInotaW5kZXgiLCJsb2FkIiwiX2Nsb3NlRmlsdGVyIiwiX2NsZWFyRmlsdGVyIiwidmFsdWUiLCJwYXJzZUludCIsIl9hZGRMb2FkaW5nIiwiX3JlcXVlc3RDb250ZW50IiwiZGF0YUlkIiwiZGF0YU5hbWUiLCJfY2xlYXJTaW5nbGVGaWx0ZXIiLCJjaGFuZ2UiLCJsYWJlbCIsImxhYmVsVGV4dCIsImNsb25lIiwiY2hpbGRyZW4iLCJlbmQiLCJjYXRlZ29yeU5hbWUiLCJpbm5lclRleHQiLCJwcm9wIiwiX3dyaXRlSW5IaWRkZW4iLCJfYWRkaW5nRmlsdGVyZWRCeSIsIml0ZW1UZXh0IiwiaXRlbUlkIiwiaXRlbU5hbWUiLCJodG1sIiwiX2Nsb3NlTG9hZGluZyIsIl9jcmVhdGVQYWdpbmF0aW9uIiwicGFnZXMiLCJzZXR0aW5ncyIsInBhZ2VzQWxsIiwiYWN0aXZlUGFnZSIsImN1cnJlbnRQYWdlIiwicGFnaW5hdGlvbldyYXAiLCJfcGFzdGVOZXdQcm9kdWN0cyIsIm5ld0RhdGEiLCJwcm9kdWN0cyIsInByb2R1Y3RzV3JhcCIsInByb2R1Y3QiLCJzYWxlUHJpY2UiLCJwcmljZUZpbHRlciIsInBhcnNlRmxvYXQiLCJwcmljZUl0ZW0iLCJyZXBsYWNlIiwiY29uc29sZSIsImxvZyIsInVuZGVmaW5lZCIsImZlYXR1cmVkIiwidXJsRGV0YWlscyIsInBpY3R1cmUiLCJ0aXRsZSIsInJhdGUiLCJzdGFyc0NvdW50IiwidXJsUmV2aWV3cyIsInJldmlld3NDb3VudCIsImNvbnRlbnQiLCJkZXNjcmlwdGlvbiIsInNwZWNpZmljYXRpb24iLCJoZWFkIiwiYWJvcnQiLCJhamF4IiwidXJsIiwiYWN0aW9uIiwicGFnZVNvcnRpbmciLCJkYXRlU29ydGluZyIsImlkQ2F0ZWdvcnkiLCJkYXRhVHlwZSIsInR5cGUiLCJzdWNjZXNzIiwibSIsImVycm9yIiwic3RhdHVzVGV4dCIsImNoZWNrRmxhZyIsImhhc093blByb3BlcnR5IiwicHVzaCIsImluZGV4T2YiLCJzcGxpY2UiLCJzdHJGaW5pc2giLCJzdHJWYWx1ZXMiLCJzdHJGdWxsIiwiYXJyQWxsIiwia2V5IiwiaXRlbSIsImpvaW4iLCJTZWFyY2giLCJfaW5wdXQiLCJzdWdnZXN0U2VsZWN0ZWQiLCJjb3VudEl0ZW1zIiwidmFsdWVJbnB1dCIsIl9yZXN1bHQiLCJrZXl1cCIsIkkiLCJrZXlDb2RlIiwic3VibWl0IiwiX2FqYXhSZXF1ZXN0IiwibG9jYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIl9rZXlBY3RpdmF0ZSIsIm4iLCJfYWRkRGF0YSIsImNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzQXZhaWxhYmlsaXR5IiwiYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyIiwicHJvZHVjdHNDYXRlZ29yaWVzQXJyIiwiZmxhZyIsImFsdCIsIm1haW5DYXRlZ29yeSIsInVybE1haW5DYXRlZ29yeSIsInN1YmNhdGVnb3JpZXMiLCJ1cmxTdWJjYXRlZ29yaWVzIiwicmVzdWx0U3RyIiwic3ViY2F0ZWdvcmllc1dyYXAiLCJ1cmxDYXRlZ29yeSIsImoiLCJ6IiwiY291bnQiLCJpbnB1dCIsIm1zZyJdLCJtYXBwaW5ncyI6IkNBQUEsV0FHSSxHQUFJQSxJQUFtQixDQUV2QkMsR0FBRSxXQUVFQSxFQUFFLGVBQWVD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d0osR0FBSyxZQUMxSUMsR0FJSkosSUFBcUIsR0FJekJELEdBQWEsZ0JBQWtCUCxFQUFzQjdJLEdBQUcsR0FBSyxLQUFPNkksRUFBc0I3SSxHQUFHLEdBQUssWUFBYXFKLEdBTXZIRCxHQUFhLFFBRWJyQixFQUFRM1UsS0FBSyxhQUFhMlEsS0FBS3FGLEdBRS9CckIsRUFBUTNVLEtBQUssa0JBQWtCQSxLQUFLLG1CQUFtQjBMLFNBRXZEK0ksRUFBYUUsRUFBUTNVLEtBQUssa0JBQWtCQSxLQUFLLE1BQU11SixPQUV2RG9MLEVBQVE1VCxTQUFTLFlBR3JCaVUsRUFBZ0IsU0FBVXNCLEVBQU9sQixHQXVCN0IsTUFyQkEvSCxHQUFTd0YsUUFDVHhGLEVBQVc3TixFQUFFc1QsTUFDVEMsSUFBSzNGLEVBQ0x0TCxNQUNJd04sTUFBT2dILEVBQU1ySixNQUNiK0YsT0FBTyxlQUVYSSxTQUFVLE9BQ1ZDLEtBQU0sTUFDTkMsUUFBUyxTQUFXaUQsR0FFaEJsQixFQUFVa0IsSUFHZC9DLE1BQU8sU0FBVWxHLEdBQ29CLFNBQTdCQSxFQUFlbUcsWUFDZjNCLFFBQVFDLElBQUksYUFLakIsR0FFWHZQLEVBQVEsV0FDSmpDLElBT1JpQyIsImZpbGUiOiJjYXRlZ29yeS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCl7XG5cblxuICAgIHZhciBnbG9iYWxTY3JvbGxGbGFnID0gdHJ1ZTtcblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5zaXRlX19tZW51JykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTdWJNZW51KCAkKHRoaXMpICk7XG4gICAgICAgICAgICBuZXcgTWVudSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBTdWJNZW51ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2l0ZW1zID0gX29iai5maW5kKCcuc2l0ZV9fbWVudS1pdGVtJyksXG4gICAgICAgICAgICBfYXJyb3cgPSBfb2JqLmZpbmQoJy5zaXRlX19tZW51LWljb24nKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbCxcbiAgICAgICAgICAgIF9zdGFydFdpbldpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3N0YXJ0V2luV2lkdGggPiBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RhcnRXaW5XaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93aW5kb3cuZmluZCgnLm9wZW5lZCcpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsICcuc2l0ZV9fbWVudS1pY29uJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGpRdWVyeSh3aW5kb3cpLndpZHRoKCkgPCAxMDAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGpRdWVyeSh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJJdGVtLnBhcmVudCgnbGknKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwYXJlbnQuaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2Fycm93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0galF1ZXJ5KHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50cygnbGknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNZW51ID0gcGFyZW50LmZpbmQoJy5zaXRlX19tZW51LXN1YicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcmVudC5oYXNDbGFzcygnb3BlbmVkJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudS5zbGlkZVVwKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUuc2xpZGVEb3duKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfaXRlbXMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnQoJ3VsJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5oYXNDbGFzcygnc2l0ZV9fbWVudS1pdGVtX3N1YicpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJNZW51ID0gY3VySXRlbS5maW5kKCcuc2l0ZV9fbWVudS1zdWInKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggKCBfd2luZG93LndpZHRoKCkgLSAoIHN1Yk1lbnUuaW5uZXJXaWR0aCgpICsgY3VySXRlbS5vZmZzZXQoKS5sZWZ0ICkgKSA8IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAoICggY3VySXRlbS5vZmZzZXQoKS5sZWZ0ICsgY3VySXRlbS5pbm5lcldpZHRoKCkgKSAtIHN1Yk1lbnUuaW5uZXJXaWR0aCgpICkgPCAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJzUwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKC01MCUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKC01MCUpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGN1ckl0ZW0ucG9zaXRpb24oKS5sZWZ0IC0gc3ViTWVudS5pbm5lcldpZHRoKCkgKyBjdXJJdGVtLmlubmVyV2lkdGgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNZW51LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGN1ckl0ZW0ucG9zaXRpb24oKS5sZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAkKCdbZGF0YS1wcm9kdWN0XScpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZmVhdHVyZWQtcHJvZHVjdF9fbG9hZGluZycpLmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltZW91dCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGN1ckl0ZW0uZGF0YSgncHJvZHVjdCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiggJCgnLmZlYXR1cmVkLXByb2R1Y3RfX2xvYWRpbmcnKS5oYXNDbGFzcygndmlzaWJsZScpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdCcpLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X190aXRsZScpLnRleHQoZGF0YS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcGljIGltZycpLmF0dHIoJ3NyYycsIGRhdGEuc3JjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuYnRuJykuYXR0cignaHJlZicsIGRhdGEuaHJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3ByaWNlIHNwYW4nKS50ZXh0KGRhdGEucHJpY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggZGF0YS5vblNhbGUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdCcpLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X19yZW1hcmsnKS5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3JlbWFyaycpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhLm9sZFByaWNlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcHJpY2UgZGVsJykudGV4dChkYXRhLm9sZFByaWNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcHJpY2UgZGVsJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE2MCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmZlYXR1cmVkLXByb2R1Y3RfX2xvYWRpbmcnKS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9vYmoub24oICdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLm9wZW5lZCcpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5maW5kKCd1bCcpLm9uKCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5vcGVuZWQnKS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9vYmouZmluZCgnbGknKS5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX21lbnUgPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2FjdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgX2FjdGlvblNjcm9sbCA9IGZhbHNlLFxuICAgICAgICAgICAgX2xhc3RQb3MsXG4gICAgICAgICAgICBfaGVhZGVyID0gJCgnLnNpdGVfX2hlYWRlcicpLFxuICAgICAgICAgICAgX2hpZGRlbkJsb2NrTWVudSA9ICQoJy5zaXRlX19oaWRkZW4taXRlbXMnKSxcbiAgICAgICAgICAgIF9oZWFkZXJIZWlnaHQgPSBfaGVhZGVyLmlubmVySGVpZ2h0KCksXG4gICAgICAgICAgICBfc2hvd0J0biA9ICQoJy5zaXRlX19oZWFkZXItYnRuJyksXG4gICAgICAgICAgICBfY2xvc2VCdG4gPSAkKCcuc2l0ZV9faGlkZGVuLWNsb3NlJyksXG4gICAgICAgICAgICBfc2VhcmNoID0gJCgnLnNlYXJjaCcpLFxuICAgICAgICAgICAgX29wZW5TZWFyY2ggPSAkKCcuc2VhcmNoLWJ0bicpLFxuICAgICAgICAgICAgX2Nsb3NlU2VhcmNoID0gJCgnLnNlYXJjaF9fY2FuY2VsJyksXG4gICAgICAgICAgICBfZ2V0RnJlZSA9ICQoJy5zaXRlX19oaWRkZW4tYnRuJyksXG4gICAgICAgICAgICBfc2l0ZSA9ICQoJy5zaXRlJyksXG4gICAgICAgICAgICBfZG9tID0gJCggJ2h0bWwnICksXG4gICAgICAgICAgICBzaXRlU2Nyb2xsVG9wLFxuICAgICAgICAgICAgX2NvbnRlbnQgPSAkKCcuc2l0ZV9fY29udGVudCcpLFxuICAgICAgICAgICAgX2xhc3RTY3JvbGxUb3AgPSAwO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCIuc2VhcmNoXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBldmVudCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBcImJvZHlcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlU2VhcmNoQm94KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBfc2hvd0J0bi5vbih7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSgkKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2Nsb3NlQnRuLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF9vcGVuU2VhcmNoLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5TZWFyY2hCb3goJCh0aGlzKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2Nsb3NlU2VhcmNoLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlU2VhcmNoQm94KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICggZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9maXhlZEhlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbiA9IF93aW5kb3cuc2Nyb2xsVG9wKCkgPj0gX2hlYWRlckhlaWdodDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA9PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXIucmVtb3ZlQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBET01Nb3VzZVNjcm9sbDogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZS5vcmlnaW5hbEV2ZW50LmRldGFpbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IChkZWx0YSA+IDApID8gMSA6IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtb3VzZXdoZWVsOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IChkZWx0YSA+IDApID8gLTEgOiAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UG9zID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQb3MgPiBfbGFzdFBvcykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKC0xKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQb3MgPCBfbGFzdFBvcykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9sYXN0UG9zID0gY3VycmVudFBvcztcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzYgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpPj0xMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NpdGUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc2l0ZS5oZWlnaHQoKSA+IF93aW5kb3cuaGVpZ2h0KCkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcblxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPiAwICYmICFfaGVhZGVyLmhhc0NsYXNzKCdzaXRlX19oZWFkZXJfaGlkZGVuJykgJiYgIV9zaG93QnRuLmhhc0NsYXNzKCdvcGVuZWQnKSAmJiBfYWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXIuYWRkQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPCAwICYmIF9oZWFkZXIuaGFzQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKSAmJiAhX3Nob3dCdG4uaGFzQ2xhc3MoJ29wZW5lZCcpICYmIF9hY3Rpb24gJiYgZ2xvYmFsU2Nyb2xsRmxhZykge1xuXG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXIucmVtb3ZlQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9maXhlZEhlYWRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGlmIChfd2luZG93LnNjcm9sbFRvcCgpID4gX2hlYWRlckhlaWdodCArIDE1MCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5hZGRDbGFzcygnZml4ZWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cblxuICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5NZW51ID0gZnVuY3Rpb24gKGVsZW0pIHtcblxuICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gZWxlbTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJJdGVtLmhhc0NsYXNzKCdvcGVuZWQnKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuQmxvY2tNZW51LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIF9oaWRkZW5CbG9ja01lbnUuYWRkQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2l0ZVNjcm9sbFRvcCA9IF93aW5kb3cuc2Nyb2xsVG9wKCk7XG5cblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfc2l0ZS5oZWlnaHQoKSA+IF93aW5kb3cuaGVpZ2h0KCkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ3Njcm9sbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xuXG4gICAgICAgICAgICAgICAgfSwgMzAwKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuU2VhcmNoQm94ID0gZnVuY3Rpb24gKGVsZW0pIHtcblxuICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gZWxlbTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJJdGVtLmhhc0NsYXNzKCdvcGVuZWQnKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICBfc2VhcmNoLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgX2dldEZyZWUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgX3NlYXJjaC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIF9nZXRGcmVlLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfc2hvd0J0bi5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgX2hpZGRlbkJsb2NrTWVudS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgX3NlYXJjaC5maW5kKCdpbnB1dCcpLmZvY3Vzb3V0KCk7XG5cblxuICAgICAgICAgICAgICAgIF9zaXRlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3NpdGUuaGVpZ2h0KCkgPiBfd2luZG93LmhlaWdodCgpICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfd2luZG93LnNjcm9sbFRvcCggc2l0ZVNjcm9sbFRvcCApO1xuXG4gICAgICAgICAgICAgICAgfSwgMTApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Nsb3NlU2VhcmNoQm94ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX29wZW5TZWFyY2gucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgIF9zZWFyY2gucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIF9nZXRGcmVlLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9tZW51WzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbigpe1xuXG4gICAgICAgICQoICcucG9wdXAnICkuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICBuZXcgUG9wdXAoJCh0aGlzKSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgIHZhciBQb3B1cCA9IGZ1bmN0aW9uKCBvYmogKXtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX3BvcHVwUGFkZGluZyA9IDQwLFxuICAgICAgICAgICAgX2J0blNob3cgPSAgJCggJy5wb3B1cF9fb3BlbicgKSxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfYnRuQ2xvc2UgPSBfb2JqLmZpbmQoICcucG9wdXBfX2Nsb3NlLCAucG9wdXBfX2NhbmNlbCcgKSxcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCAnLnBvcHVwX193cmFwJyApLFxuICAgICAgICAgICAgX2NvbnRlbnRzID0gX29iai5maW5kKCAnLnBvcHVwX19jb250ZW50JyApLFxuICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lciA9ICQoICdodG1sJyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXt9LCAxICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jZW50ZXJXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgLSBfd3JhcC5oZWlnaHQoKSA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6ICggKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApICkgLSBfd3JhcC5oZWlnaHQoKSApIC8gMiB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogMCB9ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoO1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdwb3B1cF9fc2Nyb2xsYmFyLW1lYXN1cmUnO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGlkZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MgKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NlbnRlcldyYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuU2hvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfY29udGVudHMuZmluZCgnPmRpdicpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQoIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xufSApKCk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpIHtcblxuICAgICQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQuZWFjaCggJCggJy5wcm9kdWN0X19zbGlkZXInICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgUHJvZHVjdFNsaWRlciAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoICcuZmVhdHVyZWQtcHJvZHVjdHMnICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgRmVhdHVyZWRQcm9kdWN0c1NsaWRlciAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcbiAgICB9KTtcblxuICAgIHZhciBQcm9kdWN0U2xpZGVyID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zbGlkZXIsXG4gICAgICAgICAgICBfZ2FsbGVyeVRodW1icyxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfbG9vcCA9IGZhbHNlLFxuICAgICAgICAgICAgX3NsaWRlc0xlbmd0aCA9IDA7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWRlcigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U2xpZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2FkZFNvbWVQYXJhbXMoKTtcblxuICAgICAgICAgICAgICAgIF9zbGlkZXIgPSBuZXcgU3dpcGVyKCBfb2JqLmZpbmQoJy5nYWxsZXJ5LXRvcCcpICwge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnMScsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IF9sb29wLFxuICAgICAgICAgICAgICAgICAgICBsb29wZWRTbGlkZXM6IF9zbGlkZXNMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUNoYW5nZUVuZDogZnVuY3Rpb24oc3dpcGVyKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIV9sb29wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gc3dpcGVyLmFjdGl2ZUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoX2dhbGxlcnlUaHVtYnMuc2xpZGVzKS5yZW1vdmVDbGFzcygnaXMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKF9nYWxsZXJ5VGh1bWJzLnNsaWRlcykuZXEoYWN0aXZlSW5kZXgpLmFkZENsYXNzKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzLnNsaWRlVG8oYWN0aXZlSW5kZXgsNTAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnN3aXBlci1zbGlkZSAucHJvZHVjdF9fc2xpZGVyLXRodW1icycpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWNvbG9yXCI6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zd2lwZXItc2xpZGUtYWN0aXZlIC5wcm9kdWN0X19zbGlkZXItdGh1bWJzJykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJib3JkZXItY29sb3JcIjogXCJyZ2JhKDI0NCwgMTIxLCAzMiwgMC41KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMgPSBuZXcgU3dpcGVyKCBfb2JqLmZpbmQoJy5nYWxsZXJ5LXRodW1icycpLCB7XG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkU2xpZGVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJzQnLFxuICAgICAgICAgICAgICAgICAgICB0b3VjaFJhdGlvOiAwLjIsXG4gICAgICAgICAgICAgICAgICAgIC8vZnJlZU1vZGU6ICFfbG9vcCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogX2xvb3AsXG4gICAgICAgICAgICAgICAgICAgIGxvb3BlZFNsaWRlczogX3NsaWRlc0xlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIDE0NDA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAnMydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbihzd2lwZXIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIV9sb29wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzd2lwZXIuc2xpZGVzKS5lcShzd2lwZXIuYWN0aXZlSW5kZXgpLmFkZENsYXNzKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoc3dpcGVyLCBldmVudCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFfbG9vcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGlja2VkID0gc3dpcGVyLmNsaWNrZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2lwZXIuYWN0aXZlSW5kZXggPSBjbGlja2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci51cGRhdGVDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzd2lwZXIuc2xpZGVzKS5yZW1vdmVDbGFzcygnaXMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHN3aXBlci5jbGlja2VkU2xpZGUpLmFkZENsYXNzKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zbGlkZXIuc2xpZGVUbyhjbGlja2VkLDUwMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgX3NsaWRlci5wYXJhbXMuY29udHJvbCA9IF9nYWxsZXJ5VGh1bWJzO1xuICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzLnBhcmFtcy5jb250cm9sID0gX3NsaWRlcjtcblxuICAgICAgICAgICAgICAgIGlmIChfbG9vcCkge1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5zd2lwZXItc2xpZGUtYWN0aXZlIC5wcm9kdWN0X19zbGlkZXItdGh1bWJzJykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWNvbG9yXCI6IFwicmdiYSgyNDQsIDEyMSwgMzIsIDAuNSlcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRTb21lUGFyYW1zID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTQ0MCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX29iai5maW5kKCcuZ2FsbGVyeS10aHVtYnMgLnN3aXBlci1zbGlkZScpLmxlbmd0aCA+PSAzICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2xpZGVzTGVuZ3RoID0gX29iai5maW5kKCcuZ2FsbGVyeS10aHVtYnMgLnN3aXBlci1zbGlkZScpLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLmdhbGxlcnktdGh1bWJzIC5zd2lwZXItc2xpZGUnKS5sZW5ndGggPj0gNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NsaWRlc0xlbmd0aCA9IF9vYmouZmluZCgnLmdhbGxlcnktdGh1bWJzIC5zd2lwZXItc2xpZGUnKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9jb25zdHJ1Y3RvcigpO1xuICAgIH07XG4gICAgdmFyIEZlYXR1cmVkUHJvZHVjdHNTbGlkZXIgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3NsaWRlcixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZmxhZztcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPD0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9mbGFnID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIF9mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDw9IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZmxhZyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfZmxhZyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9zbGlkZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U2xpZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3NsaWRlciA9IG5ldyBTd2lwZXIoIF9vYmouZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IF9vYmouZmluZCgnLnN3aXBlci1wYWdpbmF0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDUsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiA1MDAwLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJ1dHRvbjogX29iai5maW5kKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JyksXG4gICAgICAgICAgICAgICAgICAgIHByZXZCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tcHJldicpLFxuICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgMTQ0MDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcbiAgICB9O1xuXG59ICkoKTtcbiIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG4gICAgICAgICQoICdzZWxlY3QnICkuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIG5ldyBXZWJzdGVyc1NlbGVjdCgge1xuICAgICAgICAgICAgICAgIG9iajogJCggdGhpcyApLFxuICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IDEsXG4gICAgICAgICAgICAgICAgc2hvd1R5cGU6IDJcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICB9ICk7XG4gICAgfSApO1xuXG4gICAgdmFyIFdlYnN0ZXJzU2VsZWN0ID0gZnVuY3Rpb24oIHBhcmFtcyApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gcGFyYW1zLm9iaixcbiAgICAgICAgICAgIF9vcHRpb25UeXBlID0gcGFyYW1zLm9wdGlvblR5cGUgfHwgMCxcbiAgICAgICAgICAgIF9zaG93VHlwZSA9IHBhcmFtcy5zaG93VHlwZSB8fCAwLFxuICAgICAgICAgICAgX3Zpc2libGUgPSBwYXJhbXMudmlzaWJsZSB8fCA1LFxuICAgICAgICAgICAgX2RldmljZSA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApLFxuICAgICAgICAgICAgX3RleHQgPSAkKCAnPHNwYW4gY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX2l0ZW1cIj48L3NwYW4+JyApLFxuICAgICAgICAgICAgX3dyYXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdFwiPjwvZGl2PicgKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXG4gICAgICAgICAgICBfb3BlbmVkID0gZmFsc2UsXG4gICAgICAgICAgICBfcG9wdXAsIF9zY3JvbGw7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyVGV4dCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmoud3JhcCggX3dyYXAgKTtcbiAgICAgICAgICAgICAgICBfd3JhcCA9IF9vYmoucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYXBwZW5kKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fYXJyb3dcIj48L2Rpdj4nICk7XG4gICAgICAgICAgICAgICAgX29iai5iZWZvcmUoIF90ZXh0ICk7XG4gICAgICAgICAgICAgICAgX29iai5maW5kKCAnb3B0aW9uJyApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoICdzZWxlY3RlZCcgKSA9PSAnc2VsZWN0ZWQnICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gY3VySXRlbS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggY3VyVGV4dCA9PSAnJyApe1xuICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gIF9vYmouZmluZCggJ29wdGlvbicpLmVxKCAwICkudGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCBjdXJUZXh0ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hpZGVQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYoICFfc2hvd1R5cGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAxICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLnNsaWRlVXAoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDIgKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLmZhZGVPdXQoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF93cmFwLnJlbW92ZUNsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X29wZW5lZCcgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICAgICAgX2FkZFdyYXAoKTtcbiAgICAgICAgICAgICAgICBfc2VsZWN0Vmlld1R5cGUoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmoub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RleHQudGV4dCggJCggdGhpcyApLmZpbmQoICdvcHRpb246c2VsZWN0ZWQnICkudGV4dCgpICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCggdGhpcykucHJldigpLnRleHQoICQoIHRoaXMgKS5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLnRleHQoKSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfb3B0aW9uVHlwZSA9PSAxICYmICFfZGV2aWNlICl7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9ib2R5Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZWxlY3RWaWV3VHlwZSA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBpZiggIV9vcHRpb25UeXBlIHx8IF9kZXZpY2UgKXtcbiAgICAgICAgICAgICAgICAgICAgX3NldE1vYmlsZVZpZXcoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9vcHRpb25UeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3NldEN1c3RvbTEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEN1c3RvbTEgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X2N1c3RvbScgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0TW9iaWxlVmlldyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3RfbW9iaWxlJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93UG9wdXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RzID0gJCggJ3NlbGVjdCcgKSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICQoICc8dWw+PC91bD4nKSxcbiAgICAgICAgICAgICAgICAgICAgY3VyU2Nyb2xsID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gX3dyYXAub2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGN1ckluZGV4ID0gX29iai5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLmluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgIGlkID0gTWF0aC5yb3VuZCggTWF0aC5yYW5kb20oKSAqIDEwMDAgKTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdHMuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMgIT09IF9vYmpbIDAgXSAmJiB0aGlzLm9iai5jaGVja09wZW5lZCgpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iai5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfb3BlbmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIF9wb3B1cCA9ICQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0X19wb3B1cFwiIGlkPVwid2Vic3RlcnMtc2VsZWN0X19wb3B1cCcgKyBpZCArICdcIj48L2Rpdj4nICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoICdvcHRpb24nICkuZWFjaCggZnVuY3Rpb24oIGkgKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKCB0aGlzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gY3VySW5kZXggKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKCAnPGxpIGNsYXNzPVwiYWN0aXZlXCI+JyArIGN1ckl0ZW0udGV4dCgpICsgJzwvbGk+JyApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoICc8bGk+JyArIGN1ckl0ZW0udGV4dCgpICsgJzwvbGk+JyApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAuYXBwZW5kKCBsaXN0ICk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYXBwZW5kKCBfcG9wdXAgKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9vcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfd3JhcC5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IC0yLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IF93cmFwLm91dGVySGVpZ2h0KCkgLSA0XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gX3BvcHVwLm91dGVySGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaWYoIG1heEhlaWdodCA+IF9wb3B1cC5maW5kKCAnbGknICkuZXEoIDAgKS5vdXRlckhlaWdodCgpICogX3Zpc2libGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmhlaWdodCggX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApO1xuICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsID0gX3BvcHVwLnBlcmZlY3RTY3JvbGxiYXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggX3Nob3dUeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnNsaWRlRG93biggMzAwICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4xXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmFuaW1hdGUoIHsgb3BhY2l0eTogMSB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9wb3B1cC5maW5kKCAnbGknICkub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICQoIHRoaXMgKS5pbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnZhbCggX29iai5maW5kKCAnb3B0aW9uJyApLmVxKCBpbmRleCApLmF0dHIoICd2YWx1ZScgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai50cmlnZ2VyKCAnY2hhbmdlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG4gICAgICAgIF9zZWxmLmNoZWNrT3BlbmVkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBfb3BlbmVkO1xuICAgICAgICB9O1xuICAgICAgICBfc2VsZi5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcblxuICAgIH07XG5cbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5jYXRlZ29yeScpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRmlsdGVycyggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBGaWx0ZXJzID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3BhdGggPSAkKCdib2R5JykuZGF0YSgnYWN0aW9uJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICAgICAgX2J0biA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJzLWl0ZW0gc3BhbicpLFxuICAgICAgICAgICAgX2J0bjIgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy10aXRsZScpLFxuICAgICAgICAgICAgX2ZpbHRlcnMgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy1pdGVtcycpLFxuICAgICAgICAgICAgX2Zvcm0gPSBfZmlsdGVycy5maW5kKCdmb3JtJyksXG4gICAgICAgICAgICBfY2xvc2VGaWx0ZXJzID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcmVkLWNsb3NlJyksXG4gICAgICAgICAgICBfZmlsdGVySXRlbSA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJzLWxpc3QnKSxcbiAgICAgICAgICAgIF9maWx0ZXJlZCA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZCcpLFxuICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdCA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZC1saXN0JyksXG4gICAgICAgICAgICBfY291bnRGaWx0ZXJlZCA9IDAsXG4gICAgICAgICAgICBfdGl0bGUgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy10aXRsZScpLFxuICAgICAgICAgICAgX3RpdGxlSW5uZXIgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy10aXRsZS1pbm5lcicpLFxuICAgICAgICAgICAgX2NsZWFyRmlsdGVycyA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZCAuYnRuLCAuY2F0ZWdvcnlfX2ZpbHRlcnMtY2xlYXInKSxcbiAgICAgICAgICAgIF9jbGVhclNpbmdsZSA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZC1yZW1vdmUnKSxcbiAgICAgICAgICAgIF9nbG9iYWxDaGVja0ZsYWcgPSBmYWxzZSxcbiAgICAgICAgICAgIF9sb2FkaW5nID0gJCgnPGRpdiBjbGFzcz1cImxvYWRpbmdcIj48L2Rpdj4nKSxcbiAgICAgICAgICAgIF9pbnB1dEhpZGRlbiA9IF9vYmouZmluZCgnaW5wdXRbdHlwZT1oaWRkZW5dLnZhbHVlLWNoZWNrJyksXG4gICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlID0gX29iai5maW5kKCdpbnB1dFt0eXBlPWhpZGRlbl0uY3VycmVudC1wYWdlJyksXG4gICAgICAgICAgICBfc29ydGluZ1BhZ2UgPSBfb2JqLmZpbmQoJyNpdGVtcy1wYWdlJyksXG4gICAgICAgICAgICBfc29ydGluZ0RhdGUgPSBfb2JqLmZpbmQoJyNzb3J0aW5nLWRhdGUnKSxcbiAgICAgICAgICAgIF9kYXRhUmF0ZVBhdGggPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fd3JhcCcpLmRhdGEoJ3JhdGUtcGF0aCcpLFxuICAgICAgICAgICAgX2FwcGx5ID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcnMtYXBwbHknKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfb2JqVmFsdWUgPSB7fSxcbiAgICAgICAgICAgIF90aW1lb3V0ID0gbnVsbCxcbiAgICAgICAgICAgIF9hcnIgPSBbXSxcbiAgICAgICAgICAgIF9jaGVja05hbWUgPSAnJyxcbiAgICAgICAgICAgIF9jaGVja1ByaWNlID0gJyc7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2J0bi5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZpbHRlcnMgPSBjdXJJdGVtLm5leHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwYXJlbnQuaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBuZXh0RmlsdGVycy5maW5kKCc+ZGl2JykuaW5uZXJIZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2NvbnRlbnQnKS5jc3MoIHsgJ3otaW5kZXgnOiAnJyB9IClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJJdGVtLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzID0gY3VySXRlbS5uZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwYXJlbnQuaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0RmlsdGVycy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6IG5leHRGaWx0ZXJzLmZpbmQoJz5kaXYnKS5pbm5lckhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMTAgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuMi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VGaWx0ZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9jbGVhckZpbHRlcnMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NsZWFyRmlsdGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBcIi5wYWdpbmF0aW9uIGFcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludChjdXJJdGVtLnRleHQoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmhhc0NsYXNzKCdwYWdpbmF0aW9uX19wcmV2JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcGFyc2VJbnQoIF9pbnB1dEhpZGRlblBhZ2UudmFsKCkgKSAhPSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dEhpZGRlblBhZ2UudmFsKCBfaW5wdXRIaWRkZW5QYWdlLnZhbCgpIC0gMSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoJ3BhZ2luYXRpb25fX25leHQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjdXJJdGVtLnByZXYoKS5oYXNDbGFzcygnYWN0aXZlJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCggcGFyc2VJbnQoIF9pbnB1dEhpZGRlblBhZ2UudmFsKCkgKSArIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggdmFsdWUgIT0gcGFyc2VJbnQoIF9pbnB1dEhpZGRlblBhZ2UudmFsKCkgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCIuY2F0ZWdvcnlfX2ZpbHRlcmVkLXJlbW92ZVwiLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJJdGVtLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJZCA9IHBhcmVudC5kYXRhKCdpZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFOYW1lID0gcGFyZW50LmRhdGEoJ25hbWUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NsZWFyU2luZ2xlRmlsdGVyKCBkYXRhSWQsIGRhdGFOYW1lICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgX2Nsb3NlRmlsdGVycy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VGaWx0ZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2FwcGx5Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUZpbHRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfZmlsdGVySXRlbS5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBjdXJJdGVtLm5leHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQgPSBsYWJlbC5jbG9uZSgpLmNoaWxkcmVuKCkucmVtb3ZlKCkuZW5kKCkudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBjdXJJdGVtLmF0dHIoJ25hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IGN1ckl0ZW0uZGF0YSgnaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeU5hbWUgPSBjdXJJdGVtLnBhcmVudHMoJy5jYXRlZ29yeV9fZmlsdGVycy1pdGVtJykuZmluZCgnc3BhbicpWzBdLmlubmVyVGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbENoZWNrRmxhZyA9IGN1ckl0ZW0ucHJvcCgnY2hlY2tlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbENoZWNrRmxhZyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja05hbWUgPSBuYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9jaGVja05hbWUgPT0gJ3ByaWNlJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrUHJpY2UgPSBpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tOYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrUHJpY2UgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUZpbHRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluSGlkZGVuKCBuYW1lLCBpZCwgX2dsb2JhbENoZWNrRmxhZyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZGluZ0ZpbHRlcmVkQnkoIGxhYmVsVGV4dCwgaWQsIG5hbWUsIGNhdGVnb3J5TmFtZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc29ydGluZ1BhZ2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9zb3J0aW5nRGF0ZS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkaW5nRmlsdGVyZWRCeSA9IGZ1bmN0aW9uKCBpdGVtVGV4dCwgaXRlbUlkLCBpdGVtTmFtZSwgY2F0ZWdvcnlOYW1lICkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxDaGVja0ZsYWcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdC5hcHBlbmQoJzxsaSBkYXRhLW5hbWU9JysgaXRlbU5hbWUgKycgZGF0YS1pZD1cIicrIGl0ZW1JZCArJ1wiPicrIGNhdGVnb3J5TmFtZSArJzogJysgaXRlbVRleHQgKycgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhdGVnb3J5X19maWx0ZXJlZC1yZW1vdmVcIj48L2E+PC9saT4nKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdC5maW5kKCdsaVtkYXRhLWlkPVwiJyArIGl0ZW1JZCArICdcIl0nKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfY291bnRGaWx0ZXJlZCA9IF9maWx0ZXJlZExpc3QuZmluZCgnbGknKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiggX2NvdW50RmlsdGVyZWQgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJlZC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIF90aXRsZS5maW5kKCdzcGFuJykuaHRtbCgnKCcrIF9jb3VudEZpbHRlcmVkICsnKScpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGVJbm5lci5maW5kKCdzcGFuJykuaHRtbCgnKCcrIF9jb3VudEZpbHRlcmVkICsnKScpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGUuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIF9jbGVhckZpbHRlcnMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyZWQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGUuZmluZCgnc3BhbicpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGVJbm5lci5maW5kKCdzcGFuJykuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIF90aXRsZS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgX2NsZWFyRmlsdGVycy5hZGRDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkTG9hZGluZyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2xvYWRpbmcgPSAkKCc8ZGl2IGNsYXNzPVwibG9hZGluZ1wiPjwvZGl2PicpO1xuXG4gICAgICAgICAgICAgICAgJCgnLmNhdGVnb3J5X19jb250ZW50JykuYXBwZW5kKF9sb2FkaW5nKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZUxvYWRpbmcgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmIChfdGltZW91dCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIF90aW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aW1lb3V0ID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkaW5nJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxvYWRpbmcnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9LCA2MjAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbGVhckZpbHRlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2ZpbHRlcmVkLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICBfdGl0bGUuZmluZCgnc3BhbicpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIF90aXRsZUlubmVyLmZpbmQoJ3NwYW4nKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICBfdGl0bGUucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdC5maW5kKCdsaScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIF9maWx0ZXJJdGVtLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW4udmFsKCcnKTtcblxuICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xlYXJTaW5nbGVGaWx0ZXIgPSBmdW5jdGlvbiggaXRlbUlkLCBpdGVtTmFtZSApIHtcblxuICAgICAgICAgICAgICAgIF9maWx0ZXJJdGVtLmZpbmQoJ2lucHV0W2RhdGEtaWQ9XCInKyBpdGVtSWQgKydcIl0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF9nbG9iYWxDaGVja0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfYWRkaW5nRmlsdGVyZWRCeSggJycsIGl0ZW1JZCwgJycsICcnICk7XG4gICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBfd3JpdGVJbkhpZGRlbiggaXRlbU5hbWUsIGl0ZW1JZCwgX2dsb2JhbENoZWNrRmxhZyApO1xuICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VGaWx0ZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfYnRuMi5oYXNDbGFzcygnb3BlbmVkJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2J0bjIucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICBfZmlsdGVycy5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19jb250ZW50JykuYXR0ciggJ3N0eWxlJywgJycgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2J0bjIuYWRkQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICBfZmlsdGVycy5hZGRDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19jb250ZW50JykuY3NzKCB7ICd6LWluZGV4JzogMTAwIH0gKVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jcmVhdGVQYWdpbmF0aW9uID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFnZXMgPSBwYXJzZUludChkYXRhLnNldHRpbmdzLnBhZ2VzQWxsKSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlUGFnZSA9IHBhcnNlSW50KGRhdGEuc2V0dGluZ3MuY3VycmVudFBhZ2UpO1xuXG4gICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuUGFnZS52YWwoYWN0aXZlUGFnZSk7XG5cbiAgICAgICAgICAgICAgICBpZiggcGFnZXMgIT0gMSAmJiAgcGFnZXMgIT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbldyYXAgPSAnPGRpdiBjbGFzcz1cInBhZ2luYXRpb25cIj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJwYWdpbmF0aW9uX19wcmV2XCI+PC9hPic7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHBhZ2VzIDw9IDcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAxOyBpIDw9IHBhZ2VzOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBhY3RpdmVQYWdlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYWN0aXZlXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBhY3RpdmVQYWdlIDw9IDMgfHwgYWN0aXZlUGFnZSA+IHBhZ2VzLTMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMTsgaSA8PSAzOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gYWN0aXZlUGFnZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPHNwYW4+Li4uPC9zcGFuPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gcGFnZXMtMjsgaSA8PSBwYWdlczsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGFjdGl2ZVBhZ2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYWN0aXZlXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGFjdGl2ZVBhZ2UgPiAzICYmIGFjdGl2ZVBhZ2UgPD0gcGFnZXMtMyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+MTwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxzcGFuPi4uLjwvc3Bhbj4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIChhY3RpdmVQYWdlLTEgPiAzKSAmJiAoYWN0aXZlUGFnZSsxIDw9IHBhZ2VzLTMpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSBhY3RpdmVQYWdlLTE7IGkgPD0gYWN0aXZlUGFnZSsxOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGFjdGl2ZVBhZ2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGl2ZVwiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBhY3RpdmVQYWdlLTEgPD0gMyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gYWN0aXZlUGFnZTsgaSA8PSBhY3RpdmVQYWdlKzI7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gYWN0aXZlUGFnZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYWN0aXZlXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGFjdGl2ZVBhZ2UrMSA+PSBwYWdlcy0zICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSBhY3RpdmVQYWdlLTI7IGkgPD0gYWN0aXZlUGFnZTsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBhY3RpdmVQYWdlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxzcGFuPi4uLjwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgcGFnZXMgKyc8L2E+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBhZ2VzID09IDggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggYWN0aXZlUGFnZSA+IDMgJiYgYWN0aXZlUGFnZSA8PSBwYWdlcy0zICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPjE8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPHNwYW4+Li4uPC9zcGFuPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDQ7IGkgPD0gNTsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBhY3RpdmVQYWdlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8c3Bhbj4uLi48L3NwYW4+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBwYWdlcyArJzwvYT4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJwYWdpbmF0aW9uX19uZXh0XCI+PC9hPic7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9ICc8L2Rpdj4nO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5wYWdpbmF0aW9uLXdyYXAnKS5odG1sKHBhZ2luYXRpb25XcmFwKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5wYWdpbmF0aW9uJykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucGFnaW5hdGlvbicpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9wYXN0ZU5ld1Byb2R1Y3RzID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YSA9IGRhdGEucHJvZHVjdHM7XG4gICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RzV3JhcCA9ICc8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlcIj4nO1xuXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBuZXdEYXRhLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IHByb2R1Y3QucHJpY2VbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzYWxlUHJpY2UgPSBwcm9kdWN0Lm9sZFByaWNlWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfY2hlY2tOYW1lID09ICdwcmljZScgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmljZUZpbHRlciA9IHBhcnNlRmxvYXQoX2NoZWNrUHJpY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBwcm9kdWN0LnByaWNlLmxlbmd0aC0xOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VJdGVtID0gcGFyc2VGbG9hdChwcm9kdWN0LnByaWNlW2ldLnJlcGxhY2UoJyQnLCcnKS5yZXBsYWNlKCcsJywnJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHByaWNlSXRlbSA+PSBwcmljZUZpbHRlciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IHByb2R1Y3QucHJpY2VbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVQcmljZSA9IHByb2R1Y3Qub2xkUHJpY2VbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJpY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzYWxlUHJpY2UpXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19pdGVtXCI+JztcblxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvZHVjdC5mZWF0dXJlZCAhPSB1bmRlZmluZWQgJiYgcHJvZHVjdC5mZWF0dXJlZCAhPSBcIlwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzxzcGFuIGNsYXNzPVwic2l0ZV9fZmVhdHVyZWRcIj4nKyBwcm9kdWN0LmZlYXR1cmVkICsnPC9zcGFuPic7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19oZWFkXCI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIicrIHByb2R1Y3QudXJsRGV0YWlscyArJ1wiIGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX3BpY1wiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcrIHByb2R1Y3QucGljdHVyZSArJylcIj48L2E+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX3RpdGxlXCI+PGEgaHJlZj1cIicrIHByb2R1Y3QudXJsRGV0YWlscyArJ1wiPicrIHByb2R1Y3QudGl0bGUgKyc8L2E+PC9oMj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0LnJhdGUgIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzxkaXYgY2xhc3M9XCJyYXRlXCI+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPD0gcHJvZHVjdC5yYXRlLnN0YXJzQ291bnQtMTsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8aW1nIHNyYz1cIicrIF9kYXRhUmF0ZVBhdGggKydpbWcvc3Rhci5wbmdcIiB3aWR0aD1cIjYwXCIgaGVpZ2h0PVwiNTBcIiBhbHQ9XCJcIj4mbmJzcDsnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8YSBocmVmPVwiJysgcHJvZHVjdC5yYXRlLnVybFJldmlld3MgKydcIiBjbGFzcz1cInJhdGVfX3Jldmlld3NcIj4nKyBwcm9kdWN0LnJhdGUucmV2aWV3c0NvdW50ICsnPC9hPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fY29udGVudFwiPic7XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0LmNvbnRlbnQuZGVzY3JpcHRpb24gIT0gdW5kZWZpbmVkICYmIHByb2R1Y3QuY29udGVudC5kZXNjcmlwdGlvbiAhPSBcIlwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19kZXNjcmlwdGlvblwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHByb2R1Y3QuY29udGVudC5kZXNjcmlwdGlvbi5sZW5ndGgtMTsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8bGk+JysgcHJvZHVjdC5jb250ZW50LmRlc2NyaXB0aW9uW2ldICsnPC9saT4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8L3VsPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX2l0ZW1zXCI+JztcblxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24gIT0gdW5kZWZpbmVkICYmIHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uICE9IFwiXCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8ZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fc3BlY2lmaWNhdGlvblwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fc3BlY2lmaWNhdGlvbi1oZWFkXCI+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPD0gcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24uaGVhZC5sZW5ndGgtMTsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8ZGl2IHN0eWxlPVwid2lkdGg6JysgKDEwMC9wcm9kdWN0LmNvbnRlbnQuc3BlY2lmaWNhdGlvbi5oZWFkLmxlbmd0aCkgKyclXCI+JysgcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24uaGVhZFtpXSArJzwvZGl2PidcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX3NwZWNpZmljYXRpb24tY29udGVudFwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uLmNvbnRlbnQubGVuZ3RoLTE7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdiBzdHlsZT1cIndpZHRoOicrICgxMDAvcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24uaGVhZC5sZW5ndGgpICsnJVwiPicrIHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uLmNvbnRlbnRbaV0gKyc8L2Rpdj4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHNhbGVQcmljZSAhPSB1bmRlZmluZWQgJiYgc2FsZVByaWNlICE9IFwiXCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX2Zvb3RlclwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19wcmljZVwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZWw+Jysgc2FsZVByaWNlICsnPC9kZWw+ICcrIHByaWNlICsnXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSc8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX2Zvb3RlclwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19wcmljZVwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcrIHByaWNlICsnXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGEgaHJlZj1cIicrIHByb2R1Y3QudXJsRGV0YWlscyArJ1wiIGNsYXNzPVwiYnRuIGJ0bl8zXCI+c2VlIGRldGFpbHM8L2E+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xuXG5cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICQoJy5jYXRlZ29yeV9fd3JhcCcpLmh0bWwocHJvZHVjdHNXcmFwKTtcblxuICAgICAgICAgICAgICAgIF9jbG9zZUxvYWRpbmcoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBfcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uIDogJ2dldF9maWx0ZXJlZF9wcm9kdWN0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX2lucHV0SGlkZGVuLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVNvcnRpbmc6IF9zb3J0aW5nUGFnZS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVTb3J0aW5nOiBfc29ydGluZ0RhdGUudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogX2lucHV0SGlkZGVuUGFnZS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkQ2F0ZWdvcnk6IF9vYmouZGF0YSgnaWQtY2F0ZWdvcnknKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG0gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9wYXN0ZU5ld1Byb2R1Y3RzKCBtICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY3JlYXRlUGFnaW5hdGlvbiggbSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluSGlkZGVuID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGNoZWNrRmxhZykge1xuXG4gICAgICAgICAgICAgICAgaWYoIGNoZWNrRmxhZyApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZihfb2JqVmFsdWUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBfb2JqVmFsdWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9wID09IG5hbWUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29ialZhbHVlW3Byb3BdLnB1c2godmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmpWYWx1ZVtuYW1lXSA9IFt2YWx1ZV1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gX29ialZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9wID09IG5hbWUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IF9vYmpWYWx1ZVtwcm9wXS5pbmRleE9mKHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGkgIT0gLTEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqVmFsdWVbcHJvcF0uc3BsaWNlKGksIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqVmFsdWVbbmFtZV0ubGVuZ3RoID09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfb2JqVmFsdWVbbmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICB2YXIgc3RyRmluaXNoID0gJycsXG4gICAgICAgICAgICAgICAgICAgIHN0clZhbHVlcyA9ICcnLFxuICAgICAgICAgICAgICAgICAgICBzdHJGdWxsID0gJycsXG4gICAgICAgICAgICAgICAgICAgIGFyckFsbCA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yKCB2YXIga2V5IGluIF9vYmpWYWx1ZSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfYXJyID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfb2JqVmFsdWVbIGtleSBdO1xuXG4gICAgICAgICAgICAgICAgICAgIF9hcnIucHVzaCggaXRlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IF9hcnIubGVuZ3RoLTE7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJWYWx1ZXMgPSBfYXJyLmpvaW4oJywnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3RyRnVsbCA9IGtleSArICc9JyArIHN0clZhbHVlcztcblxuICAgICAgICAgICAgICAgICAgICBhcnJBbGwucHVzaChzdHJGdWxsKTtcblxuICAgICAgICAgICAgICAgICAgICBzdHJGaW5pc2ggPSBhcnJBbGwuam9pbignJicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuLnZhbCggc3RyRmluaXNoICk7XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCdjYXRlZ29yeV9zdWInKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnNlYXJjaCcpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2VhcmNoKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFNlYXJjaCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dCA9IF9vYmouZmluZCgnaW5wdXRbdHlwZT1zZWFyY2hdJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICAgICAgX3BhdGggPSBfb2JqLmRhdGEoJ3BhdGgnKSxcbiAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCA9IDAsXG4gICAgICAgICAgICBjb3VudEl0ZW1zID0gMCxcbiAgICAgICAgICAgIHZhbHVlSW5wdXQgPSBfaW5wdXQudmFsKCksXG4gICAgICAgICAgICBfcmVzdWx0ID0gX29iai5maW5kKCcuc2VhcmNoX19yZXN1bHQnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbihJKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKHdpbmRvdykud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKEkua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3Jlc3VsdC5maW5kKCcuc2VhcmNoX19mb3VuZCBsaScpLmZpbHRlcignLmFjdGl2ZScpLmxlbmd0aCA9PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnZm9ybScpLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVJbnB1dCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggdmFsdWVJbnB1dC5sZW5ndGggPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FqYXhSZXF1ZXN0KCAkKHRoaXMpLCB2YWx1ZUlucHV0Lmxlbmd0aCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnZhbCgpID09ICcnICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbihJKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKHdpbmRvdykud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKCBJLmtleUNvZGUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZmlsdGVyKCcuYWN0aXZlJykubGVuZ3RoID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBfb2JqLmRhdGEoJ2FjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5maWx0ZXIoJy5hY3RpdmUnKS5maW5kKCdhJykuYXR0cignaHJlZicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY291bnRJdGVtcyA+IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfa2V5QWN0aXZhdGUoIEkua2V5Q29kZSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHN1Z2dlc3RTZWxlY3RlZCA9PSBjb3VudEl0ZW1zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkID0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgJCgnaHRtbCcpLmNsaWNrKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkID0gMDtcblxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBcImJvZHlcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGV2ZW50ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBcIi5zZWFyY2hfX2ZvdW5kIGxpXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRleHQgPSBjdXJJdGVtLmZpbmQoJ2EnKS50ZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoY3VyVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJrZXlkb3duXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLnNlYXJjaF9fZm91bmQgbGlcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oSSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goSS5rZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9rZXlBY3RpdmF0ZSA9IGZ1bmN0aW9uKG4pIHtcblxuICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICBpZiggX29iai5wYXJlbnRzKCkuaGFzQ2xhc3MoJ3NpdGVfX2Zvb3RlcicpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBuID09IDM4ICYmIHN1Z2dlc3RTZWxlY3RlZCA8IGNvdW50SXRlbXMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIG4gPT0gNDAgJiYgc3VnZ2VzdFNlbGVjdGVkID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkLS07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggc3VnZ2VzdFNlbGVjdGVkID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5maW5kKCcuc2VhcmNoX19mb3VuZCBsaScpLmVxKCAtMSAtIChzdWdnZXN0U2VsZWN0ZWQgLSAxKSApLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5lcSggLTEgLSAoc3VnZ2VzdFNlbGVjdGVkIC0gMSkgKS5maW5kKCdhJykudGV4dCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0LnZhbCggdmFsdWVJbnB1dCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIG4gPT0gNDAgJiYgc3VnZ2VzdFNlbGVjdGVkIDwgY291bnRJdGVtcyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkKys7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggbiA9PSAzOCAmJiBzdWdnZXN0U2VsZWN0ZWQgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzdWdnZXN0U2VsZWN0ZWQgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZXEoIHN1Z2dlc3RTZWxlY3RlZCAtIDEgKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZXEoIHN1Z2dlc3RTZWxlY3RlZCAtIDEgKS5maW5kKCdhJykudGV4dCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0LnZhbCggdmFsdWVJbnB1dCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZERhdGEgPSBmdW5jdGlvbiggZGF0YSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcyA9IGRhdGEuY2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllc0F2YWlsYWJpbGl0eSA9IGNhdGVnb3JpZXMubGVuZ3RoICE9IDAsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzID0gZGF0YS5wcm9kdWN0cyxcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2F0ZWdvcmllc0FyciA9IFtdLFxuICAgICAgICAgICAgICAgICAgICB1cmxQcm9kdWN0c0NhdGVnb3JpZXNBcnIgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdHNXcmFwID0gJzxkaXYgY2xhc3M9XCJ0b3AtcHJvZHVjdHNfX3dyYXBcIj4nO1xuXG4gICAgICAgICAgICAgICAgJC5lYWNoKCBwcm9kdWN0cywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3QgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPGRpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9wLXByb2R1Y3RzX19pdGVtXCI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b3AtcHJvZHVjdHNfX3BpY1wiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCInKyBwcm9kdWN0LnNyYyArJ1wiIHdpZHRoPVwiNDE0XCIgaGVpZ2h0PVwiNDE0XCIgYWx0PVwiJysgcHJvZHVjdC5hbHQgKydcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidG9wLXByb2R1Y3RzX19wcmljZVwiPjxkZWw+JysgcHJvZHVjdC5vbGRQcmljZSArJzwvZGVsPiAnKyBwcm9kdWN0LnByaWNlICsnPC9zcGFuPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJ0b3AtcHJvZHVjdHNfX2l0ZW0tdGl0bGVcIj4nKyBwcm9kdWN0Lm5hbWUgKyc8L2gzPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJysgcHJvZHVjdC5ocmVmICsnXCIgY2xhc3M9XCJ0b3AtcHJvZHVjdHNfX2J0blwiPnZpZXc8L2E+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICBpZiggIWNhdGVnb3JpZXNBdmFpbGFiaWxpdHkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0Fyci5wdXNoKCBbcHJvZHVjdC5jYXRlZ29yaWVzLm1haW5DYXRlZ29yeSwgcHJvZHVjdC5jYXRlZ29yaWVzLnVybE1haW5DYXRlZ29yeSwgcHJvZHVjdC5jYXRlZ29yaWVzLnN1YmNhdGVnb3JpZXMsIHByb2R1Y3QuY2F0ZWdvcmllcy51cmxTdWJjYXRlZ29yaWVzXSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHByb2R1Y3RzV3JhcCArPSAnPC9kaXY+JztcblxuICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnZGl2JykuZXEoMSkuZmluZCgnLnRvcC1wcm9kdWN0cycpLmh0bWwocHJvZHVjdHNXcmFwKTtcblxuICAgICAgICAgICAgICAgIHZhciByZXN1bHRTdHIgPSAnPHVsIGNsYXNzPVwic2VhcmNoX19mb3VuZFwiPic7XG5cbiAgICAgICAgICAgICAgICBpZiggY2F0ZWdvcmllc0F2YWlsYWJpbGl0eSApIHtcblxuICAgICAgICAgICAgICAgICAgICAkLmVhY2goIGNhdGVnb3JpZXMsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViY2F0ZWdvcmllcyA9IHRoaXMuc3ViY2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxTdWJjYXRlZ29yaWVzID0gdGhpcy51cmxTdWJjYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXNXcmFwID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzdWJjYXRlZ29yaWVzICE9IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHN1YmNhdGVnb3JpZXMubGVuZ3RoLTE7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjYXRlZ29yaWVzV3JhcCArPSAnPGxpIGNsYXNzPVwic2VhcmNoX19mb3VuZC1zdWJcIj48YSBocmVmPVwiJysgdXJsU3ViY2F0ZWdvcmllc1tpXSArJ1wiPicgKyBzdWJjYXRlZ29yaWVzW2ldICsgJzwvYT48L2xpPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2F0ZWdvcmllc1dyYXAgKz0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0U3RyICs9ICc8bGk+PGEgaHJlZj1cIicrIHRoaXMudXJsQ2F0ZWdvcnkgKydcIj4nKyB0aGlzLm5hbWUgKyc8L2E+PC9saT4nKyBzdWJjYXRlZ29yaWVzV3JhcCArJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPD0gYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBmbGFnICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNDYXRlZ29yaWVzQXJyLnB1c2goYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbcHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xXVswXSAhPSBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMF0gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0NhdGVnb3JpZXNBcnIucHVzaChhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGogPSAwOyBqIDw9IGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXS5sZW5ndGgtMTsgaisrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciB6ID0gMDsgeiA8PSBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMl0ubGVuZ3RoLTE7IHorKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHByb2R1Y3RzQ2F0ZWdvcmllc0Fycltwcm9kdWN0c0NhdGVnb3JpZXNBcnIubGVuZ3RoLTFdWzJdLmluZGV4T2YoIGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVsyXVt6XSkgPT0gLTEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbcHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xXVsyXS5wdXNoKCBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMl1bel0gKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDw9IHByb2R1Y3RzQ2F0ZWdvcmllc0Fyci5sZW5ndGgtMTsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaiA9IDA7IGogPD0gcHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldLmxlbmd0aC0xOyBqKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViY2F0ZWdvcmllc1dyYXAgPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIHogPSAwOyB6IDw9IHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVsyXS5sZW5ndGgtMTsgeisrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXNXcmFwICs9ICc8bGkgY2xhc3M9XCJzZWFyY2hfX2ZvdW5kLXN1YlwiPjxhIGhyZWY9XCInICsgcHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzNdW3pdICsgJ1wiPicgKyBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMl1bel0gKyAnPC9hPjwvbGk+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjYXRlZ29yaWVzV3JhcCArPSAnJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRTdHIgKz0gJzxsaT48YSBocmVmPVwiJyArIHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVsxXSArICdcIj4nICsgcHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzBdICsgJzwvYT48L2xpPicrIHN1YmNhdGVnb3JpZXNXcmFwICsnJztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHRTdHIgKz0gJzwvdWw+JztcblxuICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnZGl2OmZpcnN0JykuaHRtbChyZXN1bHRTdHIpO1xuXG4gICAgICAgICAgICAgICAgX3Jlc3VsdC5maW5kKCcuc2VhcmNoX19mb3VuZCcpLmZpbmQoJ2xpOm5vdCg6bHQoMTEpKScpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgY291bnRJdGVtcyA9IF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQnKS5maW5kKCdsaScpLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIF9yZXN1bHQuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hamF4UmVxdWVzdCA9ICBmdW5jdGlvbiggaW5wdXQsIG4gKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogX3BhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dC52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjonbWFpbl9zZWFyY2gnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbXNnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkRGF0YSggbXNnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7Il19
