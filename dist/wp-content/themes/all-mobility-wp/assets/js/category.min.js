!function(){var e=!0;$(function(){$(".site__menu").each(function(){new n($(this)),new i($(this))}),$(".not-found").each(function(){new t($(this))}),$(".confirmation").each(function(){new t($(this))}),$("#wpsl-stores").each(function(){$(this).perfectScrollbar({wheelPropagation:!0})})});var n=function(e){var n=e,i=n.find(".site__menu-item"),t=n.find(".site__menu-icon"),o=$(window),s=null,d=o.width(),a=function(){o.on({resize:function(){d>o.width()&&(d=o.width(),o.find(".opened").removeClass("opened"))}}),$("body").on("click",".site__menu-icon",function(){if(jQuery(window).width()<1e3){var e=jQuery(this),n=e.parent("li");n.hasClass("opened")?n.removeClass("opened"):n.addClass("opened")}return!1}),t.on({click:function(){var e=jQuery(this),n=e.parents("li"),i=n.find(".site__menu-sub");return o.width()<1024&&(n.hasClass("opened")?(n.removeClass("opened"),i.slideUp()):(n.addClass("opened"),i.slideDown())),!1}}),i.on({mouseenter:function(){if(o.width()>=1024){var e=$(this);e.parent("ul");if(e.hasClass("site__menu-item_sub")){e.addClass("opened");var n=e.find(".site__menu-sub");o.width()-(n.innerWidth()+e.offset().left)<0?e.offset().left+e.innerWidth()-n.innerWidth()<0?n.css({left:"50%","-webkit-transform":"translateX(-50%)",transform:"translateX(-50%)"}):n.css({left:e.position().left-n.innerWidth()+e.innerWidth()}):n.css({left:e.position().left})}}}}),$("[data-product]").on({mouseenter:function(){if(o.width()>=1024){$(".featured-product__loading").addClass("visible"),s&&(clearTimeout(s),s=null);var e=$(this),i=e.data("product");s=setTimeout(function(){n.find(".featured-product").find(".featured-product__title").text(i.name),n.find(".featured-product").find(".featured-product__pic img").attr("src",i.src),n.find(".featured-product").find(".btn").attr("href",i.href),n.find(".featured-product").find(".featured-product__price span").text(i.price),i.onSale?n.find(".featured-product").find(".featured-product__remark").addClass("visible"):n.find(".featured-product").find(".featured-product__remark").removeClass("visible"),i.oldPrice?n.find(".featured-product").find(".featured-product__price del").text(i.oldPrice):n.find(".featured-product").find(".featured-product__price del").addClass("hidden")},160),s=setTimeout(function(){$(".featured-product__loading").removeClass("visible")},200)}}}),n.on("mouseleave",function(){o.width()>=1024&&$(this).find(".opened").removeClass("opened")}),n.find("ul").on("mouseleave",function(){o.width()>=1024&&$(this).find(".opened").removeClass("opened")}),n.find("li").on("mouseleave",function(){o.width()>=1024&&$(this).removeClass("opened")})},r=function(){a()};r()},i=function(n){var i,t,o=this,s=n,d=$(window),a=!1,r=$(".site__header"),c=$(".site__hidden-items"),u=r.innerHeight(),l=$(".site__header-btn"),f=$(".site__hidden-close"),h=$(".search"),p=$(".search-btn"),_=$(".search__cancel"),m=$(".site__hidden-btn"),v=$(".site"),C=$("html"),w=($(".site__content"),function(){$(document).on("click",".search",function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),$(document).on("click","body",function(){H()}),l.on({click:function(){k($(this))}}),f.on({click:function(){return y(),!1}}),p.on({click:function(){return T($(this)),!1}}),_.on({click:function(){return H(),!1}}),d.on({scroll:function(e){g(),a=d.scrollTop()>=u,0==d.scrollTop()&&r.removeClass("site__header_hidden")},DOMMouseScroll:function(e){var n=e.originalEvent.detail;if(n){var i=n>0?1:-1;b(i)}},mousewheel:function(e){var n=e.originalEvent.wheelDelta;if(n){var i=n>0?-1:1;b(i)}},touchmove:function(e){var n=e.originalEvent.touches[0].clientY;n>i?b(-1):n<i&&b(1),i=n},keydown:function(e){switch(e.which){case 32:b(1);break;case 33:b(-1);break;case 34:b(1);break;case 35:b(1);break;case 36:b(-1);break;case 38:b(-1);break;case 40:b(1);break;default:return}},resize:function(){d.width()>=1024&&(v.css({height:""}),setTimeout(function(){v.height()>d.height()&&C.css({"overflow-y":""})},10))}})}),b=function(n){n>0&&!r.hasClass("site__header_hidden")&&!l.hasClass("opened")&&a&&r.addClass("site__header_hidden"),n<0&&r.hasClass("site__header_hidden")&&!l.hasClass("opened")&&a&&e&&r.removeClass("site__header_hidden")},g=function(){d.scrollTop()>u+150?r.addClass("fixed"):r.removeClass("fixed")},k=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),c.removeClass("opened")):(n.addClass("opened"),c.addClass("opened")),t=d.scrollTop(),setTimeout(function(){v.height()>d.height()&&C.css({"overflow-y":"scroll"}),setTimeout(function(){v.css({height:"100%"})},10)},300)},T=function(e){var n=e;n.hasClass("opened")?(n.removeClass("opened"),h.removeClass("active"),m.removeClass("hidden")):(n.addClass("opened"),h.addClass("active"),m.addClass("hidden"))},y=function(){l.removeClass("opened"),c.removeClass("opened"),h.find("input").focusout(),v.css({height:""}),setTimeout(function(){v.height()>d.height()&&C.css({"overflow-y":""}),d.scrollTop(t)},10)},H=function(){p.removeClass("opened"),h.removeClass("active"),m.removeClass("hidden")},x=function(){s[0].obj=o,w(),g()};x()},t=function(e){var n=e,i=$(window),t=i.width(),o=function(){i.on({resize:function(){t!=i.width()&&(t=i.width(),s())}})},s=function(){console.log(34),n.css({minHeight:""}),n.css({minHeight:i.height()-$(".site__header").innerHeight()-$(".site__footer").innerHeight()-$(".breadcrumbs").innerHeight()})},d=function(){o(),s()};d()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n=this,t=40,i=$(".popup__open"),e=o,p=e.find(".popup__close, .popup__cancel"),c=e.find(".popup__wrap"),u=e.find(".popup__content"),s=$("html"),d=$(window),a=setTimeout(function(){},1),f=function(){d.height()-2*t-c.height()>0?c.css({top:(d.height()-2*t-c.height())/2}):c.css({top:0})},r=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},l=function(){e.css({overflowY:"hidden"}),s.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),a=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},h=function(){e[0].obj=n,_()},_=function(){d.on({resize:function(){f()}}),i.on({click:function(){return v($(this).attr("data-popup")),!1}}),u.find(">div").on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return l(),!1}}),p.on({click:function(){return l(),!1}})},v=function(o){m(o),s.css({overflowY:"hidden",paddingRight:r()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};h()}}();
"use strict";!function(){$(function(){$.each($(".product__slider"),function(){new e($(this))}),$.each($(".featured-products"),function(){new i($(this))})});var e=function(e){var i,s,n=this,t=e,d=$(window),l=!1,o=0,r=function(){t[0].obj=n,c()},c=function(){a(),i=new Swiper(t.find(".gallery-top"),{slidesPerView:"1",loop:l,loopedSlides:o,centeredSlides:!1,spaceBetween:30,onSlideChangeEnd:function(e){if(l)$(".swiper-slide .product__slider-thumbs").css({"border-color":"transparent"}),$(".swiper-slide-active .product__slider-thumbs").css({"border-color":"rgba(244, 121, 32, 0.5)"});else{var i=e.activeIndex;$(s.slides).removeClass("is-selected"),$(s.slides).eq(i).addClass("is-selected"),s.slideTo(i,500,!1)}}}),s=new Swiper(t.find(".gallery-thumbs"),{centeredSlides:!1,slidesPerView:"4",touchRatio:.2,loop:l,loopedSlides:o,slideToClickedSlide:!0,breakpoints:{1440:{slidesPerView:"3"}},onInit:function(e){l||$(e.slides).eq(e.activeIndex).addClass("is-selected")},onClick:function(e,s){if(!l){var n=e.clickedIndex;e.activeIndex=n,e.updateClasses(),$(e.slides).removeClass("is-selected"),$(e.clickedSlide).addClass("is-selected"),i.slideTo(n,500,!1)}}}),i.params.control=s,s.params.control=i,l&&$(".swiper-slide-active .product__slider-thumbs").css({"border-color":"rgba(244, 121, 32, 0.5)"})},a=function(){d.width()<1440?t.find(".gallery-thumbs .swiper-slide").length>=3&&(l=!0,o=t.find(".gallery-thumbs .swiper-slide").length):t.find(".gallery-thumbs .swiper-slide").length>=4&&(l=!0,o=t.find(".gallery-thumbs .swiper-slide").length)};r()},i=function(e){var i,s,n=this,t=e,d=$(window),l=!1,o=function(){t[0].obj=n,r(),d.width()<=768?s=!1:(s=!0,a())},r=function(){d.on({resize:function(){d.width()<=768?s&&(s=!1,c()):s||(s=!0,a())}})},c=function(){i.destroy(!0,!0)},a=function(){p(),i=new Swiper(t.find(".swiper-container"),{pagination:t.find(".swiper-pagination"),slidesPerView:5,paginationClickable:!0,speed:600,loop:l,autoplay:5e3,autoplayDisableOnInteraction:!1,nextButton:t.find(".swiper-button-next"),prevButton:t.find(".swiper-button-prev"),breakpoints:{1440:{slidesPerView:4}}})},p=function(){d.width()>=1024?t.find(".swiper-slide").length>=4&&(l=!0):d.width()>=1425&&t.find(".swiper-slide").length>=5&&(l=!0),l||t.find(".featured-products__controls").css({display:"none"})};o()}}();
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=$('<span class="websters-select__item"></span>'),p=$('<div class="websters-select"></div>'),r=$(window),f=$("body"),u=!1,h=function(){var e="";o.css({opacity:0}),o.wrap(p),p=o.parent(),p.append('<div class="websters-select__arrow"></div>'),o.before(l),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),l.text(e)},v=function(){u=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),p.removeClass("websters-select_opened")},b=function(){o[0].obj=i,h(),g(),w()},w=function(){o.on("change",function(){l.text($(this).find("option:selected").text())}),$(document).on("change","select",function(){$(this).prev().text($(this).find("option:selected").text())}),1!=s||d||p.on({click:function(e){e.stopPropagation(),u?v():y()}}),f.on({click:function(){u&&v()}})},g=function(){!s||d?x():1==s&&_()},_=function(){p.addClass("websters-select_custom")},x=function(){p.addClass("websters-select_mobile")},y=function(){var e=$("select"),i=$("<ul></ul>"),s=(r.scrollTop(),p.offset(),0),d=o.find("option:selected").index(),l=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),u&&t.remove(),u=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+l+'"></div>'),o.find("option").each(function(e){var t=$(this);e==d?i.append('<li class="active">'+t.text()+"</li>"):i.append("<li>"+t.text()+"</li>")}),t.append(i),p.append(t),p.addClass("websters-select_opened"),t.css({width:p.outerWidth(),left:-2,top:p.outerHeight()-4}),s=t.outerHeight(),s>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.perfectScrollbar()),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),v()}})};i.checkOpened=function(){return u},i.close=function(){v()},b()}}();
!function(){$(function(){$(".category").each(function(){new e($(this))})});var e=function(e){var a=e,t=$("body").data("action"),i=new XMLHttpRequest,n=a.find(".category__filters-item span"),s=a.find(".category__filters-title"),r=a.find(".category__filters-items"),c=(r.find("form"),a.find(".category__filtered-close")),o=a.find(".category__filters-list"),d=a.find(".category__filtered"),l=a.find(".category__filtered-list"),f=0,p=a.find(".category__filters-title"),v=a.find(".category__filters-title-inner"),u=a.find(".category__filtered .btn, .category__filters-clear"),h=(a.find(".category__filtered-remove"),a.find(".category__find-parameters")),g=!1,_=$('<div class="loading"></div>'),y=a.find("input[type=hidden].value-check"),m=a.find("input[type=hidden].current-page"),b=a.find("#items-page"),C=a.find("#sorting-date"),w=a.find(".category__wrap").data("rate-path"),x=a.find(".category__filters-apply"),k=$(window),T={},z=null,I=[],P=function(){k.on({resize:function(){n.each(function(){var e=$(this),a=e.parent(),t=e.next();a.hasClass("opened")&&t.css({"min-height":t.find(">div").innerHeight()})}),k.width()>=1024&&$(".site__content").css({"z-index":""})},load:function(){}}),n.on({click:function(){var e=$(this),a=e.parent(),t=e.next();a.hasClass("opened")?(a.removeClass("opened"),t.css({"min-height":0,height:0})):(a.addClass("opened"),t.css({"min-height":t.find(">div").innerHeight()}),setTimeout(function(){t.css({height:"auto"})},310))}}),s.on({click:function(){O()}}),u.on({click:function(){return m.val("1"),F(),!1}}),$(document).on("click",".pagination a",function(){var e=$(this),a=parseInt(e.text());return e.hasClass("pagination__prev")?1!=parseInt(m.val())&&(m.val(m.val()-1),D(),q()):e.hasClass("pagination__next")?e.prev().hasClass("active")||(m.val(parseInt(m.val())+1),D(),q()):a!=parseInt(m.val())&&(m.val(a),D(),q()),!1}),$(document).on("click",".category__filtered-remove",function(){var e=$(this),a=e.parent(),t=a.data("id"),i=a.data("name");return m.val("1"),M(t,i),!1}),c.on({click:function(){return O(),!1}}),x.on({click:function(){return O(),!1}}),o.find("input[type=checkbox]").on({change:function(){var e=$(this),a=e.next(),t=a.clone().children().remove().end().text(),i=e.attr("name"),n=e.data("id"),s=e.parents(".category__filters-item").find("span")[0].innerText;g=e.prop("checked"),k.width()>=1024&&(D(),O()),A(i,n,g),m.val("1"),j(t,n,i,s),q()}}),b.on({change:function(){m.val("1"),D(),q()}}),C.on({change:function(){m.val("1"),D(),q()}}),h.on({submit:function(){return k.width()>=1024&&D(),m.val("1"),q(),!1}})},j=function(e,a,t,i){g?l.append("<li data-name="+t+' data-id="'+a+'">'+i+": "+e+' <a href="#" class="category__filtered-remove"></a></li>'):l.find('li[data-id="'+a+'"]').remove(),f=l.find("li").length,f>0?(d.removeClass("hidden"),p.find("span").html("("+f+")"),v.find("span").html("("+f+")"),p.addClass("selected"),u.removeClass("hidden")):(d.addClass("hidden"),p.find("span").html(""),v.find("span").html(""),p.removeClass("selected"),u.addClass("hidden"))},D=function(){_=$('<div class="loading"></div>'),$(".category__content").append(_)},H=function(){z&&(clearTimeout(z),z=null),z=setTimeout(function(){$(".loading").addClass("hidden")},300),z=setTimeout(function(){$(".loading").remove()},620)},F=function(){d.addClass("hidden"),p.find("span").html(""),v.find("span").html(""),p.removeClass("selected"),l.find("li").remove(),o.find("input[type=checkbox]").prop("checked",!1),y.val(""),D(),q()},M=function(e,a){o.find('input[data-id="'+e+'"]').prop("checked",!1),g=!1,j("",e,"",""),D(),A(a,e,g),q()},O=function(){s.hasClass("opened")?(s.removeClass("opened"),r.removeClass("opened"),$(".site__content").css({"z-index":""})):(s.addClass("opened"),r.addClass("opened"),k.width()<1024&&$(".site__content").css({"z-index":100}))},R=function(e){var a=parseInt(e.settings.pagesAll),t=parseInt(e.settings.currentPage);if(m.val(t),1!=a&&0!=a){var i='<div class="pagination">';if(i+='<a href="#" class="pagination__prev"></a>',a<=7)for(var n=1;n<=a;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else{if(t<=3||t>a-3){for(var n=1;n<=3;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>";for(var n=a-2;n<=a;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>"}if(t>3&&t<=a-3){if(i+='<a href="#">1</a>',i+="<span>...</span>",t-1>3&&t+1<=a-3)for(var n=t-1;n<=t+1;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else if(t-1<=3)for(var n=t;n<=t+2;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";else if(t+1>=a-3)for(var n=t-2;n<=t;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>",i+='<a href="#">'+a+"</a>"}if(8==a&&t>3&&t<=a-3){i+='<a href="#">1</a>',i+="<span>...</span>";for(var n=4;n<=5;n++)i+=n==t?'<a href="#" class="active">'+n+"</a>":'<a href="#">'+n+"</a>";i+="<span>...</span>",i+='<a href="#">'+a+"</a>"}}i+='<a href="#" class="pagination__next"></a>',i+="</div>",$(".pagination-wrap").html(i)}else $(".pagination").length&&$(".pagination").remove()},S=function(e){var a=e.products,t='<div class="products-subcategory">',i=[];if(void 0!=T.price)for(var n=0;n<=T.price.length-1;n++){var s=parseFloat(T.price[n].replace("$","").replace(",",""));i.push(s)}if(i.length)var r=Math.min.apply(null,i);$.each(a,function(){var e=this,a=e.price[0],n=e.oldPrice[0];if(i.length)for(var s=0;s<=e.price.length-1;s++){var c=parseFloat(e.price[s].replace("$","").replace(",",""));if(c>=r){a=e.price[s],n=e.oldPrice[s];break}}if(t+='<div class="products-subcategory__item">',void 0!=e.featured&&""!=e.featured&&(t+='<span class="site__featured">'+e.featured+"</span>"),t+='<div class="products-subcategory__head">                                            <div>                                                <a href="'+e.urlDetails+'" class="products-subcategory__pic" style="background-image: url('+e.picture+')"></a>                                            </div>                                            <div>                                                <h2 class="products-subcategory__title"><a href="'+e.urlDetails+'">'+e.title+"</a></h2>",void 0!=e.rate){t+='<div class="rate">';for(var s=0;s<=e.rate.starsCount-1;s++)t+='<img src="'+w+'img/star.png" width="60" height="50" alt="">&nbsp;';t+='<a href="'+e.rate.urlReviews+'" class="rate__reviews">'+e.rate.reviewsCount+"</a>                                                </div>"}if(t+='</div>                                        </div>                                        <div class="products-subcategory__content">',void 0!=e.content.description&&""!=e.content.description){t+='<div>                                        <ul class="products-subcategory__description">';for(var s=0;s<=e.content.description.length-1;s++)t+="<li>"+e.content.description[s]+"</li>";t+="</ul>                                    </div>"}if(t+='<div>                                            <div class="products-subcategory__items">',void 0!=e.content.specification&&""!=e.content.specification){t+='<div>                    <div class="products-subcategory__specification">                                                        <div class="products-subcategory__specification-head">';for(var s=0;s<=e.content.specification.head.length-1;s++)t+='<div style="width:'+100/e.content.specification.head.length+'%">'+e.content.specification.head[s]+"</div>";t+='</div>                                                        <div class="products-subcategory__specification-content">';for(var s=0;s<=e.content.specification.content.length-1;s++)t+='<div style="width:'+100/e.content.specification.head.length+'%">'+e.content.specification.content[s]+"</div>";t+="</div>                                                    </div>                                                </div>"}t+=void 0!=n&&""!=n?'<div class="products-subcategory__footer">                                                    <div class="products-subcategory__price">                                                        <del>'+n+"</del> "+a+"                                                    </div>":'<div class="products-subcategory__footer">                                                    <div class="products-subcategory__price">                                                        '+a+"                                                    </div>",t+='<a href="'+e.urlDetails+'" class="btn btn_3">see details</a>                                                </div>                                            </div>                                        </div>                                    </div>                                    </div>'}),t+="</div>",$(".category__wrap").html(t),H()},q=function(){i.abort(),i=$.ajax({url:t,data:{action:"get_filtered_products",value:y.val(),pageSorting:b.val(),dateSorting:C.val(),currentPage:m.val(),idCategory:a.data("id-category"),additionalParameters:h.serialize()},dataType:"json",type:"get",success:function(e){console.log(h.serialize()),S(e),R(e)},error:function(e){"abort"!=e.statusText&&console.log("Error")}})},A=function(e,a,t){if(t)if(T.hasOwnProperty(e))for(var i in T)i==e&&T[i].push(a);else T[e]=[a];else{for(var i in T)if(i==e){var n=T[i].indexOf(a);n!=-1&&T[i].splice(n,1)}0==T[e].length&&delete T[e]}var s="",r="",c="",o=[];for(var d in T){I=[];var l=T[d];I.push(l);for(var n=0;n<=I.length-1;n++)r=I.join(",");c=d+"="+r,o.push(c),s=o.join("&")}y.val(s)},E=function(){P(),a.hasClass("category_sub")&&(D(),q())};E()}}();
!function(){$(function(){$(".search").each(function(){new e($(this))})});var e=function(e){var i=e,t=i.find("input[type=search]"),a=new XMLHttpRequest,n=i.data("path"),s=0,o=0,r=t.val(),c=i.find(".search__result"),l=function(){t.on({keyup:function(e){if($(window).width()>=1024)switch(e.keyCode){case 13:0==c.find(".search__found li").filter(".active").length&&i.find("form").submit();break;case 32:case 27:case 37:case 38:case 39:case 40:break;default:var t=$(this).val();t.length>=i.data("symbols")?h($(this),t.length):""==$(this).val()&&(c.removeClass("visible"),s=0)}},keydown:function(e){if($(window).width()>=1024)switch(e.keyCode){case 13:return 0==c.find(".search__found li").filter(".active").length?window.location.href=i.data("action"):window.location.href=c.find(".search__found li").filter(".active").find("a").attr("href"),!1;case 27:return c.remove(),s=0,!1;case 38:case 40:e.preventDefault(),o>0&&(d(e.keyCode),s==o&&(s=0))}}}),$("html").click(function(){c.removeClass("visible"),s=0}),$(document).on("click","body",function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}),$(document).on("click",".search__found li",function(){var e=$(this),i=e.find("a").text();t.val(i),c.removeClass("visible"),s=0}),$(document).on("keydown",".search__found li",function(e){switch(e.keyCode){case 13:$(this).trigger("click")}})},d=function(e){c.find(".search__found li").removeClass("active"),i.parents().hasClass("site__footer")?(38==e&&s<o?s++:40==e&&s>0&&s--,s>0?(c.find(".search__found li").eq(-1-(s-1)).addClass("active"),t.val(c.find(".search__found li").eq(-1-(s-1)).find("a").text())):t.val(r)):(40==e&&s<o?s++:38==e&&s>0&&s--,s>0?(c.find(".search__found li").eq(s-1).addClass("active"),t.val(c.find(".search__found li").eq(s-1).find("a").text())):t.val(r))},f=function(e){var e=e,i=e.categories,t=0!=i.length,a=e.products,n=[],s=[],r=!0,l='<div class="top-products__wrap">';$.each(a,function(){var e=this;l+='<div>                                            <div class="top-products__item">                                                <div class="top-products__pic">                                                    <img src="'+e.src+'" width="414" height="414" alt="'+e.alt+'">                                                </div>                                                <span class="top-products__price"><del>'+e.oldPrice+"</del> "+e.price+'</span>                                                <h3 class="top-products__item-title">'+e.name+'</h3>                                                <a href="'+e.href+'" class="top-products__btn">view</a>                                            </div>                                        </div>',t||n.push([e.categories.mainCategory,e.categories.urlMainCategory,e.categories.subcategories,e.categories.urlSubcategories])}),l+="</div>",c.find("div").eq(1).find(".top-products").html(l);var d='<ul class="search__found">';if(t)$.each(i,function(){var e=this.subcategories,i=this.urlSubcategories,t="";if(void 0!=e){for(var a=0;a<=e.length-1;a++)t+='<li class="search__found-sub"><a href="'+i[a]+'">'+e[a]+"</a></li>";t+=""}d+='<li><a href="'+this.urlCategory+'">'+this.name+"</a></li>"+t});else{for(var f=0;f<=n.length-1;f++)if(r&&(s.push(n[f]),r=!1),s[s.length-1][0]!=n[f][0])s.push(n[f]);else for(var h=0;h<=n[f].length-1;h++)for(var u=0;u<=n[f][2].length-1;u++)s[s.length-1][2].indexOf(n[f][2][u])==-1&&s[s.length-1][2].push(n[f][2][u]);for(var v=0,f=0;f<=s.length-1;f++){for(var h=0;h<=s[f].length-1;h++){for(var _="",u=0;u<=s[f][2].length-1;u++)_+='<li class="search__found-sub"><a href="'+s[f][3][u]+'">'+s[f][2][u]+"</a></li>",v++;_+=""}d+='<li><a href="'+s[f][1]+'">'+s[f][0]+"</a></li>"+_}}d+="</ul>",c.find("div:first").html(d),c.find(".search__found").find("li:not(:lt(11))").remove(),o=c.find(".search__found").find("li").length,c.addClass("visible")},h=function(e,i){return a.abort(),a=$.ajax({url:n,data:{value:e.val(),action:"main_search"},dataType:"json",type:"get",success:function(e){0!=Object.keys(e).length&&f(e)},error:function(e){"abort"!=e.statusText&&console.log("Error")}}),!1},u=function(){l()};u()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5LnByb2R1Y3Qtc2xpZGVyLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyIsImpxdWVyeS5maWx0ZXJzLmpzIiwianF1ZXJ5LnNlYXJjaC5qcyJdLCJuYW1lcyI6WyJnbG9iYWxTY3JvbGxGbGFnIiwiJCIsImVhY2giLCJTdWJNZW51IiwidGhpcyIsIk1lbnUiLCJGdWxsSGVpZ2h0IiwicGVyZmVjdFNjcm9sbGJhciIsIndoZWVsUHJvcGFnYXRpb24iLCJvYmoiLCJfb2JqIiwiX2l0ZW1zIiwiZmluZCIsIl9hcnJvdyIsIl93aW5kb3ciLCJ3aW5kb3ciLCJ0aW1lb3V0IiwiX3N0YXJ0V2luV2lkdGgiLCJ3aWR0aCIsIl9hZGRFdmVudHMiLCJvbiIsInJlc2l6ZSIsInJlbW92ZUNsYXNzIiwialF1ZXJ5IiwiY3VySXRlbSIsInBhcmVudCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJjbGljayIsInBhcmVudHMiLCJzdWJNZW51Iiwic2xpZGVVcCIsInNsaWRlRG93biIsIm1vdXNlZW50ZXIiLCJpbm5lcldpZHRoIiwib2Zmc2V0IiwibGVmdCIsImNzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwicG9zaXRpb24iLCJjbGVhclRpbWVvdXQiLCJkYXRhIiwic2V0VGltZW91dCIsInRleHQiLCJuYW1lIiwiYXR0ciIsInNyYyIsImhyZWYiLCJwcmljZSIsIm9uU2FsZSIsIm9sZFByaWNlIiwiX2luaXQiLCJfbGFzdFBvcyIsInNpdGVTY3JvbGxUb3AiLCJfc2VsZiIsIl9tZW51IiwiX2FjdGlvbiIsIl9oZWFkZXIiLCJfaGlkZGVuQmxvY2tNZW51IiwiX2hlYWRlckhlaWdodCIsImlubmVySGVpZ2h0IiwiX3Nob3dCdG4iLCJfY2xvc2VCdG4iLCJfc2VhcmNoIiwiX29wZW5TZWFyY2giLCJfY2xvc2VTZWFyY2giLCJfZ2V0RnJlZSIsIl9zaXRlIiwiX2RvbSIsImRvY3VtZW50IiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJfY2xvc2VTZWFyY2hCb3giLCJfb3Blbk1lbnUiLCJfY2xvc2VNZW51IiwiX29wZW5TZWFyY2hCb3giLCJzY3JvbGwiLCJlIiwiX2ZpeGVkSGVhZGVyIiwic2Nyb2xsVG9wIiwiRE9NTW91c2VTY3JvbGwiLCJkZWx0YSIsIm9yaWdpbmFsRXZlbnQiLCJkZXRhaWwiLCJkaXJlY3Rpb24iLCJfY2hlY2tTY3JvbGwiLCJtb3VzZXdoZWVsIiwid2hlZWxEZWx0YSIsInRvdWNobW92ZSIsImN1cnJlbnRQb3MiLCJ0b3VjaGVzIiwiY2xpZW50WSIsImtleWRvd24iLCJ3aGljaCIsImhlaWdodCIsIm92ZXJmbG93LXkiLCJlbGVtIiwiZm9jdXNvdXQiLCJfZ2xvYmFsV2luV2lkdGgiLCJfc2V0SGVpZ2h0IiwiY29uc29sZSIsImxvZyIsIm1pbkhlaWdodCIsIlBvcHVwIiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwiX2NlbnRlcldyYXAiLCJ0b3AiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsInNjcm9sbERpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJfaGlkZSIsIm92ZXJmbG93WSIsInBhZGRpbmdSaWdodCIsIl9vbkV2ZW50cyIsIl9zaG93IiwiX3NldFBvcHVwQ29udGVudCIsImN1ckNvbnRlbnQiLCJmaWx0ZXIiLCJkaXNwbGF5IiwiUHJvZHVjdFNsaWRlciIsIkZlYXR1cmVkUHJvZHVjdHNTbGlkZXIiLCJfc2xpZGVyIiwiX2dhbGxlcnlUaHVtYnMiLCJfbG9vcCIsIl9zbGlkZXNMZW5ndGgiLCJfY29uc3RydWN0b3IiLCJfaW5pdFNsaWRlciIsIl9hZGRTb21lUGFyYW1zIiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsImxvb3AiLCJsb29wZWRTbGlkZXMiLCJjZW50ZXJlZFNsaWRlcyIsInNwYWNlQmV0d2VlbiIsIm9uU2xpZGVDaGFuZ2VFbmQiLCJzd2lwZXIiLCJib3JkZXItY29sb3IiLCJhY3RpdmVJbmRleCIsInNsaWRlcyIsImVxIiwic2xpZGVUbyIsInRvdWNoUmF0aW8iLCJzbGlkZVRvQ2xpY2tlZFNsaWRlIiwiYnJlYWtwb2ludHMiLCIxNDQwIiwib25Jbml0Iiwib25DbGljayIsImNsaWNrZWQiLCJjbGlja2VkSW5kZXgiLCJ1cGRhdGVDbGFzc2VzIiwiY2xpY2tlZFNsaWRlIiwicGFyYW1zIiwiY29udHJvbCIsImxlbmd0aCIsIl9mbGFnIiwiX2Rlc3Ryb3kiLCJkZXN0cm95IiwicGFnaW5hdGlvbiIsInBhZ2luYXRpb25DbGlja2FibGUiLCJzcGVlZCIsImF1dG9wbGF5IiwiYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbiIsIm5leHRCdXR0b24iLCJwcmV2QnV0dG9uIiwiV2Vic3RlcnNTZWxlY3QiLCJvcHRpb25UeXBlIiwic2hvd1R5cGUiLCJfcG9wdXAiLCJfc2Nyb2xsIiwiX29wdGlvblR5cGUiLCJfc2hvd1R5cGUiLCJfdmlzaWJsZSIsInZpc2libGUiLCJfZGV2aWNlIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIl90ZXh0IiwiX2JvZHkiLCJfb3BlbmVkIiwiX2FkZFdyYXAiLCJjdXJUZXh0Iiwib3BhY2l0eSIsIndyYXAiLCJhcHBlbmQiLCJiZWZvcmUiLCJfaGlkZVBvcHVwIiwic3RvcCIsInJlbW92ZSIsImZhZGVPdXQiLCJfc2VsZWN0Vmlld1R5cGUiLCJwcmV2IiwiX3Nob3dQb3B1cCIsIl9zZXRNb2JpbGVWaWV3IiwiX3NldEN1c3RvbTEiLCJzZWxlY3RzIiwibGlzdCIsIm1heEhlaWdodCIsImN1ckluZGV4IiwiaW5kZXgiLCJpZCIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsImNoZWNrT3BlbmVkIiwiY2xvc2UiLCJpIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiYW5pbWF0ZSIsInZhbCIsInRyaWdnZXIiLCJGaWx0ZXJzIiwiX3BhdGgiLCJfcmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX2J0biIsIl9idG4yIiwiX2ZpbHRlcnMiLCJfY2xvc2VGaWx0ZXJzIiwiX2ZpbHRlckl0ZW0iLCJfZmlsdGVyZWQiLCJfZmlsdGVyZWRMaXN0IiwiX2NvdW50RmlsdGVyZWQiLCJfdGl0bGUiLCJfdGl0bGVJbm5lciIsIl9jbGVhckZpbHRlcnMiLCJfYWRkaXRpb25hbFBhcmFtZXRlcnMiLCJfZ2xvYmFsQ2hlY2tGbGFnIiwiX2xvYWRpbmciLCJfaW5wdXRIaWRkZW4iLCJfaW5wdXRIaWRkZW5QYWdlIiwiX3NvcnRpbmdQYWdlIiwiX3NvcnRpbmdEYXRlIiwiX2RhdGFSYXRlUGF0aCIsIl9hcHBseSIsIl9vYmpWYWx1ZSIsIl90aW1lb3V0IiwiX2FyciIsIm5leHRGaWx0ZXJzIiwibmV4dCIsIm1pbi1oZWlnaHQiLCJ6LWluZGV4IiwibG9hZCIsIl9jbG9zZUZpbHRlciIsIl9jbGVhckZpbHRlciIsInZhbHVlIiwicGFyc2VJbnQiLCJfYWRkTG9hZGluZyIsIl9yZXF1ZXN0Q29udGVudCIsImRhdGFJZCIsImRhdGFOYW1lIiwiX2NsZWFyU2luZ2xlRmlsdGVyIiwiY2hhbmdlIiwibGFiZWwiLCJsYWJlbFRleHQiLCJjbG9uZSIsImNoaWxkcmVuIiwiZW5kIiwiY2F0ZWdvcnlOYW1lIiwiaW5uZXJUZXh0IiwicHJvcCIsIl93cml0ZUluSGlkZGVuIiwiX2FkZGluZ0ZpbHRlcmVkQnkiLCJzdWJtaXQiLCJpdGVtVGV4dCIsIml0ZW1JZCIsIml0ZW1OYW1lIiwiaHRtbCIsIl9jbG9zZUxvYWRpbmciLCJfY3JlYXRlUGFnaW5hdGlvbiIsInBhZ2VzIiwic2V0dGluZ3MiLCJwYWdlc0FsbCIsImFjdGl2ZVBhZ2UiLCJjdXJyZW50UGFnZSIsInBhZ2luYXRpb25XcmFwIiwiX3Bhc3RlTmV3UHJvZHVjdHMiLCJuZXdEYXRhIiwicHJvZHVjdHMiLCJwcm9kdWN0c1dyYXAiLCJuZXdBcnJQcmljZVJhbmdlIiwidW5kZWZpbmVkIiwicHJpY2VJdGVtIiwicGFyc2VGbG9hdCIsInJlcGxhY2UiLCJwdXNoIiwicHJpY2VSYW5nZSIsIm1pbiIsImFwcGx5IiwicHJvZHVjdCIsInNhbGVQcmljZSIsImZlYXR1cmVkIiwidXJsRGV0YWlscyIsInBpY3R1cmUiLCJ0aXRsZSIsInJhdGUiLCJzdGFyc0NvdW50IiwidXJsUmV2aWV3cyIsInJldmlld3NDb3VudCIsImNvbnRlbnQiLCJkZXNjcmlwdGlvbiIsInNwZWNpZmljYXRpb24iLCJoZWFkIiwiYWJvcnQiLCJhamF4IiwidXJsIiwiYWN0aW9uIiwicGFnZVNvcnRpbmciLCJkYXRlU29ydGluZyIsImlkQ2F0ZWdvcnkiLCJhZGRpdGlvbmFsUGFyYW1ldGVycyIsInNlcmlhbGl6ZSIsImRhdGFUeXBlIiwidHlwZSIsInN1Y2Nlc3MiLCJtIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiY2hlY2tGbGFnIiwiaGFzT3duUHJvcGVydHkiLCJpbmRleE9mIiwic3BsaWNlIiwic3RyRmluaXNoIiwic3RyVmFsdWVzIiwic3RyRnVsbCIsImFyckFsbCIsImtleSIsIml0ZW0iLCJqb2luIiwiU2VhcmNoIiwiX2lucHV0Iiwic3VnZ2VzdFNlbGVjdGVkIiwiY291bnRJdGVtcyIsInZhbHVlSW5wdXQiLCJfcmVzdWx0Iiwia2V5dXAiLCJJIiwia2V5Q29kZSIsIl9hamF4UmVxdWVzdCIsImxvY2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJfa2V5QWN0aXZhdGUiLCJuIiwiX2FkZERhdGEiLCJjYXRlZ29yaWVzIiwiY2F0ZWdvcmllc0F2YWlsYWJpbGl0eSIsImFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FyciIsInByb2R1Y3RzQ2F0ZWdvcmllc0FyciIsImZsYWciLCJhbHQiLCJtYWluQ2F0ZWdvcnkiLCJ1cmxNYWluQ2F0ZWdvcnkiLCJzdWJjYXRlZ29yaWVzIiwidXJsU3ViY2F0ZWdvcmllcyIsInJlc3VsdFN0ciIsInN1YmNhdGVnb3JpZXNXcmFwIiwidXJsQ2F0ZWdvcnkiLCJqIiwieiIsImNvdW50IiwiaW5wdXQiLCJtc2ciLCJPYmplY3QiLCJrZXlzIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUdJLEdBQUlBLElBQW1CLENBRXZCQyxHQUFFLFdBRUVBLEVBQUUsZUFBZUMsS0FBSyxXQUVsQixHQUFJQyxHQUFTRixFQUFFRyxPQUNmLEdBQUlDLEdBQU1KLEVBQUVHLFNBSWhCSCxFQUFFLGNBQWNDLEtBQUssV0FFakIsR0FBSUksR0FBWUwsRUFBRUcsU0FJdEJILEVBQUUsaUJBQWlCQyxLQUFLLFdBRXBCLEdBQUlJLEdBQVlMLEVBQUVHLFNBSXRCSCxFQUFFLGdCQUFnQkMsS0FBSyxXQUVuQkQsRUFBRUcsTUFBTUcsa0JBQ0pDLGtCQUFrQixPQVM5QixJQUFJTCxHQUFVLFNBQVVNLEdBR3BCLEdBQUlDLEdBQU9ELEVBQ1BFLEVBQVNELEVBQUtFLEtBQUssb0JBQ25CQyxFQUFTSCxFQUFLRSxLQUFLLG9CQUNuQkUsRUFBVWIsRUFBRWMsUUFDWkMsRUFBVSxLQUNWQyxFQUFpQkgsRUFBUUksUUFJekJDLEVBQWEsV0FFVEwsRUFBUU0sSUFDSkMsT0FBUSxXQUVBSixFQUFpQkgsRUFBUUksVUFFekJELEVBQWlCSCxFQUFRSSxRQUV6QkosRUFBUUYsS0FBSyxXQUFXVSxZQUFZLGNBTWhEckIsRUFBRSxRQUFRbUIsR0FBRyxRQUFTLG1CQUFvQixXQUV0QyxHQUFJRyxPQUFPUixRQUFRRyxRQUFVLElBQU8sQ0FFaEMsR0FBSU0sR0FBVUQsT0FBT25CLE1BQ2pCcUIsRUFBU0QsRUFBUUMsT0FBTyxLQUV2QkEsR0FBT0MsU0FBUyxVQUVqQkQsRUFBT0gsWUFBWSxVQUluQkcsRUFBT0UsU0FBUyxVQU14QixPQUFPLElBR1hkLEVBQU9PLElBQ0hRLE1BQU8sV0FFSCxHQUFJSixHQUFVRCxPQUFPbkIsTUFDakJxQixFQUFTRCxFQUFRSyxRQUFRLE1BQ3pCQyxFQUFVTCxFQUFPYixLQUFLLGtCQWdCMUIsT0FkSUUsR0FBUUksUUFBVSxPQUNiTyxFQUFPQyxTQUFTLFdBRWpCRCxFQUFPSCxZQUFZLFVBQ25CUSxFQUFRQyxZQUlSTixFQUFPRSxTQUFTLFVBQ2hCRyxFQUFRRSxlQUtULEtBR2ZyQixFQUFPUyxJQUNIYSxXQUFZLFdBRVIsR0FBSW5CLEVBQVFJLFNBQVcsS0FBTyxDQUUxQixHQUFJTSxHQUFVdkIsRUFBRUcsS0FDSG9CLEdBQVFDLE9BQU8sS0FFNUIsSUFBSUQsRUFBUUUsU0FBUyx1QkFBeUIsQ0FFMUNGLEVBQVFHLFNBQVMsU0FFakIsSUFBSUcsR0FBVU4sRUFBUVosS0FBSyxrQkFFckJFLEdBQVFJLFNBQVlZLEVBQVFJLGFBQWVWLEVBQVFXLFNBQVNDLE1BQVcsRUFFakVaLEVBQVFXLFNBQVNDLEtBQU9aLEVBQVFVLGFBQWlCSixFQUFRSSxhQUFpQixFQUU5RUosRUFBUU8sS0FDSkQsS0FBTSxNQUNORSxvQkFBcUIsbUJBQ3JCQyxVQUFhLHFCQUtqQlQsRUFBUU8sS0FDSkQsS0FBTVosRUFBUWdCLFdBQVdKLEtBQU9OLEVBQVFJLGFBQWVWLEVBQVFVLGVBT3ZFSixFQUFRTyxLQUNKRCxLQUFNWixFQUFRZ0IsV0FBV0osWUFXakRuQyxFQUFFLGtCQUFrQm1CLElBQ2hCYSxXQUFZLFdBRVIsR0FBSW5CLEVBQVFJLFNBQVcsS0FBTyxDQUUxQmpCLEVBQUUsOEJBQThCMEIsU0FBUyxXQUVyQ1gsSUFFQXlCLGFBQWF6QixHQUNiQSxFQUFVLEtBSWQsSUFBSVEsR0FBVXZCLEVBQUVHLE1BRVpzQyxFQUFPbEIsRUFBUWtCLEtBQUssVUFJcEIxQixHQUFVMkIsV0FBWSxXQUVsQmpDLEVBQUtFLEtBQUsscUJBQXFCQSxLQUFLLDRCQUE0QmdDLEtBQUtGLEVBQUtHLE1BQzFFbkMsRUFBS0UsS0FBSyxxQkFBcUJBLEtBQUssOEJBQThCa0MsS0FBSyxNQUFPSixFQUFLSyxLQUNuRnJDLEVBQUtFLEtBQUsscUJBQXFCQSxLQUFLLFFBQVFrQyxLQUFLLE9BQVFKLEVBQUtNLE1BQzlEdEMsRUFBS0UsS0FBSyxxQkFBcUJBLEtBQUssaUNBQWlDZ0MsS0FBS0YsRUFBS08sT0FFM0VQLEVBQUtRLE9BQ0x4QyxFQUFLRSxLQUFLLHFCQUFxQkEsS0FBSyw2QkFBNkJlLFNBQVMsV0FFMUVqQixFQUFLRSxLQUFLLHFCQUFxQkEsS0FBSyw2QkFBNkJVLFlBQVksV0FHN0VvQixFQUFLUyxTQUNMekMsRUFBS0UsS0FBSyxxQkFBcUJBLEtBQUssZ0NBQWdDZ0MsS0FBS0YsRUFBS1MsVUFFOUV6QyxFQUFLRSxLQUFLLHFCQUFxQkEsS0FBSyxnQ0FBZ0NlLFNBQVMsV0FHbEYsS0FFSFgsRUFBVTJCLFdBQVksV0FFbEIxQyxFQUFFLDhCQUE4QnFCLFlBQVksWUFFN0MsU0FRbkJaLEVBQUtVLEdBQUksYUFBYyxXQUVmTixFQUFRSSxTQUFXLE1BRW5CakIsRUFBRUcsTUFBTVEsS0FBSyxXQUFXVSxZQUFZLFlBSzVDWixFQUFLRSxLQUFLLE1BQU1RLEdBQUksYUFBYyxXQUUxQk4sRUFBUUksU0FBVyxNQUVuQmpCLEVBQUVHLE1BQU1RLEtBQUssV0FBV1UsWUFBWSxZQUs1Q1osRUFBS0UsS0FBSyxNQUFNUSxHQUFJLGFBQWMsV0FFMUJOLEVBQVFJLFNBQVcsTUFFbkJqQixFQUFFRyxNQUFNa0IsWUFBWSxhQU9oQzhCLEVBQVEsV0FDSmpDLElBT1JpQyxNQUVBL0MsRUFBTyxTQUFVSSxHQUdqQixHQUtJNEMsR0FZQUMsRUFqQkFDLEVBQVFuRCxLQUNSb0QsRUFBUS9DLEVBQ1JLLEVBQVViLEVBQUVjLFFBQ1owQyxHQUFVLEVBR1ZDLEVBQVV6RCxFQUFFLGlCQUNaMEQsRUFBbUIxRCxFQUFFLHVCQUNyQjJELEVBQWdCRixFQUFRRyxjQUN4QkMsRUFBVzdELEVBQUUscUJBQ2I4RCxFQUFZOUQsRUFBRSx1QkFDZCtELEVBQVUvRCxFQUFFLFdBQ1pnRSxFQUFjaEUsRUFBRSxlQUNoQmlFLEVBQWVqRSxFQUFFLG1CQUNqQmtFLEVBQVdsRSxFQUFFLHFCQUNibUUsRUFBUW5FLEVBQUUsU0FDVm9FLEVBQU9wRSxFQUFHLFFBTVZrQixHQUpXbEIsRUFBRSxrQkFJQSxXQUVUQSxFQUFFcUUsVUFBVWxELEdBQ1IsUUFDQSxVQUNBLFNBQVVtRCxHQUNOQSxFQUFRQSxHQUFTeEQsT0FBT3dELE1BRXBCQSxFQUFNQyxnQkFDTkQsRUFBTUMsa0JBRU5ELEVBQU1FLGNBQWUsSUFLakN4RSxFQUFFcUUsVUFBVWxELEdBQ1IsUUFDQSxPQUNBLFdBRUlzRCxNQUtSWixFQUFTMUMsSUFDTFEsTUFBTyxXQUVIK0MsRUFBVTFFLEVBQUVHLFVBSXBCMkQsRUFBVTNDLElBQ05RLE1BQU8sV0FJSCxNQUZBZ0QsTUFFTyxLQUlmWCxFQUFZN0MsSUFDUlEsTUFBTyxXQUlILE1BRkFpRCxHQUFlNUUsRUFBRUcsUUFFVixLQUlmOEQsRUFBYTlDLElBQ1RRLE1BQU8sV0FJSCxNQUZBOEMsTUFFTyxLQUlmNUQsRUFBUU0sSUFDSjBELE9BQVEsU0FBV0MsR0FDZkMsSUFDQXZCLEVBQVUzQyxFQUFRbUUsYUFBZXJCLEVBR04sR0FBdkI5QyxFQUFRbUUsYUFDUnZCLEVBQVFwQyxZQUFZLHdCQUk1QjRELGVBQWdCLFNBQVVILEdBRXRCLEdBQUlJLEdBQVFKLEVBQUVLLGNBQWNDLE1BRTVCLElBQUlGLEVBQU8sQ0FDUCxHQUFJRyxHQUFhSCxFQUFRLEVBQUssSUFFOUJJLEdBQWFELEtBS3JCRSxXQUFZLFNBQVVULEdBRWxCLEdBQUlJLEdBQVFKLEVBQUVLLGNBQWNLLFVBRTVCLElBQUlOLEVBQU8sQ0FDUCxHQUFJRyxHQUFhSCxFQUFRLEtBQVUsQ0FFbkNJLEdBQWFELEtBS3JCSSxVQUFXLFNBQVVYLEdBRWpCLEdBQUlZLEdBQWFaLEVBQUVLLGNBQWNRLFFBQVEsR0FBR0MsT0FFeENGLEdBQWF0QyxFQUVia0MsTUFHT0ksRUFBYXRDLEdBRXBCa0MsRUFBYSxHQUlqQmxDLEVBQVdzQyxHQUdmRyxRQUFTLFNBQVVmLEdBQ2YsT0FBUUEsRUFBRWdCLE9BRU4sSUFBSyxJQUNEUixFQUFhLEVBQ2IsTUFDSixLQUFLLElBQ0RBLEtBQ0EsTUFDSixLQUFLLElBQ0RBLEVBQWEsRUFDYixNQUNKLEtBQUssSUFDREEsRUFBYSxFQUNiLE1BQ0osS0FBSyxJQUNEQSxLQUNBLE1BQ0osS0FBSyxJQUNEQSxLQUNBLE1BQ0osS0FBSyxJQUNEQSxFQUFhLEVBQ2IsTUFFSixTQUNJLFNBR1psRSxPQUFRLFdBRUFQLEVBQVFJLFNBQVMsT0FFakJrRCxFQUFNL0IsS0FDRjJELE9BQVUsS0FHZHJELFdBQVksV0FFSnlCLEVBQU00QixTQUFXbEYsRUFBUWtGLFVBQ3pCM0IsRUFBS2hDLEtBQ0Q0RCxhQUFjLE1BSXZCLFVBUW5CVixFQUFlLFNBQVVELEdBRWpCQSxFQUFZLElBQU01QixFQUFRaEMsU0FBUyx5QkFBMkJvQyxFQUFTcEMsU0FBUyxXQUFhK0IsR0FFN0ZDLEVBQVEvQixTQUFTLHVCQUlqQjJELEVBQVksR0FBSzVCLEVBQVFoQyxTQUFTLHlCQUEyQm9DLEVBQVNwQyxTQUFTLFdBQWErQixHQUFXekQsR0FFdkcwRCxFQUFRcEMsWUFBWSx3QkFLNUIwRCxFQUFlLFdBRVBsRSxFQUFRbUUsWUFBY3JCLEVBQWdCLElBRXRDRixFQUFRL0IsU0FBUyxTQUtqQitCLEVBQVFwQyxZQUFZLFVBSzVCcUQsRUFBWSxTQUFVdUIsR0FFbEIsR0FBSTFFLEdBQVUwRSxDQUVWMUUsR0FBUUUsU0FBUyxXQUVqQkYsRUFBUUYsWUFBWSxVQUNwQnFDLEVBQWlCckMsWUFBWSxZQUk3QkUsRUFBUUcsU0FBUyxVQUNqQmdDLEVBQWlCaEMsU0FBUyxXQUk5QjJCLEVBQWdCeEMsRUFBUW1FLFlBR3hCdEMsV0FBWSxXQUVKeUIsRUFBTTRCLFNBQVdsRixFQUFRa0YsVUFDekIzQixFQUFLaEMsS0FDRDRELGFBQWMsV0FJdEJ0RCxXQUFZLFdBRVJ5QixFQUFNL0IsS0FDRjJELE9BQVUsVUFHZixLQUVKLE1BR1BuQixFQUFpQixTQUFVcUIsR0FFdkIsR0FBSTFFLEdBQVUwRSxDQUVWMUUsR0FBUUUsU0FBUyxXQUVqQkYsRUFBUUYsWUFBWSxVQUNwQjBDLEVBQVExQyxZQUFZLFVBQ3BCNkMsRUFBUzdDLFlBQVksWUFJckJFLEVBQVFHLFNBQVMsVUFDakJxQyxFQUFRckMsU0FBUyxVQUNqQndDLEVBQVN4QyxTQUFTLFlBSzFCaUQsRUFBYSxXQUVUZCxFQUFTeEMsWUFBWSxVQUNyQnFDLEVBQWlCckMsWUFBWSxVQUM3QjBDLEVBQVFwRCxLQUFLLFNBQVN1RixXQUd0Qi9CLEVBQU0vQixLQUNGMkQsT0FBVSxLQUdkckQsV0FBWSxXQUVKeUIsRUFBTTRCLFNBQVdsRixFQUFRa0YsVUFDekIzQixFQUFLaEMsS0FDRDRELGFBQWMsS0FJdEJuRixFQUFRbUUsVUFBVzNCLElBRXBCLEtBR1BvQixFQUFrQixXQUVkVCxFQUFZM0MsWUFBWSxVQUN4QjBDLEVBQVExQyxZQUFZLFVBQ3BCNkMsRUFBUzdDLFlBQVksV0FHekI4QixFQUFRLFdBQ0pJLEVBQU0sR0FBRy9DLElBQU04QyxFQUNmcEMsSUFDQTZELElBR1I1QixNQUVBOUMsRUFBYSxTQUFVRyxHQUd2QixHQUFJQyxHQUFPRCxFQUNQSyxFQUFVYixFQUFFYyxRQUNacUYsRUFBa0J0RixFQUFRSSxRQUkxQkMsRUFBYSxXQUVUTCxFQUFRTSxJQUNKQyxPQUFRLFdBRUMrRSxHQUFtQnRGLEVBQVFJLFVBRTVCa0YsRUFBa0J0RixFQUFRSSxRQUUxQm1GLFNBTWhCQSxFQUFhLFdBRVRDLFFBQVFDLElBQUksSUFFWjdGLEVBQUsyQixLQUNEbUUsVUFBVyxLQUVmOUYsRUFBSzJCLEtBQ0RtRSxVQUFXMUYsRUFBUWtGLFNBQVcvRixFQUFFLGlCQUFpQjRELGNBQWdCNUQsRUFBRSxpQkFBaUI0RCxjQUFnQjVELEVBQUUsZ0JBQWdCNEQsaUJBSTlIVCxFQUFRLFdBQ0pqQyxJQUNBa0YsSUFPUmpEO0NDbG1CUixXQUVJbkQsRUFBRyxXQUVDQSxFQUFHLFVBQVdDLEtBQUssV0FFZixHQUFJdUcsR0FBTXhHLEVBQUVHLFVBTXBCLElBQUlxRyxHQUFRLFNBQVVoRyxHQUdsQixHQUFJOEMsR0FBUW5ELEtBQ1JzRyxFQUFnQixHQUNoQkMsRUFBWTFHLEVBQUcsZ0JBQ2ZTLEVBQU9ELEVBQ1BtRyxFQUFZbEcsRUFBS0UsS0FBTSxpQ0FDdkJpRyxFQUFRbkcsRUFBS0UsS0FBTSxnQkFDbkJrRyxFQUFZcEcsRUFBS0UsS0FBTSxtQkFDdkJtRyxFQUFtQjlHLEVBQUcsUUFDdEJhLEVBQVViLEVBQUdjLFFBQ2JpRyxFQUFTckUsV0FBWSxhQUFjLEdBR25Dc0UsRUFBYyxXQUNMbkcsRUFBUWtGLFNBQTZCLEVBQWhCVSxFQUFzQkcsRUFBTWIsU0FBVyxFQUM3RGEsRUFBTXhFLEtBQU82RSxLQUFTcEcsRUFBUWtGLFNBQTZCLEVBQWhCVSxFQUF3QkcsRUFBTWIsVUFBYSxJQUV0RmEsRUFBTXhFLEtBQU82RSxJQUFLLEtBRzFCQyxFQUFrQixXQUNkLEdBQ0lDLEdBREFDLEVBQVkvQyxTQUFTZ0QsY0FBZSxNQVd4QyxPQVJBRCxHQUFVRSxVQUFZLDJCQUV0QmpELFNBQVNrRCxLQUFLQyxZQUFhSixHQUUzQkQsRUFBaUJDLEVBQVVLLFlBQWNMLEVBQVVNLFlBRW5EckQsU0FBU2tELEtBQUtJLFlBQVlQLEdBRW5CRCxHQUVYUyxFQUFRLFdBQ0puSCxFQUFLMkIsS0FDRHlGLFVBQVcsV0FFZmYsRUFBaUIxRSxLQUNieUYsVUFBVyxPQUNYQyxhQUFjLElBR2xCckgsRUFBS1ksWUFBYSxnQkFDbEJaLEVBQUtpQixTQUFVLGNBRWZxRixFQUFTckUsV0FBWSxXQUVqQmpDLEVBQUsyQixLQUNEeUYsVUFBVyxTQUdmcEgsRUFBS1ksWUFBYSxlQUNuQixNQUdQOEIsRUFBUSxXQUNKMUMsRUFBTSxHQUFJRCxJQUFNOEMsRUFDaEJ5RSxLQUVKQSxFQUFZLFdBQ1JsSCxFQUFRTSxJQUNKQyxPQUFRLFdBQ0o0RixPQUdSTixFQUFTdkYsSUFDTFEsTUFBTyxXQUVILE1BREFxRyxHQUFPaEksRUFBR0csTUFBTzBDLEtBQU0sZ0JBQ2hCLEtBR2ZnRSxFQUFVbEcsS0FBSyxRQUFRUSxJQUNuQlEsTUFBTyxTQUFVbUQsR0FDYkEsRUFBRVAscUJBR1Y5RCxFQUFLVSxJQUNEUSxNQUFPLFdBRUgsTUFEQWlHLE1BQ08sS0FHZmpCLEVBQVV4RixJQUNOUSxNQUFPLFdBRUgsTUFEQWlHLE1BQ08sTUFJbkJJLEVBQVEsU0FBVVYsR0FDZFcsRUFBa0JYLEdBRWxCUixFQUFpQjFFLEtBQ2J5RixVQUFXLFNBQ1hDLGFBQWNaLE1BRWxCekcsRUFBS2lCLFNBQVUsZ0JBQ2ZzRixLQUdKaUIsRUFBbUIsU0FBVVgsR0FDekIsR0FBSVksR0FBYXJCLEVBQVVzQixPQUFRLFdBQWFiLEVBRWhEVCxHQUFVekUsS0FBT2dHLFFBQVMsU0FDMUJGLEVBQVc5RixLQUFPZ0csUUFBUyxVQVFuQ2pGO0FDL0hSLGNBQ0EsV0FFSW5ELEVBQUcsV0FFQ0EsRUFBRUMsS0FBTUQsRUFBRyxvQkFBc0IsV0FFN0IsR0FBSXFJLEdBQWdCckksRUFBR0csU0FJM0JILEVBQUVDLEtBQU1ELEVBQUcsc0JBQXdCLFdBRS9CLEdBQUlzSSxHQUF5QnRJLEVBQUdHLFVBS3hDLElBQUlrSSxHQUFnQixTQUFVN0gsR0FHMUIsR0FFSStILEdBQ0FDLEVBSEFsRixFQUFRbkQsS0FDUk0sRUFBT0QsRUFHUEssRUFBVWIsRUFBRWMsUUFDWjJILEdBQVEsRUFDUkMsRUFBZ0IsRUFHaEJDLEVBQWUsV0FDWGxJLEVBQU0sR0FBSUQsSUFBTThDLEVBQ2hCc0YsS0FFSkEsRUFBYyxXQUVWQyxJQUVBTixFQUFVLEdBQUlPLFFBQVFySSxFQUFLRSxLQUFLLGlCQUM1Qm9JLGNBQWUsSUFDZkMsS0FBTVAsRUFDTlEsYUFBY1AsRUFDZFEsZ0JBQWdCLEVBQ2hCQyxhQUFjLEdBQ2RDLGlCQUFrQixTQUFTQyxHQUV2QixHQUFJWixFQU9BekksRUFBRSx5Q0FBeUNvQyxLQUN2Q2tILGVBQWdCLGdCQUVwQnRKLEVBQUUsZ0RBQWdEb0MsS0FDOUNrSCxlQUFnQixnQ0FYYixDQUNQLEdBQUlDLEdBQWNGLEVBQU9FLFdBQ3pCdkosR0FBRXdJLEVBQWVnQixRQUFRbkksWUFBWSxlQUNyQ3JCLEVBQUV3SSxFQUFlZ0IsUUFBUUMsR0FBR0YsR0FBYTdILFNBQVMsZUFDbEQ4RyxFQUFla0IsUUFBUUgsRUFBWSxLQUFLLE9BZXBEZixFQUFpQixHQUFJTSxRQUFRckksRUFBS0UsS0FBSyxvQkFDbkN1SSxnQkFBZ0IsRUFDaEJILGNBQWUsSUFDZlksV0FBWSxHQUVaWCxLQUFNUCxFQUNOUSxhQUFjUCxFQUNka0IscUJBQXFCLEVBQ3JCQyxhQUNJQyxNQUNJZixjQUFlLE1BR3ZCZ0IsT0FBUSxTQUFTVixHQUVUWixHQUNBekksRUFBRXFKLEVBQU9HLFFBQVFDLEdBQUdKLEVBQU9FLGFBQWE3SCxTQUFTLGdCQUd6RHNJLFFBQVMsU0FBVVgsRUFBUS9FLEdBRXZCLElBQUltRSxFQUFPLENBQ1AsR0FBSXdCLEdBQVVaLEVBQU9hLFlBQ3JCYixHQUFPRSxZQUFjVSxFQUNyQlosRUFBT2MsZ0JBQ1BuSyxFQUFFcUosRUFBT0csUUFBUW5JLFlBQVksZUFDN0JyQixFQUFFcUosRUFBT2UsY0FBYzFJLFNBQVMsZUFDaEM2RyxFQUFRbUIsUUFBUU8sRUFBUSxLQUFLLE9BT3pDMUIsRUFBUThCLE9BQU9DLFFBQVU5QixFQUN6QkEsRUFBZTZCLE9BQU9DLFFBQVUvQixFQUU1QkUsR0FFQXpJLEVBQUUsZ0RBQWdEb0MsS0FDOUNrSCxlQUFnQiw2QkFNNUJULEVBQWlCLFdBRVRoSSxFQUFRSSxRQUFVLEtBRWRSLEVBQUtFLEtBQUssaUNBQWlDNEosUUFBVSxJQUVyRDlCLEdBQVEsRUFDUkMsRUFBZ0JqSSxFQUFLRSxLQUFLLGlDQUFpQzRKLFFBTzNEOUosRUFBS0UsS0FBSyxpQ0FBaUM0SixRQUFVLElBRXJEOUIsR0FBUSxFQUNSQyxFQUFnQmpJLEVBQUtFLEtBQUssaUNBQWlDNEosUUFRM0U1QixNQUVBTCxFQUF5QixTQUFVOUgsR0FHbkMsR0FFSStILEdBRUFpQyxFQUpBbEgsRUFBUW5ELEtBQ1JNLEVBQU9ELEVBRVBLLEVBQVViLEVBQUVjLFFBRVoySCxHQUFRLEVBR1JFLEVBQWUsV0FDWGxJLEVBQU0sR0FBSUQsSUFBTThDLEVBQ2hCcEMsSUFFSUwsRUFBUUksU0FBVyxJQUVuQnVKLEdBQVEsR0FJUkEsR0FBUSxFQUNSNUIsTUFLUjFILEVBQWEsV0FFVEwsRUFBUU0sSUFDSkMsT0FBUSxXQUVBUCxFQUFRSSxTQUFXLElBRWZ1SixJQUVBQSxHQUFRLEVBQ1JDLEtBTUNELElBRURBLEdBQVEsRUFDUjVCLFNBV3BCNkIsRUFBVyxXQUVQbEMsRUFBUW1DLFNBQVEsR0FBTSxJQUcxQjlCLEVBQWMsV0FFVkMsSUFFQU4sRUFBVSxHQUFJTyxRQUFRckksRUFBS0UsS0FBTSxzQkFDN0JnSyxXQUFZbEssRUFBS0UsS0FBSyxzQkFDdEJvSSxjQUFlLEVBQ2Y2QixxQkFBcUIsRUFDckJDLE1BQU8sSUFDUDdCLEtBQU1QLEVBQ05xQyxTQUFVLElBQ1ZDLDhCQUE4QixFQUM5QkMsV0FBWXZLLEVBQUtFLEtBQUssdUJBQ3RCc0ssV0FBWXhLLEVBQUtFLEtBQUssdUJBQ3RCa0osYUFDSUMsTUFDSWYsY0FBZSxPQU0vQkYsRUFBaUIsV0FFVGhJLEVBQVFJLFNBQVcsS0FFZlIsRUFBS0UsS0FBSyxpQkFBaUI0SixRQUFVLElBRXJDOUIsR0FBUSxHQUlKNUgsRUFBUUksU0FBVyxNQUV2QlIsRUFBS0UsS0FBSyxpQkFBaUI0SixRQUFVLElBRXJDOUIsR0FBUSxHQU1aQSxHQUVBaEksRUFBS0UsS0FBSyxnQ0FBZ0N5QixLQUN0Q2dHLFFBQVMsU0FPekJPO0NDNVBSLFdBRUkzSSxFQUFHLFdBQ0NBLEVBQUcsVUFBV0MsS0FBTSxXQUNoQixHQUFJaUwsSUFDQTFLLElBQUtSLEVBQUdHLE1BQ1JnTCxXQUFZLEVBQ1pDLFNBQVUsT0FNdEIsSUFBSUYsR0FBaUIsU0FBVWIsR0FHM0IsR0FXSWdCLEdBQVFDLEVBWFJoSSxFQUFRbkQsS0FDUk0sRUFBTzRKLEVBQU83SixJQUNkK0ssRUFBY2xCLEVBQU9jLFlBQWMsRUFDbkNLLEVBQVluQixFQUFPZSxVQUFZLEVBQy9CSyxFQUFXcEIsRUFBT3FCLFNBQVcsRUFDN0JDLEVBQVUsaUVBQWlFQyxLQUFNQyxVQUFVQyxXQUMzRkMsRUFBUS9MLEVBQUcsK0NBQ1g0RyxFQUFRNUcsRUFBRyx1Q0FDWGEsRUFBVWIsRUFBR2MsUUFDYmtMLEVBQVFoTSxFQUFHLFFBQ1hpTSxHQUFVLEVBSVZDLEVBQVcsV0FDUCxHQUFJQyxHQUFVLEVBRWQxTCxHQUFLMkIsS0FDRGdLLFFBQVMsSUFHYjNMLEVBQUs0TCxLQUFNekYsR0FDWEEsRUFBUW5HLEVBQUtlLFNBQ2JvRixFQUFNMEYsT0FBUSw4Q0FDZDdMLEVBQUs4TCxPQUFRUixHQUNidEwsRUFBS0UsS0FBTSxVQUFXVixLQUFNLFdBQ3hCLEdBQUlzQixHQUFVdkIsRUFBR0csS0FFaUIsYUFBOUJvQixFQUFRc0IsS0FBTSxjQUNkc0osRUFBVTVLLEVBQVFvQixVQUlYLElBQVh3SixJQUNBQSxFQUFXMUwsRUFBS0UsS0FBTSxVQUFVOEksR0FBSSxHQUFJOUcsUUFFNUNvSixFQUFNcEosS0FBTXdKLElBRWhCSyxFQUFhLFdBQ1RQLEdBQVUsRUFFTFQsRUFJbUIsR0FBYkEsRUFDUEgsRUFBT29CLE1BQU0sR0FBTSxHQUFRM0ssUUFBUyxJQUFLLFdBQ3JDdUosRUFBT3FCLFdBRVMsR0FBYmxCLEdBQ1BILEVBQU9vQixNQUFNLEdBQU0sR0FBUUUsUUFBUyxJQUFLLFdBQ3JDdEIsRUFBT3FCLFdBVFhyQixFQUFPakosS0FDSGdHLFFBQVMsU0FZakJ4QixFQUFNdkYsWUFBYSwyQkFHdkJzSCxFQUFlLFdBQ1hsSSxFQUFNLEdBQUlELElBQU04QyxFQUVoQjRJLElBQ0FVLElBQ0E3RSxLQUVKQSxFQUFZLFdBQ1J0SCxFQUFLVSxHQUFJLFNBQVUsV0FDZjRLLEVBQU1wSixLQUFNM0MsRUFBR0csTUFBT1EsS0FBTSxtQkFBb0JnQyxVQUdwRDNDLEVBQUVxRSxVQUFVbEQsR0FDUixTQUNBLFNBQ0EsV0FDSW5CLEVBQUdHLE1BQU0wTSxPQUFPbEssS0FBTTNDLEVBQUdHLE1BQU9RLEtBQU0sbUJBQW9CZ0MsVUFJL0MsR0FBZjRJLEdBQXFCSSxHQUNyQi9FLEVBQU16RixJQUNGUSxNQUFTLFNBQVVtRCxHQUNmQSxFQUFFUCxrQkFFRTBILEVBQ0FPLElBRUFNLE9BTWhCZCxFQUFNN0ssSUFDRlEsTUFBUyxXQUNEc0ssR0FDQU8sUUFNaEJJLEVBQWtCLFlBRVRyQixHQUFlSSxFQUNoQm9CLElBQ3NCLEdBQWZ4QixHQUNQeUIsS0FHUkEsRUFBYyxXQUNWcEcsRUFBTWxGLFNBQVUsMkJBRXBCcUwsRUFBaUIsV0FDYm5HLEVBQU1sRixTQUFVLDJCQUVwQm9MLEVBQWEsV0FDVCxHQUFJRyxHQUFVak4sRUFBRyxVQUNia04sRUFBT2xOLEVBQUcsYUFHVm1OLEdBRll0TSxFQUFRbUUsWUFDWDRCLEVBQU0xRSxTQUNILEdBQ1prTCxFQUFXM00sRUFBS0UsS0FBTSxtQkFBb0IwTSxRQUMxQ0MsRUFBS0MsS0FBS0MsTUFBdUIsSUFBaEJELEtBQUtFLFNBRTFCUixHQUFRaE4sS0FBTSxXQUNORSxPQUFTTSxFQUFNLElBQU9OLEtBQUtLLElBQUlrTixlQUMvQnZOLEtBQUtLLElBQUltTixVQUliMUIsR0FDQVosRUFBT3FCLFNBRVhULEdBQVUsRUFFVlosRUFBU3JMLEVBQUcsaUVBQW1Fc04sRUFBSyxZQUVwRjdNLEVBQUtFLEtBQU0sVUFBV1YsS0FBTSxTQUFVMk4sR0FDbEMsR0FBSXJNLEdBQVV2QixFQUFHRyxLQUVieU4sSUFBS1IsRUFDTEYsRUFBS1osT0FBUSxzQkFBd0IvSyxFQUFRb0IsT0FBUyxTQUV0RHVLLEVBQUtaLE9BQVEsT0FBUy9LLEVBQVFvQixPQUFTLFdBSy9DMEksRUFBT2lCLE9BQVFZLEdBQ2Z0RyxFQUFNMEYsT0FBUWpCLEdBQ2R6RSxFQUFNbEYsU0FBVSwwQkFFaEIySixFQUFPakosS0FDSG5CLE1BQU8yRixFQUFNaUgsYUFDYjFMLFFBQ0E4RSxJQUFLTCxFQUFNa0gsY0FBZ0IsSUFHL0JYLEVBQVk5QixFQUFPeUMsY0FDZlgsRUFBWTlCLEVBQU8xSyxLQUFNLE1BQU84SSxHQUFJLEdBQUlxRSxjQUFnQnJDLElBQ3hESixFQUFPdEYsT0FBUXNGLEVBQU8xSyxLQUFNLE1BQU84SSxHQUFJLEdBQUlxRSxjQUFnQnJDLEdBQzNESCxFQUFVRCxFQUFPL0ssb0JBR0osR0FBYmtMLEdBQ0FILEVBQU9qSixLQUNIZ0csUUFBUyxTQUViaUQsRUFBT3RKLFVBQVcsTUFDRSxHQUFieUosSUFDUEgsRUFBT2pKLEtBQ0hnSyxRQUFTLEtBRWJmLEVBQU8wQyxTQUFXM0IsUUFBUyxHQUFLLE1BR3BDZixFQUFPMUssS0FBTSxNQUFPUSxJQUNoQlEsTUFBUyxTQUFVbUQsR0FDZixHQUFJdUksR0FBUXJOLEVBQUdHLE1BQU9rTixPQUV0QnZJLEdBQUVQLGtCQUVGOUQsRUFBS3VOLElBQUt2TixFQUFLRSxLQUFNLFVBQVc4SSxHQUFJNEQsR0FBUXhLLEtBQU0sVUFDbERwQyxFQUFLd04sUUFBUyxVQUNkekIsT0FTaEJsSixHQUFNb0ssWUFBYyxXQUNoQixNQUFPekIsSUFFWDNJLEVBQU1xSyxNQUFRLFdBQ1ZuQixLQUlKN0Q7Q0N6TlIsV0FFSTNJLEVBQUUsV0FFRUEsRUFBRSxhQUFhQyxLQUFLLFdBRWhCLEdBQUlpTyxHQUFTbE8sRUFBRUcsVUFNdkIsSUFBSStOLEdBQVUsU0FBVTFOLEdBR3BCLEdBQUlDLEdBQU9ELEVBQ1AyTixFQUFRbk8sRUFBRSxRQUFReUMsS0FBSyxVQUN2QjJMLEVBQVcsR0FBSUMsZ0JBQ2ZDLEVBQU83TixFQUFLRSxLQUFLLGdDQUNqQjROLEVBQVE5TixFQUFLRSxLQUFLLDRCQUNsQjZOLEVBQVcvTixFQUFLRSxLQUFLLDRCQUVyQjhOLEdBRFFELEVBQVM3TixLQUFLLFFBQ05GLEVBQUtFLEtBQUssOEJBQzFCK04sRUFBY2pPLEVBQUtFLEtBQUssMkJBQ3hCZ08sRUFBWWxPLEVBQUtFLEtBQUssdUJBQ3RCaU8sRUFBZ0JuTyxFQUFLRSxLQUFLLDRCQUMxQmtPLEVBQWlCLEVBQ2pCQyxFQUFTck8sRUFBS0UsS0FBSyw0QkFDbkJvTyxFQUFjdE8sRUFBS0UsS0FBSyxrQ0FDeEJxTyxFQUFnQnZPLEVBQUtFLEtBQUssc0RBRTFCc08sR0FEZXhPLEVBQUtFLEtBQUssOEJBQ0RGLEVBQUtFLEtBQUssK0JBQ2xDdU8sR0FBbUIsRUFDbkJDLEVBQVduUCxFQUFFLCtCQUNib1AsRUFBZTNPLEVBQUtFLEtBQUssa0NBQ3pCME8sRUFBbUI1TyxFQUFLRSxLQUFLLG1DQUM3QjJPLEVBQWU3TyxFQUFLRSxLQUFLLGVBQ3pCNE8sRUFBZTlPLEVBQUtFLEtBQUssaUJBQ3pCNk8sRUFBZ0IvTyxFQUFLRSxLQUFLLG1CQUFtQjhCLEtBQUssYUFDbERnTixFQUFTaFAsRUFBS0UsS0FBSyw0QkFDbkJFLEVBQVViLEVBQUVjLFFBQ1o0TyxLQUNBQyxFQUFXLEtBQ1hDLEtBTUExTyxFQUFhLFdBRVRMLEVBQVFNLElBQ0pDLE9BQVEsV0FFSmtOLEVBQUtyTyxLQUFNLFdBRVAsR0FBSXNCLEdBQVV2QixFQUFFRyxNQUNacUIsRUFBU0QsRUFBUUMsU0FDakJxTyxFQUFjdE8sRUFBUXVPLE1BRXRCdE8sR0FBT0MsU0FBUyxXQUVoQm9PLEVBQVl6TixLQUNSMk4sYUFBY0YsRUFBWWxQLEtBQUssUUFBUWlELGtCQU8vQy9DLEVBQVFJLFNBQVcsTUFFbkJqQixFQUFFLGtCQUFrQm9DLEtBQU80TixVQUFXLE1BSzlDQyxLQUFNLGVBS1YzQixFQUFLbk4sSUFDRFEsTUFBTyxXQUVILEdBQUlKLEdBQVV2QixFQUFFRyxNQUNacUIsRUFBU0QsRUFBUUMsU0FDakJxTyxFQUFjdE8sRUFBUXVPLE1BRXRCdE8sR0FBT0MsU0FBUyxXQUVoQkQsRUFBT0gsWUFBWSxVQUNuQndPLEVBQVl6TixLQUNSMk4sYUFBYyxFQUNkaEssT0FBUSxNQUtadkUsRUFBT0UsU0FBUyxVQUNoQm1PLEVBQVl6TixLQUNSMk4sYUFBY0YsRUFBWWxQLEtBQUssUUFBUWlELGdCQUUzQ2xCLFdBQVksV0FFUm1OLEVBQVl6TixLQUNSMkQsT0FBVSxVQUdmLFNBTWZ3SSxFQUFNcE4sSUFDRlEsTUFBTyxXQUVIdU8sT0FJUmxCLEVBQWM3TixJQUNWUSxNQUFPLFdBS0gsTUFIQTBOLEdBQWlCckIsSUFBSSxLQUNyQm1DLEtBRU8sS0FHZm5RLEVBQUVxRSxVQUFVbEQsR0FDUixRQUNBLGdCQUNBLFdBQ0ksR0FBSUksR0FBVXZCLEVBQUVHLE1BQ1ppUSxFQUFRQyxTQUFTOU8sRUFBUW9CLE9BbUM3QixPQWpDSXBCLEdBQVFFLFNBQVMsb0JBRXlCLEdBQXRDNE8sU0FBVWhCLEVBQWlCckIsU0FFM0JxQixFQUFpQnJCLElBQUtxQixFQUFpQnJCLE1BQVEsR0FDL0NzQyxJQUNBQyxLQUtHaFAsRUFBUUUsU0FBUyxvQkFFakJGLEVBQVFzTCxPQUFPcEwsU0FBUyxZQUUzQjROLEVBQWlCckIsSUFBS3FDLFNBQVVoQixFQUFpQnJCLE9BQVUsR0FDM0RzQyxJQUNBQyxLQU1BSCxHQUFTQyxTQUFVaEIsRUFBaUJyQixTQUVwQ3FCLEVBQWlCckIsSUFBSW9DLEdBQ3JCRSxJQUNBQyxNQU1ELElBR2Z2USxFQUFFcUUsVUFBVWxELEdBQ1IsUUFDQSw2QkFDQSxXQUNJLEdBQUlJLEdBQVV2QixFQUFFRyxNQUNacUIsRUFBU0QsRUFBUUMsU0FDakJnUCxFQUFTaFAsRUFBT2lCLEtBQUssTUFDckJnTyxFQUFXalAsRUFBT2lCLEtBQUssT0FLM0IsT0FIQTRNLEdBQWlCckIsSUFBSSxLQUNyQjBDLEVBQW9CRixFQUFRQyxJQUVyQixJQUdmaEMsRUFBY3ROLElBQ1ZRLE1BQU8sV0FJSCxNQUZBdU8sTUFFTyxLQUlmVCxFQUFPdE8sSUFDSFEsTUFBTyxXQUlILE1BRkF1TyxNQUVPLEtBSWZ4QixFQUFZL04sS0FBSyx3QkFBd0JRLElBQ3JDd1AsT0FBUSxXQUVKLEdBQUlwUCxHQUFVdkIsRUFBRUcsTUFDWnlRLEVBQVFyUCxFQUFRdU8sT0FDaEJlLEVBQVlELEVBQU1FLFFBQVFDLFdBQVdyRSxTQUFTc0UsTUFBTXJPLE9BQ3BEQyxFQUFPckIsRUFBUXNCLEtBQUssUUFDcEJ5SyxFQUFLL0wsRUFBUWtCLEtBQUssTUFDbEJ3TyxFQUFlMVAsRUFBUUssUUFBUSwyQkFBMkJqQixLQUFLLFFBQVEsR0FBR3VRLFNBRTlFaEMsR0FBbUIzTixFQUFRNFAsS0FBSyxXQUU1QnRRLEVBQVFJLFNBQVcsT0FFbkJxUCxJQUNBSixLQUlKa0IsRUFBZ0J4TyxFQUFNMEssRUFBSTRCLEdBQzFCRyxFQUFpQnJCLElBQUksS0FDckJxRCxFQUFtQlIsRUFBV3ZELEVBQUkxSyxFQUFNcU8sR0FDeENWLE9BSVJqQixFQUFhbk8sSUFDVHdQLE9BQVEsV0FFSnRCLEVBQWlCckIsSUFBSSxLQUNyQnNDLElBQ0FDLE9BSVJoQixFQUFhcE8sSUFDVHdQLE9BQVEsV0FFSnRCLEVBQWlCckIsSUFBSSxLQUNyQnNDLElBQ0FDLE9BSVJ0QixFQUFzQjlOLElBQ25CbVEsT0FBUSxXQVdKLE1BVEl6USxHQUFRSSxTQUFXLE1BRW5CcVAsSUFJSmpCLEVBQWlCckIsSUFBSSxLQUNyQnVDLEtBRU8sTUFNbEJjLEVBQW9CLFNBQVVFLEVBQVVDLEVBQVFDLEVBQVVSLEdBRWxEL0IsRUFFQU4sRUFBY3RDLE9BQU8saUJBQWtCbUYsRUFBVSxhQUFjRCxFQUFRLEtBQU1QLEVBQWMsS0FBTU0sRUFBVSw0REFJM0czQyxFQUFjak8sS0FBSyxlQUFpQjZRLEVBQVMsTUFBTTlFLFNBR3ZEbUMsRUFBaUJELEVBQWNqTyxLQUFLLE1BQU00SixPQUV0Q3NFLEVBQWlCLEdBRWpCRixFQUFVdE4sWUFBWSxVQUN0QnlOLEVBQU9uTyxLQUFLLFFBQVErUSxLQUFLLElBQUs3QyxFQUFnQixLQUM5Q0UsRUFBWXBPLEtBQUssUUFBUStRLEtBQUssSUFBSzdDLEVBQWdCLEtBQ25EQyxFQUFPcE4sU0FBUyxZQUNoQnNOLEVBQWMzTixZQUFZLFlBSTFCc04sRUFBVWpOLFNBQVMsVUFDbkJvTixFQUFPbk8sS0FBSyxRQUFRK1EsS0FBSyxJQUN6QjNDLEVBQVlwTyxLQUFLLFFBQVErUSxLQUFLLElBQzlCNUMsRUFBT3pOLFlBQVksWUFDbkIyTixFQUFjdE4sU0FBUyxZQUsvQjRPLEVBQWMsV0FFVm5CLEVBQVduUCxFQUFFLCtCQUViQSxFQUFFLHNCQUFzQnNNLE9BQU82QyxJQUduQ3dDLEVBQWdCLFdBRVJoQyxJQUVBbk4sYUFBYW1OLEdBQ2JBLEVBQVcsTUFJZkEsRUFBV2pOLFdBQVksV0FDbkIxQyxFQUFFLFlBQVkwQixTQUFTLFdBQ3hCLEtBRUhpTyxFQUFXak4sV0FBWSxXQUNuQjFDLEVBQUUsWUFBWTBNLFVBQ2YsTUFHUHlELEVBQWUsV0FFWHhCLEVBQVVqTixTQUFTLFVBQ25Cb04sRUFBT25PLEtBQUssUUFBUStRLEtBQUssSUFDekIzQyxFQUFZcE8sS0FBSyxRQUFRK1EsS0FBSyxJQUM5QjVDLEVBQU96TixZQUFZLFlBQ25CdU4sRUFBY2pPLEtBQUssTUFBTStMLFNBQ3pCZ0MsRUFBWS9OLEtBQUssd0JBQXdCd1EsS0FBSyxXQUFXLEdBQ3pEL0IsRUFBYXBCLElBQUksSUFFakJzQyxJQUNBQyxLQUdKRyxFQUFxQixTQUFVYyxFQUFRQyxHQUVuQy9DLEVBQVkvTixLQUFLLGtCQUFtQjZRLEVBQVEsTUFBTUwsS0FBSyxXQUFXLEdBQ2xFakMsR0FBbUIsRUFDbkJtQyxFQUFtQixHQUFJRyxFQUFRLEdBQUksSUFDbkNsQixJQUNBYyxFQUFnQkssRUFBVUQsRUFBUXRDLEdBQ2xDcUIsS0FJSkwsRUFBZSxXQUVQM0IsRUFBTTlNLFNBQVMsV0FFZjhNLEVBQU1sTixZQUFZLFVBQ2xCbU4sRUFBU25OLFlBQVksVUFDckJyQixFQUFFLGtCQUFrQm9DLEtBQU80TixVQUFXLE9BSXRDekIsRUFBTTdNLFNBQVMsVUFDZjhNLEVBQVM5TSxTQUFTLFVBRWJiLEVBQVFJLFFBQVUsTUFFbkJqQixFQUFFLGtCQUFrQm9DLEtBQU80TixVQUFXLFFBTWxENEIsRUFBb0IsU0FBVW5QLEdBRTFCLEdBQUlvUCxHQUFReEIsU0FBUzVOLEVBQUtxUCxTQUFTQyxVQUMvQkMsRUFBYTNCLFNBQVM1TixFQUFLcVAsU0FBU0csWUFJeEMsSUFGQTVDLEVBQWlCckIsSUFBSWdFLEdBRVIsR0FBVEgsR0FBd0IsR0FBVEEsRUFBYSxDQUU1QixHQUFJSyxHQUFpQiwwQkFJckIsSUFGQUEsR0FBaUIsNENBRWJMLEdBQVMsRUFFVCxJQUFLLEdBQUlqRSxHQUFJLEVBQUdBLEdBQUtpRSxFQUFPakUsSUFHcEJzRSxHQURBdEUsR0FBS29FLEVBQ1ksOEJBQStCcEUsRUFBRyxPQUVsQyxlQUFnQkEsRUFBRyxXQU0zQyxDQUVELEdBQUlvRSxHQUFjLEdBQUtBLEVBQWFILEVBQU0sRUFBSSxDQUUxQyxJQUFLLEdBQUlqRSxHQUFJLEVBQUdBLEdBQUssRUFBR0EsSUFHaEJzRSxHQURBdEUsR0FBS29FLEVBQ1ksOEJBQStCcEUsRUFBRyxPQUVsQyxlQUFnQkEsRUFBRyxNQUs1Q3NFLElBQWlCLGtCQUVqQixLQUFLLEdBQUl0RSxHQUFJaUUsRUFBTSxFQUFHakUsR0FBS2lFLEVBQU9qRSxJQUcxQnNFLEdBREF0RSxHQUFLb0UsRUFDWSw4QkFBK0JwRSxFQUFHLE9BRWxDLGVBQWdCQSxFQUFHLE9BTWhELEdBQUlvRSxFQUFhLEdBQUtBLEdBQWNILEVBQU0sRUFBSSxDQUsxQyxHQUhBSyxHQUFpQixvQkFDakJBLEdBQWlCLG1CQUVaRixFQUFXLEVBQUksR0FBT0EsRUFBVyxHQUFLSCxFQUFNLEVBRTdDLElBQUssR0FBSWpFLEdBQUlvRSxFQUFXLEVBQUdwRSxHQUFLb0UsRUFBVyxFQUFHcEUsSUFHdENzRSxHQURBdEUsR0FBS29FLEVBQ1ksOEJBQStCcEUsRUFBRyxPQUVsQyxlQUFnQkEsRUFBRyxXQUt6QyxJQUFJb0UsRUFBVyxHQUFLLEVBRXZCLElBQUssR0FBSXBFLEdBQUlvRSxFQUFZcEUsR0FBS29FLEVBQVcsRUFBR3BFLElBR3BDc0UsR0FEQXRFLEdBQUtvRSxFQUNZLDhCQUErQnBFLEVBQUcsT0FFbEMsZUFBZ0JBLEVBQUcsV0FLekMsSUFBSW9FLEVBQVcsR0FBS0gsRUFBTSxFQUU3QixJQUFLLEdBQUlqRSxHQUFJb0UsRUFBVyxFQUFHcEUsR0FBS29FLEVBQVlwRSxJQUdwQ3NFLEdBREF0RSxHQUFLb0UsRUFDWSw4QkFBK0JwRSxFQUFHLE9BRWxDLGVBQWdCQSxFQUFHLE1BT2hEc0UsSUFBaUIsbUJBQ2pCQSxHQUFpQixlQUFnQkwsRUFBTyxPQUc1QyxHQUFhLEdBQVRBLEdBRUlHLEVBQWEsR0FBS0EsR0FBY0gsRUFBTSxFQUFJLENBQzFDSyxHQUFpQixvQkFDakJBLEdBQWlCLGtCQUVqQixLQUFLLEdBQUl0RSxHQUFJLEVBQUdBLEdBQUssRUFBR0EsSUFHaEJzRSxHQURBdEUsR0FBS29FLEVBQ1ksOEJBQStCcEUsRUFBRyxPQUVsQyxlQUFnQkEsRUFBRyxNQUs1Q3NFLElBQWlCLG1CQUNqQkEsR0FBaUIsZUFBZ0JMLEVBQU8sUUFRcERLLEdBQWlCLDRDQUNqQkEsR0FBa0IsU0FFbEJsUyxFQUFFLG9CQUFvQjBSLEtBQUtRLE9BSXZCbFMsR0FBRSxlQUFldUssUUFFakJ2SyxFQUFFLGVBQWUwTSxVQU83QnlGLEVBQW9CLFNBQVUxUCxHQUUxQixHQUFJMlAsR0FBVTNQLEVBQUs0UCxTQUNmQyxFQUFlLHFDQUNmQyxJQUVKLElBQTBCQyxRQUF0QjlDLEVBQWlCLE1BRWpCLElBQUssR0FBSTlCLEdBQUksRUFBR0EsR0FBSzhCLEVBQWlCLE1BQUVuRixPQUFPLEVBQUdxRCxJQUFNLENBRXBELEdBQUk2RSxHQUFZQyxXQUFXaEQsRUFBaUIsTUFBRTlCLEdBQUcrRSxRQUFRLElBQUksSUFBSUEsUUFBUSxJQUFJLElBRTdFSixHQUFpQkssS0FBS0gsR0FNOUIsR0FBSUYsRUFBaUJoSSxPQUNqQixHQUFJc0ksR0FBYXRGLEtBQUt1RixJQUFJQyxNQUFNLEtBQU1SLEVBRzFDdlMsR0FBRUMsS0FBTW1TLEVBQVMsV0FFYixHQUFJWSxHQUFVN1MsS0FDVjZDLEVBQVFnUSxFQUFRaFEsTUFBTSxHQUN0QmlRLEVBQVlELEVBQVE5UCxTQUFTLEVBRWpDLElBQUlxUCxFQUFpQmhJLE9BRWpCLElBQUssR0FBSXFELEdBQUksRUFBR0EsR0FBS29GLEVBQVFoUSxNQUFNdUgsT0FBTyxFQUFHcUQsSUFBTSxDQUUvQyxHQUFJNkUsR0FBWUMsV0FBV00sRUFBUWhRLE1BQU00SyxHQUFHK0UsUUFBUSxJQUFJLElBQUlBLFFBQVEsSUFBSSxJQUV4RSxJQUFJRixHQUFhSSxFQUFhLENBRTFCN1AsRUFBUWdRLEVBQVFoUSxNQUFNNEssR0FDdEJxRixFQUFZRCxFQUFROVAsU0FBUzBLLEVBRTdCLFFBdUJaLEdBZkEwRSxHQUFnQiwyQ0FFUUUsUUFBcEJRLEVBQVFFLFVBQTZDLElBQXBCRixFQUFRRSxXQUV6Q1osR0FBZ0IsZ0NBQWlDVSxFQUFRRSxTQUFVLFdBSXZFWixHQUFnQixxSkFFd0JVLEVBQVFHLFdBQVksb0VBQXFFSCxFQUFRSSxRQUFTLDhNQUdsRUosRUFBUUcsV0FBWSxLQUFNSCxFQUFRSyxNQUFPLFlBRXJHYixRQUFoQlEsRUFBUU0sS0FBb0IsQ0FFNUJoQixHQUFnQixvQkFFaEIsS0FBSyxHQUFJMUUsR0FBSSxFQUFHQSxHQUFLb0YsRUFBUU0sS0FBS0MsV0FBVyxFQUFHM0YsSUFDNUMwRSxHQUFlLGFBQWM5QyxFQUFlLG9EQUdoRDhDLElBQWUsWUFBYVUsRUFBUU0sS0FBS0UsV0FBWSwyQkFBNEJSLEVBQVFNLEtBQUtHLGFBQWMsNkRBV2hILEdBTkFuQixHQUFlLDBJQU1vQkUsUUFBL0JRLEVBQVFVLFFBQVFDLGFBQTJELElBQS9CWCxFQUFRVSxRQUFRQyxZQUFvQixDQUVoRnJCLEdBQWUsNkZBR2YsS0FBSyxHQUFJMUUsR0FBSSxFQUFHQSxHQUFLb0YsRUFBUVUsUUFBUUMsWUFBWXBKLE9BQU8sRUFBR3FELElBQ3ZEMEUsR0FBZSxPQUFRVSxFQUFRVSxRQUFRQyxZQUFZL0YsR0FBSSxPQUczRDBFLElBQWUsa0RBUW5CLEdBSEFBLEdBQWUsNkZBR3NCRSxRQUFqQ1EsRUFBUVUsUUFBUUUsZUFBK0QsSUFBakNaLEVBQVFVLFFBQVFFLGNBQXNCLENBRXBGdEIsR0FBZSwwTEFJZixLQUFLLEdBQUkxRSxHQUFJLEVBQUdBLEdBQUtvRixFQUFRVSxRQUFRRSxjQUFjQyxLQUFLdEosT0FBTyxFQUFHcUQsSUFDOUQwRSxHQUFlLHFCQUF1QixJQUFJVSxFQUFRVSxRQUFRRSxjQUFjQyxLQUFLdEosT0FBUyxNQUFPeUksRUFBUVUsUUFBUUUsY0FBY0MsS0FBS2pHLEdBQUksUUFFeEkwRSxJQUFlLHlIQUdmLEtBQUssR0FBSTFFLEdBQUksRUFBR0EsR0FBS29GLEVBQVFVLFFBQVFFLGNBQWNGLFFBQVFuSixPQUFPLEVBQUdxRCxJQUNqRTBFLEdBQWUscUJBQXVCLElBQUlVLEVBQVFVLFFBQVFFLGNBQWNDLEtBQUt0SixPQUFTLE1BQU95SSxFQUFRVSxRQUFRRSxjQUFjRixRQUFROUYsR0FBSSxRQUUzSTBFLElBQWUseUhBUWZBLEdBRmFFLFFBQWJTLEdBQXVDLElBQWJBLEVBRVgsdU1BRXlCQSxFQUFXLFVBQVdqUSxFQUFPLDZEQUt0RCxrTUFFb0JBLEVBQU8sNkRBSzlDc1AsR0FBZSxZQUFhVSxFQUFRRyxXQUFZLGtSQVdwRGIsR0FBZ0IsU0FFaEJ0UyxFQUFFLG1CQUFtQjBSLEtBQUtZLEdBRTFCWCxLQUdKcEIsRUFBa0IsV0FFZG5DLEVBQVMwRixRQUNUMUYsRUFBV3BPLEVBQUUrVCxNQUNUQyxJQUFLN0YsRUFDTDFMLE1BQ0l3UixPQUFTLHdCQUNUN0QsTUFBT2hCLEVBQWFwQixNQUNwQmtHLFlBQWE1RSxFQUFhdEIsTUFDMUJtRyxZQUFhNUUsRUFBYXZCLE1BQzFCaUUsWUFBYTVDLEVBQWlCckIsTUFDOUJvRyxXQUFZM1QsRUFBS2dDLEtBQUssZUFDdEI0UixxQkFBc0JwRixFQUFzQnFGLGFBRWhEQyxTQUFVLE9BQ1ZDLEtBQU0sTUFDTkMsUUFBUyxTQUFXQyxHQUVoQnJPLFFBQVFDLElBQUkySSxFQUFzQnFGLGFBRWxDbkMsRUFBbUJ1QyxHQUNuQjlDLEVBQW1COEMsSUFHdkJDLE1BQU8sU0FBVXRHLEdBQ3FCLFNBQTdCQSxFQUFldUcsWUFDaEJ2TyxRQUFRQyxJQUFJLGFBTTVCOEssRUFBaUIsU0FBU3hPLEVBQU13TixFQUFPeUUsR0FFbkMsR0FBSUEsRUFFQSxHQUFHbkYsRUFBVW9GLGVBQWVsUyxHQUV4QixJQUFLLEdBQUl1TyxLQUFRekIsR0FFVHlCLEdBQVF2TyxHQUVSOE0sRUFBVXlCLEdBQU15QixLQUFLeEMsT0FVN0JWLEdBQVU5TSxJQUFTd04sT0FJcEIsQ0FFSCxJQUFLLEdBQUllLEtBQVF6QixHQUViLEdBQUl5QixHQUFRdk8sRUFBTyxDQUVmLEdBQUlnTCxHQUFJOEIsRUFBVXlCLEdBQU00RCxRQUFRM0UsRUFFN0J4QyxRQUVDOEIsRUFBVXlCLEdBQU02RCxPQUFPcEgsRUFBRyxHQVFSLEdBQTFCOEIsRUFBVTlNLEdBQU0ySCxjQUVUbUYsR0FBVTlNLEdBT3pCLEdBQUlxUyxHQUFZLEdBQ1pDLEVBQVksR0FDWkMsRUFBVSxHQUNWQyxJQUVKLEtBQUssR0FBSUMsS0FBTzNGLEdBQVksQ0FFeEJFLElBRUEsSUFBSTBGLEdBQU81RixFQUFXMkYsRUFFdEJ6RixHQUFLZ0QsS0FBTTBDLEVBRVgsS0FBSyxHQUFJMUgsR0FBSSxFQUFHQSxHQUFLZ0MsRUFBS3JGLE9BQU8sRUFBR3FELElBRWhDc0gsRUFBWXRGLEVBQUsyRixLQUFLLElBSTFCSixHQUFVRSxFQUFNLElBQU1ILEVBRXRCRSxFQUFPeEMsS0FBS3VDLEdBRVpGLEVBQVlHLEVBQU9HLEtBQUssS0FJNUJuRyxFQUFhcEIsSUFBS2lILElBSXRCOVIsRUFBUSxXQUNKakMsSUFFSVQsRUFBS2dCLFNBQVMsa0JBRWQ2TyxJQUNBQyxLQVVacE47Q0M1eEJSLFdBRUluRCxFQUFFLFdBRUVBLEVBQUUsV0FBV0MsS0FBSyxXQUVkLEdBQUl1VixHQUFReFYsRUFBRUcsVUFNdEIsSUFBSXFWLEdBQVMsU0FBVWhWLEdBR25CLEdBQUlDLEdBQU9ELEVBQ1BpVixFQUFTaFYsRUFBS0UsS0FBSyxzQkFDbkJ5TixFQUFXLEdBQUlDLGdCQUNmRixFQUFRMU4sRUFBS2dDLEtBQUssUUFDbEJpVCxFQUFrQixFQUNsQkMsRUFBYSxFQUNiQyxFQUFhSCxFQUFPekgsTUFDcEI2SCxFQUFVcFYsRUFBS0UsS0FBSyxtQkFJcEJPLEVBQWEsV0FFVHVVLEVBQU90VSxJQUNIMlUsTUFBTyxTQUFTQyxHQUVaLEdBQUkvVixFQUFFYyxRQUFRRyxTQUFXLEtBRXJCLE9BQU84VSxFQUFFQyxTQUNMLElBQUssSUFFaUUsR0FBOURILEVBQVFsVixLQUFLLHFCQUFxQndILE9BQU8sV0FBV29DLFFBQ3BEOUosRUFBS0UsS0FBSyxRQUFRMlEsUUFHdEIsTUFDSixLQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDRCxLQUNKLFNBRUksR0FBSXNFLEdBQWE1VixFQUFFRyxNQUFNNk4sS0FHckI0SCxHQUFXckwsUUFBVTlKLEVBQUtnQyxLQUFLLFdBRS9Cd1QsRUFBY2pXLEVBQUVHLE1BQU95VixFQUFXckwsUUFLYixJQUFqQnZLLEVBQUVHLE1BQU02TixRQUNSNkgsRUFBUXhVLFlBQVksV0FDcEJxVSxFQUFrQixLQVMxQzdQLFFBQVMsU0FBU2tRLEdBRWQsR0FBSS9WLEVBQUVjLFFBQVFHLFNBQVcsS0FFckIsT0FBUThVLEVBQUVDLFNBQ04sSUFBSyxJQU9ELE1BTGtFLElBQTlESCxFQUFRbFYsS0FBSyxxQkFBcUJ3SCxPQUFPLFdBQVdvQyxPQUNwRHpKLE9BQU9vVixTQUFTblQsS0FBT3RDLEVBQUtnQyxLQUFLLFVBRWpDM0IsT0FBT29WLFNBQVNuVCxLQUFPOFMsRUFBUWxWLEtBQUsscUJBQXFCd0gsT0FBTyxXQUFXeEgsS0FBSyxLQUFLa0MsS0FBSyxTQUV2RixDQUdYLEtBQUssSUFHRCxNQUZBZ1QsR0FBUW5KLFNBQ1JnSixFQUFrQixHQUNYLENBR1gsS0FBSyxJQUNMLElBQUssSUFDREssRUFBRUksaUJBRUVSLEVBQWEsSUFDYlMsRUFBY0wsRUFBRUMsU0FFWk4sR0FBbUJDLElBQ25CRCxFQUFrQixRQWE5QzFWLEVBQUUsUUFBUTJCLE1BQU8sV0FFYmtVLEVBQVF4VSxZQUFZLFdBRXBCcVUsRUFBa0IsSUFHdEIxVixFQUFFcUUsVUFBVWxELEdBQ1IsUUFDQSxPQUNBLFNBQVVtRCxHQUNOQSxFQUFRQSxHQUFTeEQsT0FBT3dELE1BRXBCQSxFQUFNQyxnQkFDTkQsRUFBTUMsa0JBRU5ELEVBQU1FLGNBQWUsSUFJakN4RSxFQUFFcUUsVUFBVWxELEdBQ1IsUUFDQSxvQkFDQSxXQUNJLEdBQUlJLEdBQVV2QixFQUFFRyxNQUNaZ00sRUFBVTVLLEVBQVFaLEtBQUssS0FBS2dDLE1BRWhDOFMsR0FBT3pILElBQUk3QixHQUNYMEosRUFBUXhVLFlBQVksV0FDcEJxVSxFQUFrQixJQUcxQjFWLEVBQUVxRSxVQUFVbEQsR0FDUixVQUNBLG9CQUNBLFNBQVM0VSxHQUNMLE9BQU9BLEVBQUVDLFNBQ0wsSUFBSyxJQUVEaFcsRUFBRUcsTUFBTThOLFFBQVEsYUFPcENtSSxFQUFlLFNBQVNDLEdBRXBCUixFQUFRbFYsS0FBSyxxQkFBcUJVLFlBQVksVUFFMUNaLEVBQUttQixVQUFVSCxTQUFTLGlCQUVmLElBQUw0VSxHQUFXWCxFQUFrQkMsRUFFN0JELElBRWEsSUFBTFcsR0FBV1gsRUFBa0IsR0FFckNBLElBR0FBLEVBQWtCLEdBRWxCRyxFQUFRbFYsS0FBSyxxQkFBcUI4SSxPQUFVaU0sRUFBa0IsSUFBS2hVLFNBQVMsVUFDNUUrVCxFQUFPekgsSUFBSzZILEVBQVFsVixLQUFLLHFCQUFxQjhJLE9BQVVpTSxFQUFrQixJQUFLL1UsS0FBSyxLQUFLZ0MsU0FJekY4UyxFQUFPekgsSUFBSzRILEtBTVAsSUFBTFMsR0FBV1gsRUFBa0JDLEVBRTdCRCxJQUVhLElBQUxXLEdBQVdYLEVBQWtCLEdBRXJDQSxJQUdBQSxFQUFrQixHQUVsQkcsRUFBUWxWLEtBQUsscUJBQXFCOEksR0FBSWlNLEVBQWtCLEdBQUloVSxTQUFTLFVBQ3JFK1QsRUFBT3pILElBQUs2SCxFQUFRbFYsS0FBSyxxQkFBcUI4SSxHQUFJaU0sRUFBa0IsR0FBSS9VLEtBQUssS0FBS2dDLFNBSWxGOFMsRUFBT3pILElBQUs0SCxLQVF4QlUsRUFBVyxTQUFVN1QsR0FFakIsR0FBSUEsR0FBT0EsRUFDUDhULEVBQWE5VCxFQUFLOFQsV0FDbEJDLEVBQThDLEdBQXJCRCxFQUFXaE0sT0FDcEM4SCxFQUFXNVAsRUFBSzRQLFNBQ2hCb0UsS0FDQUMsS0FFQUMsR0FBTyxFQUVQckUsRUFBZSxrQ0FFbkJ0UyxHQUFFQyxLQUFNb1MsRUFBVSxXQUVkLEdBQUlXLEdBQVU3UyxJQUVkbVMsSUFBZ0IsaU9BRzZCVSxFQUFRbFEsSUFBSyxtQ0FBb0NrUSxFQUFRNEQsSUFBSyxrSkFFckM1RCxFQUFROVAsU0FBVSxVQUFXOFAsRUFBUWhRLE1BQU8sK0ZBQzlDZ1EsRUFBUXBRLEtBQU0saUVBQzFDb1EsRUFBUWpRLEtBQU0sdUlBR2pEeVQsR0FFREMsRUFBeUI3RCxNQUFPSSxFQUFRdUQsV0FBV00sYUFBYzdELEVBQVF1RCxXQUFXTyxnQkFBaUI5RCxFQUFRdUQsV0FBV1EsY0FBZS9ELEVBQVF1RCxXQUFXUyxxQkFNbEsxRSxHQUFnQixTQUVoQnVELEVBQVFsVixLQUFLLE9BQU84SSxHQUFHLEdBQUc5SSxLQUFLLGlCQUFpQitRLEtBQUtZLEVBRXJELElBQUkyRSxHQUFZLDRCQUVoQixJQUFJVCxFQUVBeFcsRUFBRUMsS0FBTXNXLEVBQVksV0FFaEIsR0FBSVEsR0FBZ0I1VyxLQUFLNFcsY0FDckJDLEVBQW1CN1csS0FBSzZXLGlCQUN4QkUsRUFBb0IsRUFFeEIsSUFBcUIxRSxRQUFqQnVFLEVBQTZCLENBRTdCLElBQUssR0FBSW5KLEdBQUksRUFBR0EsR0FBS21KLEVBQWN4TSxPQUFPLEVBQUdxRCxJQUV6Q3NKLEdBQXFCLDBDQUEyQ0YsRUFBaUJwSixHQUFJLEtBQU9tSixFQUFjbkosR0FBSyxXQUduSHNKLElBQXFCLEdBSXpCRCxHQUFhLGdCQUFpQjlXLEtBQUtnWCxZQUFhLEtBQU1oWCxLQUFLeUMsS0FBTSxZQUFhc1UsUUFJL0UsQ0FFSCxJQUFNLEdBQUl0SixHQUFJLEVBQUdBLEdBQUs2SSxFQUF5QmxNLE9BQU8sRUFBR3FELElBT3JELEdBTEkrSSxJQUNBRCxFQUFzQjlELEtBQUs2RCxFQUF5QjdJLElBQ3BEK0ksR0FBTyxHQUdQRCxFQUFzQkEsRUFBc0JuTSxPQUFPLEdBQUcsSUFBTWtNLEVBQXlCN0ksR0FBRyxHQUV4RjhJLEVBQXNCOUQsS0FBSzZELEVBQXlCN0ksUUFJcEQsS0FBTSxHQUFJd0osR0FBSSxFQUFHQSxHQUFLWCxFQUF5QjdJLEdBQUdyRCxPQUFPLEVBQUc2TSxJQUV4RCxJQUFNLEdBQUlDLEdBQUksRUFBR0EsR0FBS1osRUFBeUI3SSxHQUFHLEdBQUdyRCxPQUFPLEVBQUc4TSxJQUV2RFgsRUFBc0JBLEVBQXNCbk0sT0FBTyxHQUFHLEdBQUd3SyxRQUFTMEIsRUFBeUI3SSxHQUFHLEdBQUd5SixTQUVqR1gsRUFBc0JBLEVBQXNCbk0sT0FBTyxHQUFHLEdBQUdxSSxLQUFNNkQsRUFBeUI3SSxHQUFHLEdBQUd5SixHQWNsSCxLQUFNLEdBRkZDLEdBQVEsRUFFRjFKLEVBQUksRUFBR0EsR0FBSzhJLEVBQXNCbk0sT0FBTyxFQUFHcUQsSUFBTSxDQUV4RCxJQUFNLEdBQUl3SixHQUFJLEVBQUdBLEdBQUtWLEVBQXNCOUksR0FBR3JELE9BQU8sRUFBRzZNLElBQU0sQ0FJM0QsSUFBSyxHQUZERixHQUFvQixHQUVmRyxFQUFJLEVBQUdBLEdBQUtYLEVBQXNCOUksR0FBRyxHQUFHckQsT0FBTyxFQUFHOE0sSUFFdkRILEdBQXFCLDBDQUE0Q1IsRUFBc0I5SSxHQUFHLEdBQUd5SixHQUFLLEtBQU9YLEVBQXNCOUksR0FBRyxHQUFHeUosR0FBSyxZQUMxSUMsR0FJSkosSUFBcUIsR0FJekJELEdBQWEsZ0JBQWtCUCxFQUFzQjlJLEdBQUcsR0FBSyxLQUFPOEksRUFBc0I5SSxHQUFHLEdBQUssWUFBYXNKLEdBTXZIRCxHQUFhLFFBRWJwQixFQUFRbFYsS0FBSyxhQUFhK1EsS0FBS3VGLEdBRS9CcEIsRUFBUWxWLEtBQUssa0JBQWtCQSxLQUFLLG1CQUFtQitMLFNBRXZEaUosRUFBYUUsRUFBUWxWLEtBQUssa0JBQWtCQSxLQUFLLE1BQU00SixPQUV2RHNMLEVBQVFuVSxTQUFTLFlBR3JCdVUsRUFBZ0IsU0FBVXNCLEVBQU9sQixHQXlCN0IsTUF2QkFqSSxHQUFTMEYsUUFDVDFGLEVBQVdwTyxFQUFFK1QsTUFDVEMsSUFBSzdGLEVBQ0wxTCxNQUNJMk4sTUFBT21ILEVBQU12SixNQUNiaUcsT0FBTyxlQUVYTSxTQUFVLE9BQ1ZDLEtBQU0sTUFDTkMsUUFBUyxTQUFXK0MsR0FFZSxHQUEzQkMsT0FBT0MsS0FBS0YsR0FBS2pOLFFBQ2pCK0wsRUFBVWtCLElBSWxCN0MsTUFBTyxTQUFVdEcsR0FDb0IsU0FBN0JBLEVBQWV1RyxZQUNmdk8sUUFBUUMsSUFBSSxhQUtqQixHQUVYbkQsRUFBUSxXQUNKakMsSUFPUmlDIiwiZmlsZSI6ImNhdGVnb3J5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiggZnVuY3Rpb24oKXtcblxuXG4gICAgdmFyIGdsb2JhbFNjcm9sbEZsYWcgPSB0cnVlO1xuXG4gICAgJChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJCgnLnNpdGVfX21lbnUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFN1Yk1lbnUoICQodGhpcykgKTtcbiAgICAgICAgICAgIG5ldyBNZW51KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQoJy5ub3QtZm91bmQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEZ1bGxIZWlnaHQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJCgnLmNvbmZpcm1hdGlvbicpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRnVsbEhlaWdodCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkKCcjd3BzbC1zdG9yZXMnKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgJCh0aGlzKS5wZXJmZWN0U2Nyb2xsYmFyKHtcbiAgICAgICAgICAgICAgICB3aGVlbFByb3BhZ2F0aW9uOiB0cnVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9ICk7XG5cblxuXG4gICAgfSApO1xuXG4gICAgdmFyIFN1Yk1lbnUgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaXRlbXMgPSBfb2JqLmZpbmQoJy5zaXRlX19tZW51LWl0ZW0nKSxcbiAgICAgICAgICAgIF9hcnJvdyA9IF9vYmouZmluZCgnLnNpdGVfX21lbnUtaWNvbicpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsLFxuICAgICAgICAgICAgX3N0YXJ0V2luV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc3RhcnRXaW5XaWR0aCA+IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGFydFdpbldpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dpbmRvdy5maW5kKCcub3BlbmVkJykucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5zaXRlX19tZW51LWljb24nLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggalF1ZXJ5KHdpbmRvdykud2lkdGgoKSA8IDEwMDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0galF1ZXJ5KHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50KCdsaScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcmVudC5oYXNDbGFzcygnb3BlbmVkJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFkZENsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfYXJyb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBqUXVlcnkodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnRzKCdsaScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUgPSBwYXJlbnQuZmluZCgnLnNpdGVfX21lbnUtc3ViJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcGFyZW50Lmhhc0NsYXNzKCdvcGVuZWQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNZW51LnNsaWRlVXAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFkZENsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudS5zbGlkZURvd24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9pdGVtcy5vbigge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJJdGVtLnBhcmVudCgndWwnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmhhc0NsYXNzKCdzaXRlX19tZW51LWl0ZW1fc3ViJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Yk1lbnUgPSBjdXJJdGVtLmZpbmQoJy5zaXRlX19tZW51LXN1YicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAoIF93aW5kb3cud2lkdGgoKSAtICggc3ViTWVudS5pbm5lcldpZHRoKCkgKyBjdXJJdGVtLm9mZnNldCgpLmxlZnQgKSApIDwgMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICggKCBjdXJJdGVtLm9mZnNldCgpLmxlZnQgKyBjdXJJdGVtLmlubmVyV2lkdGgoKSApIC0gc3ViTWVudS5pbm5lcldpZHRoKCkgKSA8IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNZW51LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoLTUwJSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoLTUwJSknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogY3VySXRlbS5wb3NpdGlvbigpLmxlZnQgLSBzdWJNZW51LmlubmVyV2lkdGgoKSArIGN1ckl0ZW0uaW5uZXJXaWR0aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogY3VySXRlbS5wb3NpdGlvbigpLmxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICQoJ1tkYXRhLXByb2R1Y3RdJykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VlbnRlcjogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5mZWF0dXJlZC1wcm9kdWN0X19sb2FkaW5nJykuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gY3VySXRlbS5kYXRhKCdwcm9kdWN0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmKCAkKCcuZmVhdHVyZWQtcHJvZHVjdF9fbG9hZGluZycpLmhhc0NsYXNzKCd2aXNpYmxlJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3RpdGxlJykudGV4dChkYXRhLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdCcpLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X19waWMgaW1nJykuYXR0cignc3JjJywgZGF0YS5zcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdCcpLmZpbmQoJy5idG4nKS5hdHRyKCdocmVmJywgZGF0YS5ocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcHJpY2Ugc3BhbicpLnRleHQoZGF0YS5wcmljZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhLm9uU2FsZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0JykuZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RfX3JlbWFyaycpLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3QnKS5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdF9fcmVtYXJrJykucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRhdGEub2xkUHJpY2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdCcpLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X19wcmljZSBkZWwnKS50ZXh0KGRhdGEub2xkUHJpY2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuZmVhdHVyZWQtcHJvZHVjdCcpLmZpbmQoJy5mZWF0dXJlZC1wcm9kdWN0X19wcmljZSBkZWwnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTYwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZmVhdHVyZWQtcHJvZHVjdF9fbG9hZGluZycpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcub3BlbmVkJykucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJ3VsJykub24oICdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLm9wZW5lZCcpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5maW5kKCdsaScpLm9uKCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuICAgIHZhciBNZW51ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfbWVudSA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfYWN0aW9uID0gZmFsc2UsXG4gICAgICAgICAgICBfYWN0aW9uU2Nyb2xsID0gZmFsc2UsXG4gICAgICAgICAgICBfbGFzdFBvcyxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfaGlkZGVuQmxvY2tNZW51ID0gJCgnLnNpdGVfX2hpZGRlbi1pdGVtcycpLFxuICAgICAgICAgICAgX2hlYWRlckhlaWdodCA9IF9oZWFkZXIuaW5uZXJIZWlnaHQoKSxcbiAgICAgICAgICAgIF9zaG93QnRuID0gJCgnLnNpdGVfX2hlYWRlci1idG4nKSxcbiAgICAgICAgICAgIF9jbG9zZUJ0biA9ICQoJy5zaXRlX19oaWRkZW4tY2xvc2UnKSxcbiAgICAgICAgICAgIF9zZWFyY2ggPSAkKCcuc2VhcmNoJyksXG4gICAgICAgICAgICBfb3BlblNlYXJjaCA9ICQoJy5zZWFyY2gtYnRuJyksXG4gICAgICAgICAgICBfY2xvc2VTZWFyY2ggPSAkKCcuc2VhcmNoX19jYW5jZWwnKSxcbiAgICAgICAgICAgIF9nZXRGcmVlID0gJCgnLnNpdGVfX2hpZGRlbi1idG4nKSxcbiAgICAgICAgICAgIF9zaXRlID0gJCgnLnNpdGUnKSxcbiAgICAgICAgICAgIF9kb20gPSAkKCAnaHRtbCcgKSxcbiAgICAgICAgICAgIHNpdGVTY3JvbGxUb3AsXG4gICAgICAgICAgICBfY29udGVudCA9ICQoJy5zaXRlX19jb250ZW50JyksXG4gICAgICAgICAgICBfbGFzdFNjcm9sbFRvcCA9IDA7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBcIi5zZWFyY2hcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGV2ZW50ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYm9keVwiLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VTZWFyY2hCb3goKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIF9zaG93QnRuLm9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCQodGhpcykpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY2xvc2VCdG4ub24oe1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX29wZW5TZWFyY2gub24oe1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3BlblNlYXJjaEJveCgkKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY2xvc2VTZWFyY2gub24oe1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VTZWFyY2hCb3goKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCBlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2ZpeGVkSGVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uID0gX3dpbmRvdy5zY3JvbGxUb3AoKSA+PSBfaGVhZGVySGVpZ2h0O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5yZW1vdmVDbGFzcygnc2l0ZV9faGVhZGVyX2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIERPTU1vdXNlU2Nyb2xsOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gKGRlbHRhID4gMCkgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoZGlyZWN0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vdXNld2hlZWw6IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gKGRlbHRhID4gMCkgPyAtMSA6IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoZGlyZWN0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvdWNobW92ZTogZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3MgPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBvcyA+IF9sYXN0UG9zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoLTEpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBvcyA8IF9sYXN0UG9zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xhc3RQb3MgPSBjdXJyZW50UG9zO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGtleWRvd246IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUud2hpY2gpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNiA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCk+PTEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2l0ZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9zaXRlLmhlaWdodCgpID4gX3dpbmRvdy5oZWlnaHQoKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA+IDAgJiYgIV9oZWFkZXIuaGFzQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKSAmJiAhX3Nob3dCdG4uaGFzQ2xhc3MoJ29wZW5lZCcpICYmIF9hY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5hZGRDbGFzcygnc2l0ZV9faGVhZGVyX2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA8IDAgJiYgX2hlYWRlci5oYXNDbGFzcygnc2l0ZV9faGVhZGVyX2hpZGRlbicpICYmICFfc2hvd0J0bi5oYXNDbGFzcygnb3BlbmVkJykgJiYgX2FjdGlvbiAmJiBnbG9iYWxTY3JvbGxGbGFnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5yZW1vdmVDbGFzcygnc2l0ZV9faGVhZGVyX2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2ZpeGVkSGVhZGVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKF93aW5kb3cuc2Nyb2xsVG9wKCkgPiBfaGVhZGVySGVpZ2h0ICsgMTUwICApIHtcblxuICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmFkZENsYXNzKCdmaXhlZCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXIucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbiAoZWxlbSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBlbGVtO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1ckl0ZW0uaGFzQ2xhc3MoJ29wZW5lZCcpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIF9oaWRkZW5CbG9ja01lbnUucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlbkJsb2NrTWVudS5hZGRDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzaXRlU2Nyb2xsVG9wID0gX3dpbmRvdy5zY3JvbGxUb3AoKTtcblxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF9zaXRlLmhlaWdodCgpID4gX3dpbmRvdy5oZWlnaHQoKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnc2Nyb2xsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaXRlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCAxMCk7XG5cbiAgICAgICAgICAgICAgICB9LCAzMDApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5TZWFyY2hCb3ggPSBmdW5jdGlvbiAoZWxlbSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBlbGVtO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1ckl0ZW0uaGFzQ2xhc3MoJ29wZW5lZCcpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIF9zZWFyY2gucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICBfZ2V0RnJlZS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICBfc2VhcmNoLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgX2dldEZyZWUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9zaG93QnRuLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICBfaGlkZGVuQmxvY2tNZW51LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICBfc2VhcmNoLmZpbmQoJ2lucHV0JykuZm9jdXNvdXQoKTtcblxuXG4gICAgICAgICAgICAgICAgX3NpdGUuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfc2l0ZS5oZWlnaHQoKSA+IF93aW5kb3cuaGVpZ2h0KCkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF93aW5kb3cuc2Nyb2xsVG9wKCBzaXRlU2Nyb2xsVG9wICk7XG5cbiAgICAgICAgICAgICAgICB9LCAxMCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VTZWFyY2hCb3ggPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfb3BlblNlYXJjaC5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgX3NlYXJjaC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgX2dldEZyZWUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX21lbnVbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9maXhlZEhlYWRlcigpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG4gICAgdmFyIEZ1bGxIZWlnaHQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2dsb2JhbFdpbldpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF9nbG9iYWxXaW5XaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2luV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygzNClcblxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG1pbkhlaWdodDogJydcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBfd2luZG93LmhlaWdodCgpIC0gJCgnLnNpdGVfX2hlYWRlcicpLmlubmVySGVpZ2h0KCkgLSAkKCcuc2l0ZV9fZm9vdGVyJykuaW5uZXJIZWlnaHQoKSAtICQoJy5icmVhZGNydW1icycpLmlubmVySGVpZ2h0KClcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24oKXtcblxuICAgICAgICAkKCAnLnBvcHVwJyApLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgbmV3IFBvcHVwKCQodGhpcykpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICB2YXIgUG9wdXAgPSBmdW5jdGlvbiggb2JqICl7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9wb3B1cFBhZGRpbmcgPSA0MCxcbiAgICAgICAgICAgIF9idG5TaG93ID0gICQoICcucG9wdXBfX29wZW4nICksXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2J0bkNsb3NlID0gX29iai5maW5kKCAnLnBvcHVwX19jbG9zZSwgLnBvcHVwX19jYW5jZWwnICksXG4gICAgICAgICAgICBfd3JhcCA9IF9vYmouZmluZCggJy5wb3B1cF9fd3JhcCcgKSxcbiAgICAgICAgICAgIF9jb250ZW50cyA9IF9vYmouZmluZCggJy5wb3B1cF9fY29udGVudCcgKSxcbiAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIgPSAkKCAnaHRtbCcgKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7fSwgMSApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY2VudGVyV3JhcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApIC0gX3dyYXAuaGVpZ2h0KCkgPiAwICkge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAoICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSApIC0gX3dyYXAuaGVpZ2h0KCkgKSAvIDIgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6IDAgfSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZ2V0U2Nyb2xsV2lkdGggPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicpLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aDtcblxuICAgICAgICAgICAgICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAncG9wdXBfX3Njcm9sbGJhci1tZWFzdXJlJztcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHNjcm9sbERpdiApO1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsQmFyV2lkdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hpZGUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfaGlkZScgKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0blNob3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2hvdyggJCggdGhpcyApLmF0dHIoICdkYXRhLXBvcHVwJyApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmZpbmQoJz5kaXYnKS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bkNsb3NlLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvdyA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50KCBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogX2dldFNjcm9sbFdpZHRoKClcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ29udGVudCA9IF9jb250ZW50cy5maWx0ZXIoICcucG9wdXBfXycgKyBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZW50cy5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcbiAgICAgICAgICAgICAgICBjdXJDb250ZW50LmNzcyggeyBkaXNwbGF5OiAnYmxvY2snIH0gKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcbn0gKSgpO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkLmVhY2goICQoICcucHJvZHVjdF9fc2xpZGVyJyApLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgbmV3IFByb2R1Y3RTbGlkZXIgKCAkKCB0aGlzICkgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLmZlYXR1cmVkLXByb2R1Y3RzJyApLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgbmV3IEZlYXR1cmVkUHJvZHVjdHNTbGlkZXIgKCAkKCB0aGlzICkgKTtcblxuICAgICAgICB9ICk7XG4gICAgfSk7XG5cbiAgICB2YXIgUHJvZHVjdFNsaWRlciA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfc2xpZGVyLFxuICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMsXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2xvb3AgPSBmYWxzZSxcbiAgICAgICAgICAgIF9zbGlkZXNMZW5ndGggPSAwO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFNsaWRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9hZGRTb21lUGFyYW1zKCk7XG5cbiAgICAgICAgICAgICAgICBfc2xpZGVyID0gbmV3IFN3aXBlciggX29iai5maW5kKCcuZ2FsbGVyeS10b3AnKSAsIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJzEnLFxuICAgICAgICAgICAgICAgICAgICBsb29wOiBfbG9vcCxcbiAgICAgICAgICAgICAgICAgICAgbG9vcGVkU2xpZGVzOiBfc2xpZGVzTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VFbmQ6IGZ1bmN0aW9uKHN3aXBlcil7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFfbG9vcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKF9nYWxsZXJ5VGh1bWJzLnNsaWRlcykucmVtb3ZlQ2xhc3MoJ2lzLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChfZ2FsbGVyeVRodW1icy5zbGlkZXMpLmVxKGFjdGl2ZUluZGV4KS5hZGRDbGFzcygnaXMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2FsbGVyeVRodW1icy5zbGlkZVRvKGFjdGl2ZUluZGV4LDUwMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zd2lwZXItc2xpZGUgLnByb2R1Y3RfX3NsaWRlci10aHVtYnMnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZSAucHJvZHVjdF9fc2xpZGVyLXRodW1icycpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWNvbG9yXCI6IFwicmdiYSgyNDQsIDEyMSwgMzIsIDAuNSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzID0gbmV3IFN3aXBlciggX29iai5maW5kKCcuZ2FsbGVyeS10aHVtYnMnKSwge1xuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6ICc0JyxcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hSYXRpbzogMC4yLFxuICAgICAgICAgICAgICAgICAgICAvL2ZyZWVNb2RlOiAhX2xvb3AsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IF9sb29wLFxuICAgICAgICAgICAgICAgICAgICBsb29wZWRTbGlkZXM6IF9zbGlkZXNMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAxNDQwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogJzMnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24oc3dpcGVyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFfbG9vcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc3dpcGVyLnNsaWRlcykuZXEoc3dpcGVyLmFjdGl2ZUluZGV4KS5hZGRDbGFzcygnaXMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKHN3aXBlciwgZXZlbnQpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighX2xvb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tlZCA9IHN3aXBlci5jbGlja2VkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVyLmFjdGl2ZUluZGV4ID0gY2xpY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2lwZXIudXBkYXRlQ2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc3dpcGVyLnNsaWRlcykucmVtb3ZlQ2xhc3MoJ2lzLXNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzd2lwZXIuY2xpY2tlZFNsaWRlKS5hZGRDbGFzcygnaXMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2xpZGVyLnNsaWRlVG8oY2xpY2tlZCw1MDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF9zbGlkZXIucGFyYW1zLmNvbnRyb2wgPSBfZ2FsbGVyeVRodW1icztcbiAgICAgICAgICAgICAgICBfZ2FsbGVyeVRodW1icy5wYXJhbXMuY29udHJvbCA9IF9zbGlkZXI7XG5cbiAgICAgICAgICAgICAgICBpZiAoX2xvb3ApIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc3dpcGVyLXNsaWRlLWFjdGl2ZSAucHJvZHVjdF9fc2xpZGVyLXRodW1icycpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBcInJnYmEoMjQ0LCAxMjEsIDMyLCAwLjUpXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkU29tZVBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDE0NDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLmdhbGxlcnktdGh1bWJzIC5zd2lwZXItc2xpZGUnKS5sZW5ndGggPj0gMyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NsaWRlc0xlbmd0aCA9IF9vYmouZmluZCgnLmdhbGxlcnktdGh1bWJzIC5zd2lwZXItc2xpZGUnKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmZpbmQoJy5nYWxsZXJ5LXRodW1icyAuc3dpcGVyLXNsaWRlJykubGVuZ3RoID49IDQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zbGlkZXNMZW5ndGggPSBfb2JqLmZpbmQoJy5nYWxsZXJ5LXRodW1icyAuc3dpcGVyLXNsaWRlJykubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcbiAgICB9O1xuICAgIHZhciBGZWF0dXJlZFByb2R1Y3RzU2xpZGVyID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9zbGlkZXIsXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2ZsYWcsXG4gICAgICAgICAgICBfbG9vcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8PSA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2ZsYWcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2ZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaW5pdFNsaWRlcigpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPD0gNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9mbGFnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIV9mbGFnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luaXRTbGlkZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3NsaWRlci5kZXN0cm95KHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfYWRkU29tZVBhcmFtcygpO1xuXG4gICAgICAgICAgICAgICAgX3NsaWRlciA9IG5ldyBTd2lwZXIoIF9vYmouZmluZCggJy5zd2lwZXItY29udGFpbmVyJyApLCB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IF9vYmouZmluZCgnLnN3aXBlci1wYWdpbmF0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDUsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIGxvb3A6IF9sb29wLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogNTAwMCxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG5leHRCdXR0b246IF9vYmouZmluZCgnLnN3aXBlci1idXR0b24tbmV4dCcpLFxuICAgICAgICAgICAgICAgICAgICBwcmV2QnV0dG9uOiBfb2JqLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIDE0NDA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkU29tZVBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmZpbmQoJy5zd2lwZXItc2xpZGUnKS5sZW5ndGggPj0gNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3AgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxNDI1ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmZpbmQoJy5zd2lwZXItc2xpZGUnKS5sZW5ndGggPj0gNSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3AgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCFfbG9vcCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLmZlYXR1cmVkLXByb2R1Y3RzX19jb250cm9scycpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcbiAgICB9O1xuXG59ICkoKTtcbiIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG4gICAgICAgICQoICdzZWxlY3QnICkuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIG5ldyBXZWJzdGVyc1NlbGVjdCgge1xuICAgICAgICAgICAgICAgIG9iajogJCggdGhpcyApLFxuICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IDEsXG4gICAgICAgICAgICAgICAgc2hvd1R5cGU6IDJcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICB9ICk7XG4gICAgfSApO1xuXG4gICAgdmFyIFdlYnN0ZXJzU2VsZWN0ID0gZnVuY3Rpb24oIHBhcmFtcyApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gcGFyYW1zLm9iaixcbiAgICAgICAgICAgIF9vcHRpb25UeXBlID0gcGFyYW1zLm9wdGlvblR5cGUgfHwgMCxcbiAgICAgICAgICAgIF9zaG93VHlwZSA9IHBhcmFtcy5zaG93VHlwZSB8fCAwLFxuICAgICAgICAgICAgX3Zpc2libGUgPSBwYXJhbXMudmlzaWJsZSB8fCA1LFxuICAgICAgICAgICAgX2RldmljZSA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApLFxuICAgICAgICAgICAgX3RleHQgPSAkKCAnPHNwYW4gY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX2l0ZW1cIj48L3NwYW4+JyApLFxuICAgICAgICAgICAgX3dyYXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdFwiPjwvZGl2PicgKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXG4gICAgICAgICAgICBfb3BlbmVkID0gZmFsc2UsXG4gICAgICAgICAgICBfcG9wdXAsIF9zY3JvbGw7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyVGV4dCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmoud3JhcCggX3dyYXAgKTtcbiAgICAgICAgICAgICAgICBfd3JhcCA9IF9vYmoucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYXBwZW5kKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fYXJyb3dcIj48L2Rpdj4nICk7XG4gICAgICAgICAgICAgICAgX29iai5iZWZvcmUoIF90ZXh0ICk7XG4gICAgICAgICAgICAgICAgX29iai5maW5kKCAnb3B0aW9uJyApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoICdzZWxlY3RlZCcgKSA9PSAnc2VsZWN0ZWQnICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gY3VySXRlbS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggY3VyVGV4dCA9PSAnJyApe1xuICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gIF9vYmouZmluZCggJ29wdGlvbicpLmVxKCAwICkudGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCBjdXJUZXh0ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hpZGVQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYoICFfc2hvd1R5cGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAxICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLnNsaWRlVXAoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDIgKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLmZhZGVPdXQoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF93cmFwLnJlbW92ZUNsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X29wZW5lZCcgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICAgICAgX2FkZFdyYXAoKTtcbiAgICAgICAgICAgICAgICBfc2VsZWN0Vmlld1R5cGUoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmoub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RleHQudGV4dCggJCggdGhpcyApLmZpbmQoICdvcHRpb246c2VsZWN0ZWQnICkudGV4dCgpICk7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwic2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCggdGhpcykucHJldigpLnRleHQoICQoIHRoaXMgKS5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLnRleHQoKSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfb3B0aW9uVHlwZSA9PSAxICYmICFfZGV2aWNlICl7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9ib2R5Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZWxlY3RWaWV3VHlwZSA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBpZiggIV9vcHRpb25UeXBlIHx8IF9kZXZpY2UgKXtcbiAgICAgICAgICAgICAgICAgICAgX3NldE1vYmlsZVZpZXcoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9vcHRpb25UeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3NldEN1c3RvbTEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEN1c3RvbTEgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X2N1c3RvbScgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0TW9iaWxlVmlldyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3RfbW9iaWxlJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93UG9wdXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RzID0gJCggJ3NlbGVjdCcgKSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdCA9ICQoICc8dWw+PC91bD4nKSxcbiAgICAgICAgICAgICAgICAgICAgY3VyU2Nyb2xsID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gX3dyYXAub2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGN1ckluZGV4ID0gX29iai5maW5kKCAnb3B0aW9uOnNlbGVjdGVkJyApLmluZGV4KCksXG4gICAgICAgICAgICAgICAgICAgIGlkID0gTWF0aC5yb3VuZCggTWF0aC5yYW5kb20oKSAqIDEwMDAgKTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdHMuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMgIT09IF9vYmpbIDAgXSAmJiB0aGlzLm9iai5jaGVja09wZW5lZCgpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9iai5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfb3BlbmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIF9wb3B1cCA9ICQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0X19wb3B1cFwiIGlkPVwid2Vic3RlcnMtc2VsZWN0X19wb3B1cCcgKyBpZCArICdcIj48L2Rpdj4nICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoICdvcHRpb24nICkuZWFjaCggZnVuY3Rpb24oIGkgKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKCB0aGlzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gY3VySW5kZXggKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKCAnPGxpIGNsYXNzPVwiYWN0aXZlXCI+JyArIGN1ckl0ZW0udGV4dCgpICsgJzwvbGk+JyApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoICc8bGk+JyArIGN1ckl0ZW0udGV4dCgpICsgJzwvbGk+JyApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAuYXBwZW5kKCBsaXN0ICk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYXBwZW5kKCBfcG9wdXAgKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9vcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBfd3JhcC5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IC0yLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IF93cmFwLm91dGVySGVpZ2h0KCkgLSA0XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gX3BvcHVwLm91dGVySGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaWYoIG1heEhlaWdodCA+IF9wb3B1cC5maW5kKCAnbGknICkuZXEoIDAgKS5vdXRlckhlaWdodCgpICogX3Zpc2libGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmhlaWdodCggX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApO1xuICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsID0gX3BvcHVwLnBlcmZlY3RTY3JvbGxiYXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggX3Nob3dUeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnNsaWRlRG93biggMzAwICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4xXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmFuaW1hdGUoIHsgb3BhY2l0eTogMSB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9wb3B1cC5maW5kKCAnbGknICkub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICQoIHRoaXMgKS5pbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnZhbCggX29iai5maW5kKCAnb3B0aW9uJyApLmVxKCBpbmRleCApLmF0dHIoICd2YWx1ZScgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai50cmlnZ2VyKCAnY2hhbmdlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG4gICAgICAgIF9zZWxmLmNoZWNrT3BlbmVkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBfb3BlbmVkO1xuICAgICAgICB9O1xuICAgICAgICBfc2VsZi5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcblxuICAgIH07XG5cbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQoJy5jYXRlZ29yeScpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRmlsdGVycyggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBGaWx0ZXJzID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3BhdGggPSAkKCdib2R5JykuZGF0YSgnYWN0aW9uJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICAgICAgX2J0biA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJzLWl0ZW0gc3BhbicpLFxuICAgICAgICAgICAgX2J0bjIgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy10aXRsZScpLFxuICAgICAgICAgICAgX2ZpbHRlcnMgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy1pdGVtcycpLFxuICAgICAgICAgICAgX2Zvcm0gPSBfZmlsdGVycy5maW5kKCdmb3JtJyksXG4gICAgICAgICAgICBfY2xvc2VGaWx0ZXJzID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcmVkLWNsb3NlJyksXG4gICAgICAgICAgICBfZmlsdGVySXRlbSA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJzLWxpc3QnKSxcbiAgICAgICAgICAgIF9maWx0ZXJlZCA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZCcpLFxuICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdCA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZC1saXN0JyksXG4gICAgICAgICAgICBfY291bnRGaWx0ZXJlZCA9IDAsXG4gICAgICAgICAgICBfdGl0bGUgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy10aXRsZScpLFxuICAgICAgICAgICAgX3RpdGxlSW5uZXIgPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fZmlsdGVycy10aXRsZS1pbm5lcicpLFxuICAgICAgICAgICAgX2NsZWFyRmlsdGVycyA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZCAuYnRuLCAuY2F0ZWdvcnlfX2ZpbHRlcnMtY2xlYXInKSxcbiAgICAgICAgICAgIF9jbGVhclNpbmdsZSA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maWx0ZXJlZC1yZW1vdmUnKSxcbiAgICAgICAgICAgIF9hZGRpdGlvbmFsUGFyYW1ldGVycyA9IF9vYmouZmluZCgnLmNhdGVnb3J5X19maW5kLXBhcmFtZXRlcnMnKSxcbiAgICAgICAgICAgIF9nbG9iYWxDaGVja0ZsYWcgPSBmYWxzZSxcbiAgICAgICAgICAgIF9sb2FkaW5nID0gJCgnPGRpdiBjbGFzcz1cImxvYWRpbmdcIj48L2Rpdj4nKSxcbiAgICAgICAgICAgIF9pbnB1dEhpZGRlbiA9IF9vYmouZmluZCgnaW5wdXRbdHlwZT1oaWRkZW5dLnZhbHVlLWNoZWNrJyksXG4gICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlID0gX29iai5maW5kKCdpbnB1dFt0eXBlPWhpZGRlbl0uY3VycmVudC1wYWdlJyksXG4gICAgICAgICAgICBfc29ydGluZ1BhZ2UgPSBfb2JqLmZpbmQoJyNpdGVtcy1wYWdlJyksXG4gICAgICAgICAgICBfc29ydGluZ0RhdGUgPSBfb2JqLmZpbmQoJyNzb3J0aW5nLWRhdGUnKSxcbiAgICAgICAgICAgIF9kYXRhUmF0ZVBhdGggPSBfb2JqLmZpbmQoJy5jYXRlZ29yeV9fd3JhcCcpLmRhdGEoJ3JhdGUtcGF0aCcpLFxuICAgICAgICAgICAgX2FwcGx5ID0gX29iai5maW5kKCcuY2F0ZWdvcnlfX2ZpbHRlcnMtYXBwbHknKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfb2JqVmFsdWUgPSB7fSxcbiAgICAgICAgICAgIF90aW1lb3V0ID0gbnVsbCxcbiAgICAgICAgICAgIF9hcnIgPSBbXSxcbiAgICAgICAgICAgIF9jaGVja05hbWUgPSAnJyxcbiAgICAgICAgICAgIF9jaGVja1ByaWNlID0gJyc7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2J0bi5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZpbHRlcnMgPSBjdXJJdGVtLm5leHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwYXJlbnQuaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBuZXh0RmlsdGVycy5maW5kKCc+ZGl2JykuaW5uZXJIZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2NvbnRlbnQnKS5jc3MoIHsgJ3otaW5kZXgnOiAnJyB9IClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJJdGVtLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzID0gY3VySXRlbS5uZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwYXJlbnQuaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0RmlsdGVycy5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6IG5leHRGaWx0ZXJzLmZpbmQoJz5kaXYnKS5pbm5lckhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRGaWx0ZXJzLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMTAgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuMi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VGaWx0ZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9jbGVhckZpbHRlcnMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuUGFnZS52YWwoJzEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbGVhckZpbHRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCIucGFnaW5hdGlvbiBhXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQoY3VySXRlbS50ZXh0KCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5oYXNDbGFzcygncGFnaW5hdGlvbl9fcHJldicpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBhcnNlSW50KCBfaW5wdXRIaWRkZW5QYWdlLnZhbCgpICkgIT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCggX2lucHV0SGlkZGVuUGFnZS52YWwoKSAtIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjdXJJdGVtLmhhc0NsYXNzKCdwYWdpbmF0aW9uX19uZXh0JykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggISggY3VySXRlbS5wcmV2KCkuaGFzQ2xhc3MoJ2FjdGl2ZScpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuUGFnZS52YWwoIHBhcnNlSW50KCBfaW5wdXRIaWRkZW5QYWdlLnZhbCgpICkgKyAxICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHZhbHVlICE9IHBhcnNlSW50KCBfaW5wdXRIaWRkZW5QYWdlLnZhbCgpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0SGlkZGVuUGFnZS52YWwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLmNhdGVnb3J5X19maWx0ZXJlZC1yZW1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VySXRlbS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSWQgPSBwYXJlbnQuZGF0YSgnaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhTmFtZSA9IHBhcmVudC5kYXRhKCduYW1lJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dEhpZGRlblBhZ2UudmFsKCcxJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xlYXJTaW5nbGVGaWx0ZXIoIGRhdGFJZCwgZGF0YU5hbWUgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBfY2xvc2VGaWx0ZXJzLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUZpbHRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYXBwbHkub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlRmlsdGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9maWx0ZXJJdGVtLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGN1ckl0ZW0ubmV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IGxhYmVsLmNsb25lKCkuY2hpbGRyZW4oKS5yZW1vdmUoKS5lbmQoKS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGN1ckl0ZW0uYXR0cignbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gY3VySXRlbS5kYXRhKCdpZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5TmFtZSA9IGN1ckl0ZW0ucGFyZW50cygnLmNhdGVnb3J5X19maWx0ZXJzLWl0ZW0nKS5maW5kKCdzcGFuJylbMF0uaW5uZXJUZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsQ2hlY2tGbGFnID0gY3VySXRlbS5wcm9wKCdjaGVja2VkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlRmlsdGVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5IaWRkZW4oIG5hbWUsIGlkLCBfZ2xvYmFsQ2hlY2tGbGFnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCgnMScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZGluZ0ZpbHRlcmVkQnkoIGxhYmVsVGV4dCwgaWQsIG5hbWUsIGNhdGVnb3J5TmFtZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc29ydGluZ1BhZ2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dEhpZGRlblBhZ2UudmFsKCcxJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc29ydGluZ0RhdGUub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dEhpZGRlblBhZ2UudmFsKCcxJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYWRkaXRpb25hbFBhcmFtZXRlcnMub24oe1xuICAgICAgICAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkTG9hZGluZygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbCgnMScpO1xuICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkaW5nRmlsdGVyZWRCeSA9IGZ1bmN0aW9uKCBpdGVtVGV4dCwgaXRlbUlkLCBpdGVtTmFtZSwgY2F0ZWdvcnlOYW1lICkge1xuXG4gICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxDaGVja0ZsYWcgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdC5hcHBlbmQoJzxsaSBkYXRhLW5hbWU9JysgaXRlbU5hbWUgKycgZGF0YS1pZD1cIicrIGl0ZW1JZCArJ1wiPicrIGNhdGVnb3J5TmFtZSArJzogJysgaXRlbVRleHQgKycgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhdGVnb3J5X19maWx0ZXJlZC1yZW1vdmVcIj48L2E+PC9saT4nKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdC5maW5kKCdsaVtkYXRhLWlkPVwiJyArIGl0ZW1JZCArICdcIl0nKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfY291bnRGaWx0ZXJlZCA9IF9maWx0ZXJlZExpc3QuZmluZCgnbGknKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiggX2NvdW50RmlsdGVyZWQgPiAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJlZC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIF90aXRsZS5maW5kKCdzcGFuJykuaHRtbCgnKCcrIF9jb3VudEZpbHRlcmVkICsnKScpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGVJbm5lci5maW5kKCdzcGFuJykuaHRtbCgnKCcrIF9jb3VudEZpbHRlcmVkICsnKScpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGUuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIF9jbGVhckZpbHRlcnMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfZmlsdGVyZWQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGUuZmluZCgnc3BhbicpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgICAgICBfdGl0bGVJbm5lci5maW5kKCdzcGFuJykuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIF90aXRsZS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgX2NsZWFyRmlsdGVycy5hZGRDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkTG9hZGluZyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2xvYWRpbmcgPSAkKCc8ZGl2IGNsYXNzPVwibG9hZGluZ1wiPjwvZGl2PicpO1xuXG4gICAgICAgICAgICAgICAgJCgnLmNhdGVnb3J5X19jb250ZW50JykuYXBwZW5kKF9sb2FkaW5nKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZUxvYWRpbmcgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmIChfdGltZW91dCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIF90aW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aW1lb3V0ID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkaW5nJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxvYWRpbmcnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9LCA2MjAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbGVhckZpbHRlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2ZpbHRlcmVkLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICBfdGl0bGUuZmluZCgnc3BhbicpLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgIF90aXRsZUlubmVyLmZpbmQoJ3NwYW4nKS5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICBfdGl0bGUucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgX2ZpbHRlcmVkTGlzdC5maW5kKCdsaScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIF9maWx0ZXJJdGVtLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW4udmFsKCcnKTtcblxuICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3RDb250ZW50KCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xlYXJTaW5nbGVGaWx0ZXIgPSBmdW5jdGlvbiggaXRlbUlkLCBpdGVtTmFtZSApIHtcblxuICAgICAgICAgICAgICAgIF9maWx0ZXJJdGVtLmZpbmQoJ2lucHV0W2RhdGEtaWQ9XCInKyBpdGVtSWQgKydcIl0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF9nbG9iYWxDaGVja0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfYWRkaW5nRmlsdGVyZWRCeSggJycsIGl0ZW1JZCwgJycsICcnICk7XG4gICAgICAgICAgICAgICAgX2FkZExvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICBfd3JpdGVJbkhpZGRlbiggaXRlbU5hbWUsIGl0ZW1JZCwgX2dsb2JhbENoZWNrRmxhZyApO1xuICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VGaWx0ZXIgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfYnRuMi5oYXNDbGFzcygnb3BlbmVkJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2J0bjIucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICBfZmlsdGVycy5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19jb250ZW50JykuY3NzKCB7ICd6LWluZGV4JzogJycgfSApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfYnRuMi5hZGRDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIF9maWx0ZXJzLmFkZENsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19jb250ZW50JykuY3NzKCB7ICd6LWluZGV4JzogMTAwIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NyZWF0ZVBhZ2luYXRpb24gPSBmdW5jdGlvbiggZGF0YSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBwYWdlcyA9IHBhcnNlSW50KGRhdGEuc2V0dGluZ3MucGFnZXNBbGwpLFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVQYWdlID0gcGFyc2VJbnQoZGF0YS5zZXR0aW5ncy5jdXJyZW50UGFnZSk7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW5QYWdlLnZhbChhY3RpdmVQYWdlKTtcblxuICAgICAgICAgICAgICAgIGlmKCBwYWdlcyAhPSAxICYmICBwYWdlcyAhPSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uV3JhcCA9ICc8ZGl2IGNsYXNzPVwicGFnaW5hdGlvblwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cInBhZ2luYXRpb25fX3ByZXZcIj48L2E+JztcblxuICAgICAgICAgICAgICAgICAgICBpZiggcGFnZXMgPD0gNyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDE7IGkgPD0gcGFnZXM7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGFjdGl2ZVBhZ2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGFjdGl2ZVBhZ2UgPD0gMyB8fCBhY3RpdmVQYWdlID4gcGFnZXMtMyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAxOyBpIDw9IDM7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBhY3RpdmVQYWdlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGl2ZVwiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8c3Bhbj4uLi48L3NwYW4+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSBwYWdlcy0yOyBpIDw9IHBhZ2VzOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gYWN0aXZlUGFnZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggYWN0aXZlUGFnZSA+IDMgJiYgYWN0aXZlUGFnZSA8PSBwYWdlcy0zICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4xPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPHNwYW4+Li4uPC9zcGFuPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggKGFjdGl2ZVBhZ2UtMSA+IDMpICYmIChhY3RpdmVQYWdlKzEgPD0gcGFnZXMtMykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IGFjdGl2ZVBhZ2UtMTsgaSA8PSBhY3RpdmVQYWdlKzE7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGkgPT0gYWN0aXZlUGFnZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYWN0aXZlXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIGFjdGl2ZVBhZ2UtMSA8PSAzICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSBhY3RpdmVQYWdlOyBpIDw9IGFjdGl2ZVBhZ2UrMjsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBhY3RpdmVQYWdlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJhY3RpdmVcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+JysgaSArJzwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggYWN0aXZlUGFnZSsxID49IHBhZ2VzLTMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IGFjdGl2ZVBhZ2UtMjsgaSA8PSBhY3RpdmVQYWdlOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGFjdGl2ZVBhZ2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGl2ZVwiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPHNwYW4+Li4uPC9zcGFuPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBwYWdlcyArJzwvYT4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggcGFnZXMgPT0gOCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBhY3RpdmVQYWdlID4gMyAmJiBhY3RpdmVQYWdlIDw9IHBhZ2VzLTMgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxhIGhyZWY9XCIjXCI+MTwvYT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8c3Bhbj4uLi48L3NwYW4+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gNDsgaSA8PSA1OyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGFjdGl2ZVBhZ2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cImFjdGl2ZVwiPicrIGkgKyc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIj4nKyBpICsnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25XcmFwICs9JzxzcGFuPi4uLjwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uV3JhcCArPSc8YSBocmVmPVwiI1wiPicrIHBhZ2VzICsnPC9hPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0nPGEgaHJlZj1cIiNcIiBjbGFzcz1cInBhZ2luYXRpb25fX25leHRcIj48L2E+JztcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbldyYXAgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLnBhZ2luYXRpb24td3JhcCcpLmh0bWwocGFnaW5hdGlvbldyYXApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggJCgnLnBhZ2luYXRpb24nKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wYWdpbmF0aW9uJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Bhc3RlTmV3UHJvZHVjdHMgPSBmdW5jdGlvbiggZGF0YSApIHtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0gZGF0YS5wcm9kdWN0cyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwID0gJzxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeVwiPicsXG4gICAgICAgICAgICAgICAgICAgIG5ld0FyclByaWNlUmFuZ2UgPSBbXTtcblxuICAgICAgICAgICAgICAgIGlmKCBfb2JqVmFsdWVbJ3ByaWNlJ10gIT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IF9vYmpWYWx1ZVsncHJpY2UnXS5sZW5ndGgtMTsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VJdGVtID0gcGFyc2VGbG9hdChfb2JqVmFsdWVbJ3ByaWNlJ11baV0ucmVwbGFjZSgnJCcsJycpLnJlcGxhY2UoJywnLCcnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FyclByaWNlUmFuZ2UucHVzaChwcmljZUl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBuZXdBcnJQcmljZVJhbmdlLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlUmFuZ2UgPSBNYXRoLm1pbi5hcHBseShudWxsLCBuZXdBcnJQcmljZVJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkLmVhY2goIG5ld0RhdGEsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gcHJvZHVjdC5wcmljZVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbGVQcmljZSA9IHByb2R1Y3Qub2xkUHJpY2VbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIG5ld0FyclByaWNlUmFuZ2UubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBwcm9kdWN0LnByaWNlLmxlbmd0aC0xOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VJdGVtID0gcGFyc2VGbG9hdChwcm9kdWN0LnByaWNlW2ldLnJlcGxhY2UoJyQnLCcnKS5yZXBsYWNlKCcsJywnJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHByaWNlSXRlbSA+PSBwcmljZVJhbmdlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gcHJvZHVjdC5wcmljZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsZVByaWNlID0gcHJvZHVjdC5vbGRQcmljZVtpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9faXRlbVwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHByb2R1Y3QuZmVhdHVyZWQgIT0gdW5kZWZpbmVkICYmIHByb2R1Y3QuZmVhdHVyZWQgIT0gXCJcIiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9ICc8c3BhbiBjbGFzcz1cInNpdGVfX2ZlYXR1cmVkXCI+JysgcHJvZHVjdC5mZWF0dXJlZCArJzwvc3Bhbj4nO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9faGVhZFwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCInKyBwcm9kdWN0LnVybERldGFpbHMgKydcIiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19waWNcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnKyBwcm9kdWN0LnBpY3R1cmUgKycpXCI+PC9hPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X190aXRsZVwiPjxhIGhyZWY9XCInKyBwcm9kdWN0LnVybERldGFpbHMgKydcIj4nKyBwcm9kdWN0LnRpdGxlICsnPC9hPjwvaDI+JztcblxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvZHVjdC5yYXRlICE9IHVuZGVmaW5lZCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9ICc8ZGl2IGNsYXNzPVwicmF0ZVwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHByb2R1Y3QucmF0ZS5zdGFyc0NvdW50LTE7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGltZyBzcmM9XCInKyBfZGF0YVJhdGVQYXRoICsnaW1nL3N0YXIucG5nXCIgd2lkdGg9XCI2MFwiIGhlaWdodD1cIjUwXCIgYWx0PVwiXCI+Jm5ic3A7J1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGEgaHJlZj1cIicrIHByb2R1Y3QucmF0ZS51cmxSZXZpZXdzICsnXCIgY2xhc3M9XCJyYXRlX19yZXZpZXdzXCI+JysgcHJvZHVjdC5yYXRlLnJldmlld3NDb3VudCArJzwvYT5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX2NvbnRlbnRcIj4nO1xuXG5cblxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvZHVjdC5jb250ZW50LmRlc2NyaXB0aW9uICE9IHVuZGVmaW5lZCAmJiBwcm9kdWN0LmNvbnRlbnQuZGVzY3JpcHRpb24gIT0gXCJcIiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzxkaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fZGVzY3JpcHRpb25cIj4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8PSBwcm9kdWN0LmNvbnRlbnQuZGVzY3JpcHRpb24ubGVuZ3RoLTE7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGxpPicrIHByb2R1Y3QuY29udGVudC5kZXNjcmlwdGlvbltpXSArJzwvbGk+J1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPC91bD5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzxkaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19pdGVtc1wiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uICE9IHVuZGVmaW5lZCAmJiBwcm9kdWN0LmNvbnRlbnQuc3BlY2lmaWNhdGlvbiAhPSBcIlwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdj5cXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX3NwZWNpZmljYXRpb25cIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdHMtc3ViY2F0ZWdvcnlfX3NwZWNpZmljYXRpb24taGVhZFwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDw9IHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uLmhlYWQubGVuZ3RoLTE7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdiBzdHlsZT1cIndpZHRoOicrICgxMDAvcHJvZHVjdC5jb250ZW50LnNwZWNpZmljYXRpb24uaGVhZC5sZW5ndGgpICsnJVwiPicrIHByb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uLmhlYWRbaV0gKyc8L2Rpdj4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19zcGVjaWZpY2F0aW9uLWNvbnRlbnRcIj4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8PSBwcm9kdWN0LmNvbnRlbnQuc3BlY2lmaWNhdGlvbi5jb250ZW50Lmxlbmd0aC0xOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzxkaXYgc3R5bGU9XCJ3aWR0aDonKyAoMTAwL3Byb2R1Y3QuY29udGVudC5zcGVjaWZpY2F0aW9uLmhlYWQubGVuZ3RoKSArJyVcIj4nKyBwcm9kdWN0LmNvbnRlbnQuc3BlY2lmaWNhdGlvbi5jb250ZW50W2ldICsnPC9kaXY+J1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzYWxlUHJpY2UgIT0gdW5kZWZpbmVkICYmIHNhbGVQcmljZSAhPSBcIlwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19mb290ZXJcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fcHJpY2VcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGVsPicrIHNhbGVQcmljZSArJzwvZGVsPiAnKyBwcmljZSArJ1xcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0nPGRpdiBjbGFzcz1cInByb2R1Y3RzLXN1YmNhdGVnb3J5X19mb290ZXJcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9kdWN0cy1zdWJjYXRlZ29yeV9fcHJpY2VcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKyBwcmljZSArJ1xcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNXcmFwICs9JzxhIGhyZWY9XCInKyBwcm9kdWN0LnVybERldGFpbHMgKydcIiBjbGFzcz1cImJ0biBidG5fM1wiPnNlZSBkZXRhaWxzPC9hPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcblxuXG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAkKCcuY2F0ZWdvcnlfX3dyYXAnKS5odG1sKHByb2R1Y3RzV3JhcCk7XG5cbiAgICAgICAgICAgICAgICBfY2xvc2VMb2FkaW5nKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogX3BhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA6ICdnZXRfZmlsdGVyZWRfcHJvZHVjdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF9pbnB1dEhpZGRlbi52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VTb3J0aW5nOiBfc29ydGluZ1BhZ2UudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlU29ydGluZzogX3NvcnRpbmdEYXRlLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IF9pbnB1dEhpZGRlblBhZ2UudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZENhdGVnb3J5OiBfb2JqLmRhdGEoJ2lkLWNhdGVnb3J5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUGFyYW1ldGVyczogX2FkZGl0aW9uYWxQYXJhbWV0ZXJzLnNlcmlhbGl6ZSgpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICggbSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2FkZGl0aW9uYWxQYXJhbWV0ZXJzLnNlcmlhbGl6ZSgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Bhc3RlTmV3UHJvZHVjdHMoIG0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jcmVhdGVQYWdpbmF0aW9uKCBtICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlSW5IaWRkZW4gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgY2hlY2tGbGFnKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggY2hlY2tGbGFnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKF9vYmpWYWx1ZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIF9vYmpWYWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHByb3AgPT0gbmFtZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqVmFsdWVbcHJvcF0ucHVzaCh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29ialZhbHVlW25hbWVdID0gW3ZhbHVlXVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBfb2JqVmFsdWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHByb3AgPT0gbmFtZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gX29ialZhbHVlW3Byb3BdLmluZGV4T2YodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaSAhPSAtMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmpWYWx1ZVtwcm9wXS5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmpWYWx1ZVtuYW1lXS5sZW5ndGggPT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9vYmpWYWx1ZVtuYW1lXTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHZhciBzdHJGaW5pc2ggPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3RyVmFsdWVzID0gJycsXG4gICAgICAgICAgICAgICAgICAgIHN0ckZ1bGwgPSAnJyxcbiAgICAgICAgICAgICAgICAgICAgYXJyQWxsID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciBrZXkgaW4gX29ialZhbHVlICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9hcnIgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9vYmpWYWx1ZVsga2V5IF07XG5cbiAgICAgICAgICAgICAgICAgICAgX2Fyci5wdXNoKCBpdGVtICk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yKCB2YXIgaSA9IDA7IGkgPD0gX2Fyci5sZW5ndGgtMTsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0clZhbHVlcyA9IF9hcnIuam9pbignLCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzdHJGdWxsID0ga2V5ICsgJz0nICsgc3RyVmFsdWVzO1xuXG4gICAgICAgICAgICAgICAgICAgIGFyckFsbC5wdXNoKHN0ckZ1bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0ckZpbmlzaCA9IGFyckFsbC5qb2luKCcmJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfaW5wdXRIaWRkZW4udmFsKCBzdHJGaW5pc2ggKTtcblxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoJ2NhdGVnb3J5X3N1YicpICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9hZGRMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q29udGVudCgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkKCcuc2VhcmNoJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTZWFyY2goICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgU2VhcmNoID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2lucHV0ID0gX29iai5maW5kKCdpbnB1dFt0eXBlPXNlYXJjaF0nKSxcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgICAgICBfcGF0aCA9IF9vYmouZGF0YSgncGF0aCcpLFxuICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkID0gMCxcbiAgICAgICAgICAgIGNvdW50SXRlbXMgPSAwLFxuICAgICAgICAgICAgdmFsdWVJbnB1dCA9IF9pbnB1dC52YWwoKSxcbiAgICAgICAgICAgIF9yZXN1bHQgPSBfb2JqLmZpbmQoJy5zZWFyY2hfX3Jlc3VsdCcpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uKEkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQod2luZG93KS53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goSS5rZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZmlsdGVyKCcuYWN0aXZlJykubGVuZ3RoID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCdmb3JtJykuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZUlucHV0ID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB2YWx1ZUlucHV0Lmxlbmd0aCA+PSBfb2JqLmRhdGEoJ3N5bWJvbHMnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hamF4UmVxdWVzdCggJCh0aGlzKSwgdmFsdWVJbnB1dC5sZW5ndGgpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS52YWwoKSA9PSAnJyApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0LnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAga2V5ZG93bjogZnVuY3Rpb24oSSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh3aW5kb3cpLndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCggSS5rZXlDb2RlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3Jlc3VsdC5maW5kKCcuc2VhcmNoX19mb3VuZCBsaScpLmZpbHRlcignLmFjdGl2ZScpLmxlbmd0aCA9PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gX29iai5kYXRhKCdhY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZmlsdGVyKCcuYWN0aXZlJykuZmluZCgnYScpLmF0dHIoJ2hyZWYnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEkucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGNvdW50SXRlbXMgPiAwICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2tleUFjdGl2YXRlKCBJLmtleUNvZGUgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzdWdnZXN0U2VsZWN0ZWQgPT0gY291bnRJdGVtcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCA9IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5jbGljayggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCA9IDA7XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCJib2R5XCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBldmVudCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCIuc2VhcmNoX19mb3VuZCBsaVwiLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gY3VySXRlbS5maW5kKCdhJykudGV4dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXQudmFsKGN1clRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwia2V5ZG93blwiLFxuICAgICAgICAgICAgICAgICAgICBcIi5zZWFyY2hfX2ZvdW5kIGxpXCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKEkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKEkua2V5Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfa2V5QWN0aXZhdGUgPSBmdW5jdGlvbihuKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vYmoucGFyZW50cygpLmhhc0NsYXNzKCdzaXRlX19mb290ZXInKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggbiA9PSAzOCAmJiBzdWdnZXN0U2VsZWN0ZWQgPCBjb3VudEl0ZW1zICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0U2VsZWN0ZWQrKztcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBuID09IDQwICYmIHN1Z2dlc3RTZWxlY3RlZCA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHN1Z2dlc3RTZWxlY3RlZCA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQgbGknKS5lcSggLTEgLSAoc3VnZ2VzdFNlbGVjdGVkIC0gMSkgKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kIGxpJykuZXEoIC0xIC0gKHN1Z2dlc3RTZWxlY3RlZCAtIDEpICkuZmluZCgnYScpLnRleHQoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIHZhbHVlSW5wdXQgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBuID09IDQwICYmIHN1Z2dlc3RTZWxlY3RlZCA8IGNvdW50SXRlbXMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RTZWxlY3RlZCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIG4gPT0gMzggJiYgc3VnZ2VzdFNlbGVjdGVkID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdFNlbGVjdGVkLS07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggc3VnZ2VzdFNlbGVjdGVkID4gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdC5maW5kKCcuc2VhcmNoX19mb3VuZCBsaScpLmVxKCBzdWdnZXN0U2VsZWN0ZWQgLSAxICkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0LnZhbCggX3Jlc3VsdC5maW5kKCcuc2VhcmNoX19mb3VuZCBsaScpLmVxKCBzdWdnZXN0U2VsZWN0ZWQgLSAxICkuZmluZCgnYScpLnRleHQoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIHZhbHVlSW5wdXQgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGREYXRhID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBkYXRhLmNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNBdmFpbGFiaWxpdHkgPSBjYXRlZ29yaWVzLmxlbmd0aCAhPSAwLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cyA9IGRhdGEucHJvZHVjdHMsXG4gICAgICAgICAgICAgICAgICAgIGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FyciA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c0NhdGVnb3JpZXNBcnIgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgdXJsUHJvZHVjdHNDYXRlZ29yaWVzQXJyID0gW10sXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RzV3JhcCA9ICc8ZGl2IGNsYXNzPVwidG9wLXByb2R1Y3RzX193cmFwXCI+JztcblxuICAgICAgICAgICAgICAgICQuZWFjaCggcHJvZHVjdHMsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzxkaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvcC1wcm9kdWN0c19faXRlbVwiPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9wLXByb2R1Y3RzX19waWNcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJysgcHJvZHVjdC5zcmMgKydcIiB3aWR0aD1cIjQxNFwiIGhlaWdodD1cIjQxNFwiIGFsdD1cIicrIHByb2R1Y3QuYWx0ICsnXCI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRvcC1wcm9kdWN0c19fcHJpY2VcIj48ZGVsPicrIHByb2R1Y3Qub2xkUHJpY2UgKyc8L2RlbD4gJysgcHJvZHVjdC5wcmljZSArJzwvc3Bhbj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwidG9wLXByb2R1Y3RzX19pdGVtLXRpdGxlXCI+JysgcHJvZHVjdC5uYW1lICsnPC9oMz5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIicrIHByb2R1Y3QuaHJlZiArJ1wiIGNsYXNzPVwidG9wLXByb2R1Y3RzX19idG5cIj52aWV3PC9hPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgaWYoICFjYXRlZ29yaWVzQXZhaWxhYmlsaXR5ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnIucHVzaCggW3Byb2R1Y3QuY2F0ZWdvcmllcy5tYWluQ2F0ZWdvcnksIHByb2R1Y3QuY2F0ZWdvcmllcy51cmxNYWluQ2F0ZWdvcnksIHByb2R1Y3QuY2F0ZWdvcmllcy5zdWJjYXRlZ29yaWVzLCBwcm9kdWN0LmNhdGVnb3JpZXMudXJsU3ViY2F0ZWdvcmllc10gKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBwcm9kdWN0c1dyYXAgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICBfcmVzdWx0LmZpbmQoJ2RpdicpLmVxKDEpLmZpbmQoJy50b3AtcHJvZHVjdHMnKS5odG1sKHByb2R1Y3RzV3JhcCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0U3RyID0gJzx1bCBjbGFzcz1cInNlYXJjaF9fZm91bmRcIj4nO1xuXG4gICAgICAgICAgICAgICAgaWYoIGNhdGVnb3JpZXNBdmFpbGFiaWxpdHkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKCBjYXRlZ29yaWVzLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YmNhdGVnb3JpZXMgPSB0aGlzLnN1YmNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsU3ViY2F0ZWdvcmllcyA9IHRoaXMudXJsU3ViY2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjYXRlZ29yaWVzV3JhcCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggc3ViY2F0ZWdvcmllcyAhPSB1bmRlZmluZWQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8PSBzdWJjYXRlZ29yaWVzLmxlbmd0aC0xOyBpKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2F0ZWdvcmllc1dyYXAgKz0gJzxsaSBjbGFzcz1cInNlYXJjaF9fZm91bmQtc3ViXCI+PGEgaHJlZj1cIicrIHVybFN1YmNhdGVnb3JpZXNbaV0gKydcIj4nICsgc3ViY2F0ZWdvcmllc1tpXSArICc8L2E+PC9saT4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNhdGVnb3JpZXNXcmFwICs9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFN0ciArPSAnPGxpPjxhIGhyZWY9XCInKyB0aGlzLnVybENhdGVnb3J5ICsnXCI+JysgdGhpcy5uYW1lICsnPC9hPjwvbGk+Jysgc3ViY2F0ZWdvcmllc1dyYXAgKycnO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDw9IGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0Fyci5sZW5ndGgtMTsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggZmxhZyApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzQ2F0ZWdvcmllc0Fyci5wdXNoKGFsbFByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggcHJvZHVjdHNDYXRlZ29yaWVzQXJyW3Byb2R1Y3RzQ2F0ZWdvcmllc0Fyci5sZW5ndGgtMV1bMF0gIT0gYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzBdICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNDYXRlZ29yaWVzQXJyLnB1c2goYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBqID0gMDsgaiA8PSBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV0ubGVuZ3RoLTE7IGorKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgeiA9IDA7IHogPD0gYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzJdLmxlbmd0aC0xOyB6KysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbcHJvZHVjdHNDYXRlZ29yaWVzQXJyLmxlbmd0aC0xXVsyXS5pbmRleE9mKCBhbGxQcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMl1bel0pID09IC0xICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHNDYXRlZ29yaWVzQXJyW3Byb2R1Y3RzQ2F0ZWdvcmllc0Fyci5sZW5ndGgtMV1bMl0ucHVzaCggYWxsUHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzJdW3pdIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8PSBwcm9kdWN0c0NhdGVnb3JpZXNBcnIubGVuZ3RoLTE7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGogPSAwOyBqIDw9IHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXS5sZW5ndGgtMTsgaisrICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YmNhdGVnb3JpZXNXcmFwID0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoIHZhciB6ID0gMDsgeiA8PSBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMl0ubGVuZ3RoLTE7IHorKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjYXRlZ29yaWVzV3JhcCArPSAnPGxpIGNsYXNzPVwic2VhcmNoX19mb3VuZC1zdWJcIj48YSBocmVmPVwiJyArIHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVszXVt6XSArICdcIj4nICsgcHJvZHVjdHNDYXRlZ29yaWVzQXJyW2ldWzJdW3pdICsgJzwvYT48L2xpPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICsrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2F0ZWdvcmllc1dyYXAgKz0gJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0U3RyICs9ICc8bGk+PGEgaHJlZj1cIicgKyBwcm9kdWN0c0NhdGVnb3JpZXNBcnJbaV1bMV0gKyAnXCI+JyArIHByb2R1Y3RzQ2F0ZWdvcmllc0FycltpXVswXSArICc8L2E+PC9saT4nKyBzdWJjYXRlZ29yaWVzV3JhcCArJyc7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzdWx0U3RyICs9ICc8L3VsPic7XG5cbiAgICAgICAgICAgICAgICBfcmVzdWx0LmZpbmQoJ2RpdjpmaXJzdCcpLmh0bWwocmVzdWx0U3RyKTtcblxuICAgICAgICAgICAgICAgIF9yZXN1bHQuZmluZCgnLnNlYXJjaF9fZm91bmQnKS5maW5kKCdsaTpub3QoOmx0KDExKSknKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIGNvdW50SXRlbXMgPSBfcmVzdWx0LmZpbmQoJy5zZWFyY2hfX2ZvdW5kJykuZmluZCgnbGknKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBfcmVzdWx0LmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWpheFJlcXVlc3QgPSAgZnVuY3Rpb24oIGlucHV0LCBuICkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IF9wYXRoLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXQudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246J21haW5fc2VhcmNoJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoIG1zZyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIE9iamVjdC5rZXlzKG1zZykubGVuZ3RoICE9IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZERhdGEoIG1zZyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyJdfQ==
